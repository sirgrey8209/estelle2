var H0=Object.defineProperty;var K0=(e,n,o)=>n in e?H0(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o;var ut=(e,n,o)=>K0(e,typeof n!="symbol"?n+"":n,o);function G0(e,n){for(var o=0;o<n.length;o++){const s=n[o];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function o(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=o(a);fetch(a.href,l)}})();function xd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bu={exports:{}},qs={},ku={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function q0(){if(Vm)return Ne;Vm=1;var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function w(A){return A===null||typeof A!="object"?null:(A=x&&A[x]||A["@@iterator"],typeof A=="function"?A:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,b={};function k(A,B,Z){this.props=A,this.context=B,this.refs=b,this.updater=Z||S}k.prototype.isReactComponent={},k.prototype.setState=function(A,B){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,B,"setState")},k.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function N(){}N.prototype=k.prototype;function R(A,B,Z){this.props=A,this.context=B,this.refs=b,this.updater=Z||S}var _=R.prototype=new N;_.constructor=R,E(_,k.prototype),_.isPureReactComponent=!0;var I=Array.isArray,D=Object.prototype.hasOwnProperty,P={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function M(A,B,Z){var oe,he={},pe=null,le=null;if(B!=null)for(oe in B.ref!==void 0&&(le=B.ref),B.key!==void 0&&(pe=""+B.key),B)D.call(B,oe)&&!L.hasOwnProperty(oe)&&(he[oe]=B[oe]);var ge=arguments.length-2;if(ge===1)he.children=Z;else if(1<ge){for(var ve=Array(ge),ye=0;ye<ge;ye++)ve[ye]=arguments[ye+2];he.children=ve}if(A&&A.defaultProps)for(oe in ge=A.defaultProps,ge)he[oe]===void 0&&(he[oe]=ge[oe]);return{$$typeof:e,type:A,key:pe,ref:le,props:he,_owner:P.current}}function H(A,B){return{$$typeof:e,type:A.type,key:B,ref:A.ref,props:A.props,_owner:A._owner}}function Q(A){return typeof A=="object"&&A!==null&&A.$$typeof===e}function F(A){var B={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(Z){return B[Z]})}var U=/\/+/g;function q(A,B){return typeof A=="object"&&A!==null&&A.key!=null?F(""+A.key):B.toString(36)}function X(A,B,Z,oe,he){var pe=typeof A;(pe==="undefined"||pe==="boolean")&&(A=null);var le=!1;if(A===null)le=!0;else switch(pe){case"string":case"number":le=!0;break;case"object":switch(A.$$typeof){case e:case n:le=!0}}if(le)return le=A,he=he(le),A=oe===""?"."+q(le,0):oe,I(he)?(Z="",A!=null&&(Z=A.replace(U,"$&/")+"/"),X(he,B,Z,"",function(ye){return ye})):he!=null&&(Q(he)&&(he=H(he,Z+(!he.key||le&&le.key===he.key?"":(""+he.key).replace(U,"$&/")+"/")+A)),B.push(he)),1;if(le=0,oe=oe===""?".":oe+":",I(A))for(var ge=0;ge<A.length;ge++){pe=A[ge];var ve=oe+q(pe,ge);le+=X(pe,B,Z,ve,he)}else if(ve=w(A),typeof ve=="function")for(A=ve.call(A),ge=0;!(pe=A.next()).done;)pe=pe.value,ve=oe+q(pe,ge++),le+=X(pe,B,Z,ve,he);else if(pe==="object")throw B=String(A),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return le}function K(A,B,Z){if(A==null)return A;var oe=[],he=0;return X(A,oe,"","",function(pe){return B.call(Z,pe,he++)}),oe}function Y(A){if(A._status===-1){var B=A._result;B=B(),B.then(function(Z){(A._status===0||A._status===-1)&&(A._status=1,A._result=Z)},function(Z){(A._status===0||A._status===-1)&&(A._status=2,A._result=Z)}),A._status===-1&&(A._status=0,A._result=B)}if(A._status===1)return A._result.default;throw A._result}var ee={current:null},T={transition:null},V={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:T,ReactCurrentOwner:P};function J(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:K,forEach:function(A,B,Z){K(A,function(){B.apply(this,arguments)},Z)},count:function(A){var B=0;return K(A,function(){B++}),B},toArray:function(A){return K(A,function(B){return B})||[]},only:function(A){if(!Q(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Ne.Component=k,Ne.Fragment=o,Ne.Profiler=a,Ne.PureComponent=R,Ne.StrictMode=s,Ne.Suspense=p,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,Ne.act=J,Ne.cloneElement=function(A,B,Z){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var oe=E({},A.props),he=A.key,pe=A.ref,le=A._owner;if(B!=null){if(B.ref!==void 0&&(pe=B.ref,le=P.current),B.key!==void 0&&(he=""+B.key),A.type&&A.type.defaultProps)var ge=A.type.defaultProps;for(ve in B)D.call(B,ve)&&!L.hasOwnProperty(ve)&&(oe[ve]=B[ve]===void 0&&ge!==void 0?ge[ve]:B[ve])}var ve=arguments.length-2;if(ve===1)oe.children=Z;else if(1<ve){ge=Array(ve);for(var ye=0;ye<ve;ye++)ge[ye]=arguments[ye+2];oe.children=ge}return{$$typeof:e,type:A.type,key:he,ref:pe,props:oe,_owner:le}},Ne.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:l,_context:A},A.Consumer=A},Ne.createElement=M,Ne.createFactory=function(A){var B=M.bind(null,A);return B.type=A,B},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(A){return{$$typeof:f,render:A}},Ne.isValidElement=Q,Ne.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:Y}},Ne.memo=function(A,B){return{$$typeof:g,type:A,compare:B===void 0?null:B}},Ne.startTransition=function(A){var B=T.transition;T.transition={};try{A()}finally{T.transition=B}},Ne.unstable_act=J,Ne.useCallback=function(A,B){return ee.current.useCallback(A,B)},Ne.useContext=function(A){return ee.current.useContext(A)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(A){return ee.current.useDeferredValue(A)},Ne.useEffect=function(A,B){return ee.current.useEffect(A,B)},Ne.useId=function(){return ee.current.useId()},Ne.useImperativeHandle=function(A,B,Z){return ee.current.useImperativeHandle(A,B,Z)},Ne.useInsertionEffect=function(A,B){return ee.current.useInsertionEffect(A,B)},Ne.useLayoutEffect=function(A,B){return ee.current.useLayoutEffect(A,B)},Ne.useMemo=function(A,B){return ee.current.useMemo(A,B)},Ne.useReducer=function(A,B,Z){return ee.current.useReducer(A,B,Z)},Ne.useRef=function(A){return ee.current.useRef(A)},Ne.useState=function(A){return ee.current.useState(A)},Ne.useSyncExternalStore=function(A,B,Z){return ee.current.useSyncExternalStore(A,B,Z)},Ne.useTransition=function(){return ee.current.useTransition()},Ne.version="18.3.1",Ne}var Hm;function wd(){return Hm||(Hm=1,ku.exports=q0()),ku.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km;function Y0(){if(Km)return qs;Km=1;var e=wd(),n=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,p,g){var v,x={},w=null,S=null;g!==void 0&&(w=""+g),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(S=p.ref);for(v in p)s.call(p,v)&&!l.hasOwnProperty(v)&&(x[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)x[v]===void 0&&(x[v]=p[v]);return{$$typeof:n,type:f,key:w,ref:S,props:x,_owner:a.current}}return qs.Fragment=o,qs.jsx=u,qs.jsxs=u,qs}var Gm;function X0(){return Gm||(Gm=1,bu.exports=Y0()),bu.exports}var d=X0(),h=wd();const De=xd(h),Sd=G0({__proto__:null,default:De},[h]);var Pa={},Eu={exports:{}},At={},Nu={exports:{}},Ru={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function Q0(){return qm||(qm=1,(function(e){function n(T,V){var J=T.length;T.push(V);e:for(;0<J;){var A=J-1>>>1,B=T[A];if(0<a(B,V))T[A]=V,T[J]=B,J=A;else break e}}function o(T){return T.length===0?null:T[0]}function s(T){if(T.length===0)return null;var V=T[0],J=T.pop();if(J!==V){T[0]=J;e:for(var A=0,B=T.length,Z=B>>>1;A<Z;){var oe=2*(A+1)-1,he=T[oe],pe=oe+1,le=T[pe];if(0>a(he,J))pe<B&&0>a(le,he)?(T[A]=le,T[pe]=J,A=pe):(T[A]=he,T[oe]=J,A=oe);else if(pe<B&&0>a(le,J))T[A]=le,T[pe]=J,A=pe;else break e}}return V}function a(T,V){var J=T.sortIndex-V.sortIndex;return J!==0?J:T.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var p=[],g=[],v=1,x=null,w=3,S=!1,E=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(T){for(var V=o(g);V!==null;){if(V.callback===null)s(g);else if(V.startTime<=T)s(g),V.sortIndex=V.expirationTime,n(p,V);else break;V=o(g)}}function I(T){if(b=!1,_(T),!E)if(o(p)!==null)E=!0,Y(D);else{var V=o(g);V!==null&&ee(I,V.startTime-T)}}function D(T,V){E=!1,b&&(b=!1,N(M),M=-1),S=!0;var J=w;try{for(_(V),x=o(p);x!==null&&(!(x.expirationTime>V)||T&&!F());){var A=x.callback;if(typeof A=="function"){x.callback=null,w=x.priorityLevel;var B=A(x.expirationTime<=V);V=e.unstable_now(),typeof B=="function"?x.callback=B:x===o(p)&&s(p),_(V)}else s(p);x=o(p)}if(x!==null)var Z=!0;else{var oe=o(g);oe!==null&&ee(I,oe.startTime-V),Z=!1}return Z}finally{x=null,w=J,S=!1}}var P=!1,L=null,M=-1,H=5,Q=-1;function F(){return!(e.unstable_now()-Q<H)}function U(){if(L!==null){var T=e.unstable_now();Q=T;var V=!0;try{V=L(!0,T)}finally{V?q():(P=!1,L=null)}}else P=!1}var q;if(typeof R=="function")q=function(){R(U)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,K=X.port2;X.port1.onmessage=U,q=function(){K.postMessage(null)}}else q=function(){k(U,0)};function Y(T){L=T,P||(P=!0,q())}function ee(T,V){M=k(function(){T(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){E||S||(E=!0,Y(D))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return o(p)},e.unstable_next=function(T){switch(w){case 1:case 2:case 3:var V=3;break;default:V=w}var J=w;w=V;try{return T()}finally{w=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,V){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var J=w;w=T;try{return V()}finally{w=J}},e.unstable_scheduleCallback=function(T,V,J){var A=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?A+J:A):J=A,T){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=J+B,T={id:v++,callback:V,priorityLevel:T,startTime:J,expirationTime:B,sortIndex:-1},J>A?(T.sortIndex=J,n(g,T),o(p)===null&&T===o(g)&&(b?(N(M),M=-1):b=!0,ee(I,J-A))):(T.sortIndex=B,n(p,T),E||S||(E=!0,Y(D))),T},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(T){var V=w;return function(){var J=w;w=V;try{return T.apply(this,arguments)}finally{w=J}}}})(Ru)),Ru}var Ym;function J0(){return Ym||(Ym=1,Nu.exports=Q0()),Nu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm;function Z0(){if(Xm)return At;Xm=1;var e=wd(),n=J0();function o(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)r+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(t,r){u(t,r),u(t+"Capture",r)}function u(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},x={};function w(t){return p.call(x,t)?!0:p.call(v,t)?!1:g.test(t)?x[t]=!0:(v[t]=!0,!1)}function S(t,r,i,c){if(i!==null&&i.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function E(t,r,i,c){if(r===null||typeof r>"u"||S(t,r,i,c))return!0;if(c)return!1;if(i!==null)switch(i.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function b(t,r,i,c,m,y,C){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=m,this.mustUseProperty=i,this.propertyName=t,this.type=r,this.sanitizeURL=y,this.removeEmptyString=C}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){k[t]=new b(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];k[r]=new b(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){k[t]=new b(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){k[t]=new b(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){k[t]=new b(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){k[t]=new b(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){k[t]=new b(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){k[t]=new b(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){k[t]=new b(t,5,!1,t.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function R(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(N,R);k[r]=new b(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(N,R);k[r]=new b(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(N,R);k[r]=new b(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){k[t]=new b(t,1,!1,t.toLowerCase(),null,!1,!1)}),k.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){k[t]=new b(t,1,!1,t.toLowerCase(),null,!0,!0)});function _(t,r,i,c){var m=k.hasOwnProperty(r)?k[r]:null;(m!==null?m.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(E(r,i,m,c)&&(i=null),c||m===null?w(r)&&(i===null?t.removeAttribute(r):t.setAttribute(r,""+i)):m.mustUseProperty?t[m.propertyName]=i===null?m.type===3?!1:"":i:(r=m.attributeName,c=m.attributeNamespace,i===null?t.removeAttribute(r):(m=m.type,i=m===3||m===4&&i===!0?"":""+i,c?t.setAttributeNS(c,r,i):t.setAttribute(r,i))))}var I=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),P=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),F=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),T=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=T&&t[T]||t["@@iterator"],typeof t=="function"?t:null)}var J=Object.assign,A;function B(t){if(A===void 0)try{throw Error()}catch(i){var r=i.stack.trim().match(/\n( *(at )?)/);A=r&&r[1]||""}return`
`+A+t}var Z=!1;function oe(t,r){if(!t||Z)return"";Z=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(G){var c=G}Reflect.construct(t,[],r)}else{try{r.call()}catch(G){c=G}t.call(r.prototype)}else{try{throw Error()}catch(G){c=G}t()}}catch(G){if(G&&c&&typeof G.stack=="string"){for(var m=G.stack.split(`
`),y=c.stack.split(`
`),C=m.length-1,j=y.length-1;1<=C&&0<=j&&m[C]!==y[j];)j--;for(;1<=C&&0<=j;C--,j--)if(m[C]!==y[j]){if(C!==1||j!==1)do if(C--,j--,0>j||m[C]!==y[j]){var O=`
`+m[C].replace(" at new "," at ");return t.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",t.displayName)),O}while(1<=C&&0<=j);break}}}finally{Z=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?B(t):""}function he(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return t=oe(t.type,!1),t;case 11:return t=oe(t.type.render,!1),t;case 1:return t=oe(t.type,!0),t;default:return""}}function pe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case P:return"Portal";case H:return"Profiler";case M:return"StrictMode";case q:return"Suspense";case X:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case F:return(t.displayName||"Context")+".Consumer";case Q:return(t._context.displayName||"Context")+".Provider";case U:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case K:return r=t.displayName||null,r!==null?r:pe(t.type)||"Memo";case Y:r=t._payload,t=t._init;try{return pe(t(r))}catch{}}return null}function le(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(r);case 8:return r===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ge(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ve(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ye(t){var r=ve(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var m=i.get,y=i.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return m.call(this)},set:function(C){c=""+C,y.call(this,C)}}),Object.defineProperty(t,r,{enumerable:i.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Qe(t){t._valueTracker||(t._valueTracker=ye(t))}function He(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var i=r.getValue(),c="";return t&&(c=ve(t)?t.checked?"true":"false":t.value),t=c,t!==i?(r.setValue(t),!0):!1}function at(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pt(t,r){var i=r.checked;return J({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function rn(t,r){var i=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;i=ge(r.value!=null?r.value:i),t._wrapperState={initialChecked:c,initialValue:i,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function on(t,r){r=r.checked,r!=null&&_(t,"checked",r,!1)}function ur(t,r){on(t,r);var i=ge(r.value),c=r.type;if(i!=null)c==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Ht(t,r.type,i):r.hasOwnProperty("defaultValue")&&Ht(t,r.type,ge(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Hr(t,r,i){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,i||r===t.value||(t.value=r),t.defaultValue=r}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function Ht(t,r,i){(r!=="number"||at(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var Nt=Array.isArray;function sn(t,r,i,c){if(t=t.options,r){r={};for(var m=0;m<i.length;m++)r["$"+i[m]]=!0;for(i=0;i<t.length;i++)m=r.hasOwnProperty("$"+t[i].value),t[i].selected!==m&&(t[i].selected=m),m&&c&&(t[i].defaultSelected=!0)}else{for(i=""+ge(i),r=null,m=0;m<t.length;m++){if(t[m].value===i){t[m].selected=!0,c&&(t[m].defaultSelected=!0);return}r!==null||t[m].disabled||(r=t[m])}r!==null&&(r.selected=!0)}}function dr(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(o(91));return J({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ls(t,r){var i=r.value;if(i==null){if(i=r.children,r=r.defaultValue,i!=null){if(r!=null)throw Error(o(92));if(Nt(i)){if(1<i.length)throw Error(o(93));i=i[0]}r=i}r==null&&(r=""),i=r}t._wrapperState={initialValue:ge(i)}}function cs(t,r){var i=ge(r.value),c=ge(r.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),r.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),c!=null&&(t.defaultValue=""+c)}function Ei(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Ni(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jn(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Ni(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var an,fr=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,i,c,m){MSApp.execUnsafeLocalFunction(function(){return t(r,i,c,m)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(an=an||document.createElement("div"),an.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=an.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function pr(t,r){if(r){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=r;return}}t.textContent=r}var Rt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ri=["Webkit","ms","Moz","O"];Object.keys(Rt).forEach(function(t){Ri.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Rt[r]=Rt[t]})});function _i(t,r,i){return r==null||typeof r=="boolean"||r===""?"":i||typeof r!="number"||r===0||Rt.hasOwnProperty(t)&&Rt[t]?(""+r).trim():r+"px"}function ji(t,r){t=t.style;for(var i in r)if(r.hasOwnProperty(i)){var c=i.indexOf("--")===0,m=_i(i,r[i],c);i==="float"&&(i="cssFloat"),c?t.setProperty(i,m):t[i]=m}}var us=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function po(t,r){if(r){if(us[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(o(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(o(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(o(61))}if(r.style!=null&&typeof r.style!="object")throw Error(o(62))}}function ds(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mo=null;function fs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ps=null,mr=null,Fe=null;function mt(t){if(t=Ds(t)){if(typeof ps!="function")throw Error(o(280));var r=t.stateNode;r&&(r=Xi(r),ps(t.stateNode,t.type,r))}}function ht(t){mr?Fe?Fe.push(t):Fe=[t]:mr=t}function ln(){if(mr){var t=mr,r=Fe;if(Fe=mr=null,mt(t),r)for(t=0;t<r.length;t++)mt(r[t])}}function Ct(t,r){return t(r)}function gt(){}var _t=!1;function Kn(t,r,i){if(_t)return t(r,i);_t=!0;try{return Ct(t,r,i)}finally{_t=!1,(mr!==null||Fe!==null)&&(gt(),ln())}}function ze(t,r){var i=t.stateNode;if(i===null)return null;var c=Xi(i);if(c===null)return null;i=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(o(231,r,typeof i));return i}var Kt=!1;if(f)try{var vt={};Object.defineProperty(vt,"passive",{get:function(){Kt=!0}}),window.addEventListener("test",vt,vt),window.removeEventListener("test",vt,vt)}catch{Kt=!1}function cn(t,r,i,c,m,y,C,j,O){var G=Array.prototype.slice.call(arguments,3);try{r.apply(i,G)}catch(ne){this.onError(ne)}}var un=!1,Tn=null,Lt=!1,Gn=null,ms={onError:function(t){un=!0,Tn=t}};function Zx(t,r,i,c,m,y,C,j,O){un=!1,Tn=null,cn.apply(ms,arguments)}function ew(t,r,i,c,m,y,C,j,O){if(Zx.apply(this,arguments),un){if(un){var G=Tn;un=!1,Tn=null}else throw Error(o(198));Lt||(Lt=!0,Gn=G)}}function Kr(t){var r=t,i=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(i=r.return),t=r.return;while(t)}return r.tag===3?i:null}function pf(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function mf(t){if(Kr(t)!==t)throw Error(o(188))}function tw(t){var r=t.alternate;if(!r){if(r=Kr(t),r===null)throw Error(o(188));return r!==t?null:t}for(var i=t,c=r;;){var m=i.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){i=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===i)return mf(m),t;if(y===c)return mf(m),r;y=y.sibling}throw Error(o(188))}if(i.return!==c.return)i=m,c=y;else{for(var C=!1,j=m.child;j;){if(j===i){C=!0,i=m,c=y;break}if(j===c){C=!0,c=m,i=y;break}j=j.sibling}if(!C){for(j=y.child;j;){if(j===i){C=!0,i=y,c=m;break}if(j===c){C=!0,c=y,i=m;break}j=j.sibling}if(!C)throw Error(o(189))}}if(i.alternate!==c)throw Error(o(190))}if(i.tag!==3)throw Error(o(188));return i.stateNode.current===i?t:r}function hf(t){return t=tw(t),t!==null?gf(t):null}function gf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=gf(t);if(r!==null)return r;t=t.sibling}return null}var vf=n.unstable_scheduleCallback,yf=n.unstable_cancelCallback,nw=n.unstable_shouldYield,rw=n.unstable_requestPaint,Ke=n.unstable_now,ow=n.unstable_getCurrentPriorityLevel,Wl=n.unstable_ImmediatePriority,xf=n.unstable_UserBlockingPriority,Ti=n.unstable_NormalPriority,sw=n.unstable_LowPriority,wf=n.unstable_IdlePriority,Mi=null,Mn=null;function iw(t){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Mi,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:cw,aw=Math.log,lw=Math.LN2;function cw(t){return t>>>=0,t===0?32:31-(aw(t)/lw|0)|0}var Ii=64,Di=4194304;function hs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ai(t,r){var i=t.pendingLanes;if(i===0)return 0;var c=0,m=t.suspendedLanes,y=t.pingedLanes,C=i&268435455;if(C!==0){var j=C&~m;j!==0?c=hs(j):(y&=C,y!==0&&(c=hs(y)))}else C=i&~m,C!==0?c=hs(C):y!==0&&(c=hs(y));if(c===0)return 0;if(r!==0&&r!==c&&(r&m)===0&&(m=c&-c,y=r&-r,m>=y||m===16&&(y&4194240)!==0))return r;if((c&4)!==0&&(c|=i&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)i=31-dn(r),m=1<<i,c|=t[i],r&=~m;return c}function uw(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dw(t,r){for(var i=t.suspendedLanes,c=t.pingedLanes,m=t.expirationTimes,y=t.pendingLanes;0<y;){var C=31-dn(y),j=1<<C,O=m[C];O===-1?((j&i)===0||(j&c)!==0)&&(m[C]=uw(j,r)):O<=r&&(t.expiredLanes|=j),y&=~j}}function Vl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Sf(){var t=Ii;return Ii<<=1,(Ii&4194240)===0&&(Ii=64),t}function Hl(t){for(var r=[],i=0;31>i;i++)r.push(t);return r}function gs(t,r,i){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-dn(r),t[r]=i}function fw(t,r){var i=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<i;){var m=31-dn(i),y=1<<m;r[m]=0,c[m]=-1,t[m]=-1,i&=~y}}function Kl(t,r){var i=t.entangledLanes|=r;for(t=t.entanglements;i;){var c=31-dn(i),m=1<<c;m&r|t[c]&r&&(t[c]|=r),i&=~m}}var Ie=0;function Cf(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var bf,Gl,kf,Ef,Nf,ql=!1,Pi=[],hr=null,gr=null,vr=null,vs=new Map,ys=new Map,yr=[],pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rf(t,r){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":vs.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ys.delete(r.pointerId)}}function xs(t,r,i,c,m,y){return t===null||t.nativeEvent!==y?(t={blockedOn:r,domEventName:i,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},r!==null&&(r=Ds(r),r!==null&&Gl(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),t)}function mw(t,r,i,c,m){switch(r){case"focusin":return hr=xs(hr,t,r,i,c,m),!0;case"dragenter":return gr=xs(gr,t,r,i,c,m),!0;case"mouseover":return vr=xs(vr,t,r,i,c,m),!0;case"pointerover":var y=m.pointerId;return vs.set(y,xs(vs.get(y)||null,t,r,i,c,m)),!0;case"gotpointercapture":return y=m.pointerId,ys.set(y,xs(ys.get(y)||null,t,r,i,c,m)),!0}return!1}function _f(t){var r=Gr(t.target);if(r!==null){var i=Kr(r);if(i!==null){if(r=i.tag,r===13){if(r=pf(i),r!==null){t.blockedOn=r,Nf(t.priority,function(){kf(i)});return}}else if(r===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oi(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var i=Xl(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var c=new i.constructor(i.type,i);mo=c,i.target.dispatchEvent(c),mo=null}else return r=Ds(i),r!==null&&Gl(r),t.blockedOn=i,!1;r.shift()}return!0}function jf(t,r,i){Oi(t)&&i.delete(r)}function hw(){ql=!1,hr!==null&&Oi(hr)&&(hr=null),gr!==null&&Oi(gr)&&(gr=null),vr!==null&&Oi(vr)&&(vr=null),vs.forEach(jf),ys.forEach(jf)}function ws(t,r){t.blockedOn===r&&(t.blockedOn=null,ql||(ql=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,hw)))}function Ss(t){function r(m){return ws(m,t)}if(0<Pi.length){ws(Pi[0],t);for(var i=1;i<Pi.length;i++){var c=Pi[i];c.blockedOn===t&&(c.blockedOn=null)}}for(hr!==null&&ws(hr,t),gr!==null&&ws(gr,t),vr!==null&&ws(vr,t),vs.forEach(r),ys.forEach(r),i=0;i<yr.length;i++)c=yr[i],c.blockedOn===t&&(c.blockedOn=null);for(;0<yr.length&&(i=yr[0],i.blockedOn===null);)_f(i),i.blockedOn===null&&yr.shift()}var ho=I.ReactCurrentBatchConfig,Li=!0;function gw(t,r,i,c){var m=Ie,y=ho.transition;ho.transition=null;try{Ie=1,Yl(t,r,i,c)}finally{Ie=m,ho.transition=y}}function vw(t,r,i,c){var m=Ie,y=ho.transition;ho.transition=null;try{Ie=4,Yl(t,r,i,c)}finally{Ie=m,ho.transition=y}}function Yl(t,r,i,c){if(Li){var m=Xl(t,r,i,c);if(m===null)pc(t,r,c,Fi,i),Rf(t,c);else if(mw(m,t,r,i,c))c.stopPropagation();else if(Rf(t,c),r&4&&-1<pw.indexOf(t)){for(;m!==null;){var y=Ds(m);if(y!==null&&bf(y),y=Xl(t,r,i,c),y===null&&pc(t,r,c,Fi,i),y===m)break;m=y}m!==null&&c.stopPropagation()}else pc(t,r,c,null,i)}}var Fi=null;function Xl(t,r,i,c){if(Fi=null,t=fs(c),t=Gr(t),t!==null)if(r=Kr(t),r===null)t=null;else if(i=r.tag,i===13){if(t=pf(r),t!==null)return t;t=null}else if(i===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Fi=t,null}function Tf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ow()){case Wl:return 1;case xf:return 4;case Ti:case sw:return 16;case wf:return 536870912;default:return 16}default:return 16}}var xr=null,Ql=null,zi=null;function Mf(){if(zi)return zi;var t,r=Ql,i=r.length,c,m="value"in xr?xr.value:xr.textContent,y=m.length;for(t=0;t<i&&r[t]===m[t];t++);var C=i-t;for(c=1;c<=C&&r[i-c]===m[y-c];c++);return zi=m.slice(t,1<c?1-c:void 0)}function $i(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Ui(){return!0}function If(){return!1}function Ft(t){function r(i,c,m,y,C){this._reactName=i,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var j in t)t.hasOwnProperty(j)&&(i=t[j],this[j]=i?i(y):y[j]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ui:If,this.isPropagationStopped=If,this}return J(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),r}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jl=Ft(go),Cs=J({},go,{view:0,detail:0}),yw=Ft(Cs),Zl,ec,bs,Bi=J({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bs&&(bs&&t.type==="mousemove"?(Zl=t.screenX-bs.screenX,ec=t.screenY-bs.screenY):ec=Zl=0,bs=t),Zl)},movementY:function(t){return"movementY"in t?t.movementY:ec}}),Df=Ft(Bi),xw=J({},Bi,{dataTransfer:0}),ww=Ft(xw),Sw=J({},Cs,{relatedTarget:0}),tc=Ft(Sw),Cw=J({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),bw=Ft(Cw),kw=J({},go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ew=Ft(kw),Nw=J({},go,{data:0}),Af=Ft(Nw),Rw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_w={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tw(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=jw[t])?!!r[t]:!1}function nc(){return Tw}var Mw=J({},Cs,{key:function(t){if(t.key){var r=Rw[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=$i(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_w[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nc,charCode:function(t){return t.type==="keypress"?$i(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$i(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Iw=Ft(Mw),Dw=J({},Bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pf=Ft(Dw),Aw=J({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nc}),Pw=Ft(Aw),Ow=J({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lw=Ft(Ow),Fw=J({},Bi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zw=Ft(Fw),$w=[9,13,27,32],rc=f&&"CompositionEvent"in window,ks=null;f&&"documentMode"in document&&(ks=document.documentMode);var Uw=f&&"TextEvent"in window&&!ks,Of=f&&(!rc||ks&&8<ks&&11>=ks),Lf=" ",Ff=!1;function zf(t,r){switch(t){case"keyup":return $w.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $f(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vo=!1;function Bw(t,r){switch(t){case"compositionend":return $f(r);case"keypress":return r.which!==32?null:(Ff=!0,Lf);case"textInput":return t=r.data,t===Lf&&Ff?null:t;default:return null}}function Ww(t,r){if(vo)return t==="compositionend"||!rc&&zf(t,r)?(t=Mf(),zi=Ql=xr=null,vo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Of&&r.locale!=="ko"?null:r.data;default:return null}}var Vw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Vw[t.type]:r==="textarea"}function Bf(t,r,i,c){ht(c),r=Gi(r,"onChange"),0<r.length&&(i=new Jl("onChange","change",null,i,c),t.push({event:i,listeners:r}))}var Es=null,Ns=null;function Hw(t){ip(t,0)}function Wi(t){var r=Co(t);if(He(r))return t}function Kw(t,r){if(t==="change")return r}var Wf=!1;if(f){var oc;if(f){var sc="oninput"in document;if(!sc){var Vf=document.createElement("div");Vf.setAttribute("oninput","return;"),sc=typeof Vf.oninput=="function"}oc=sc}else oc=!1;Wf=oc&&(!document.documentMode||9<document.documentMode)}function Hf(){Es&&(Es.detachEvent("onpropertychange",Kf),Ns=Es=null)}function Kf(t){if(t.propertyName==="value"&&Wi(Ns)){var r=[];Bf(r,Ns,t,fs(t)),Kn(Hw,r)}}function Gw(t,r,i){t==="focusin"?(Hf(),Es=r,Ns=i,Es.attachEvent("onpropertychange",Kf)):t==="focusout"&&Hf()}function qw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wi(Ns)}function Yw(t,r){if(t==="click")return Wi(r)}function Xw(t,r){if(t==="input"||t==="change")return Wi(r)}function Qw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var fn=typeof Object.is=="function"?Object.is:Qw;function Rs(t,r){if(fn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var i=Object.keys(t),c=Object.keys(r);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var m=i[c];if(!p.call(r,m)||!fn(t[m],r[m]))return!1}return!0}function Gf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qf(t,r){var i=Gf(t);t=0;for(var c;i;){if(i.nodeType===3){if(c=t+i.textContent.length,t<=r&&c>=r)return{node:i,offset:r-t};t=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Gf(i)}}function Yf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Yf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Xf(){for(var t=window,r=at();r instanceof t.HTMLIFrameElement;){try{var i=typeof r.contentWindow.location.href=="string"}catch{i=!1}if(i)t=r.contentWindow;else break;r=at(t.document)}return r}function ic(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Jw(t){var r=Xf(),i=t.focusedElem,c=t.selectionRange;if(r!==i&&i&&i.ownerDocument&&Yf(i.ownerDocument.documentElement,i)){if(c!==null&&ic(i)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in i)i.selectionStart=r,i.selectionEnd=Math.min(t,i.value.length);else if(t=(r=i.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var m=i.textContent.length,y=Math.min(c.start,m);c=c.end===void 0?y:Math.min(c.end,m),!t.extend&&y>c&&(m=c,c=y,y=m),m=qf(i,y);var C=qf(i,c);m&&C&&(t.rangeCount!==1||t.anchorNode!==m.node||t.anchorOffset!==m.offset||t.focusNode!==C.node||t.focusOffset!==C.offset)&&(r=r.createRange(),r.setStart(m.node,m.offset),t.removeAllRanges(),y>c?(t.addRange(r),t.extend(C.node,C.offset)):(r.setEnd(C.node,C.offset),t.addRange(r)))}}for(r=[],t=i;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<r.length;i++)t=r[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Zw=f&&"documentMode"in document&&11>=document.documentMode,yo=null,ac=null,_s=null,lc=!1;function Qf(t,r,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;lc||yo==null||yo!==at(c)||(c=yo,"selectionStart"in c&&ic(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),_s&&Rs(_s,c)||(_s=c,c=Gi(ac,"onSelect"),0<c.length&&(r=new Jl("onSelect","select",null,r,i),t.push({event:r,listeners:c}),r.target=yo)))}function Vi(t,r){var i={};return i[t.toLowerCase()]=r.toLowerCase(),i["Webkit"+t]="webkit"+r,i["Moz"+t]="moz"+r,i}var xo={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionend:Vi("Transition","TransitionEnd")},cc={},Jf={};f&&(Jf=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function Hi(t){if(cc[t])return cc[t];if(!xo[t])return t;var r=xo[t],i;for(i in r)if(r.hasOwnProperty(i)&&i in Jf)return cc[t]=r[i];return t}var Zf=Hi("animationend"),ep=Hi("animationiteration"),tp=Hi("animationstart"),np=Hi("transitionend"),rp=new Map,op="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(t,r){rp.set(t,r),l(r,[t])}for(var uc=0;uc<op.length;uc++){var dc=op[uc],e0=dc.toLowerCase(),t0=dc[0].toUpperCase()+dc.slice(1);wr(e0,"on"+t0)}wr(Zf,"onAnimationEnd"),wr(ep,"onAnimationIteration"),wr(tp,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(np,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n0=new Set("cancel close invalid load scroll toggle".split(" ").concat(js));function sp(t,r,i){var c=t.type||"unknown-event";t.currentTarget=i,ew(c,r,void 0,t),t.currentTarget=null}function ip(t,r){r=(r&4)!==0;for(var i=0;i<t.length;i++){var c=t[i],m=c.event;c=c.listeners;e:{var y=void 0;if(r)for(var C=c.length-1;0<=C;C--){var j=c[C],O=j.instance,G=j.currentTarget;if(j=j.listener,O!==y&&m.isPropagationStopped())break e;sp(m,j,G),y=O}else for(C=0;C<c.length;C++){if(j=c[C],O=j.instance,G=j.currentTarget,j=j.listener,O!==y&&m.isPropagationStopped())break e;sp(m,j,G),y=O}}}if(Lt)throw t=Gn,Lt=!1,Gn=null,t}function Pe(t,r){var i=r[xc];i===void 0&&(i=r[xc]=new Set);var c=t+"__bubble";i.has(c)||(ap(r,t,2,!1),i.add(c))}function fc(t,r,i){var c=0;r&&(c|=4),ap(i,t,c,r)}var Ki="_reactListening"+Math.random().toString(36).slice(2);function Ts(t){if(!t[Ki]){t[Ki]=!0,s.forEach(function(i){i!=="selectionchange"&&(n0.has(i)||fc(i,!1,t),fc(i,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ki]||(r[Ki]=!0,fc("selectionchange",!1,r))}}function ap(t,r,i,c){switch(Tf(r)){case 1:var m=gw;break;case 4:m=vw;break;default:m=Yl}i=m.bind(null,r,i,t),m=void 0,!Kt||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?t.addEventListener(r,i,{capture:!0,passive:m}):t.addEventListener(r,i,!0):m!==void 0?t.addEventListener(r,i,{passive:m}):t.addEventListener(r,i,!1)}function pc(t,r,i,c,m){var y=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var j=c.stateNode.containerInfo;if(j===m||j.nodeType===8&&j.parentNode===m)break;if(C===4)for(C=c.return;C!==null;){var O=C.tag;if((O===3||O===4)&&(O=C.stateNode.containerInfo,O===m||O.nodeType===8&&O.parentNode===m))return;C=C.return}for(;j!==null;){if(C=Gr(j),C===null)return;if(O=C.tag,O===5||O===6){c=y=C;continue e}j=j.parentNode}}c=c.return}Kn(function(){var G=y,ne=fs(i),re=[];e:{var te=rp.get(t);if(te!==void 0){var ie=Jl,ce=t;switch(t){case"keypress":if($i(i)===0)break e;case"keydown":case"keyup":ie=Iw;break;case"focusin":ce="focus",ie=tc;break;case"focusout":ce="blur",ie=tc;break;case"beforeblur":case"afterblur":ie=tc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Df;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=ww;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Pw;break;case Zf:case ep:case tp:ie=bw;break;case np:ie=Lw;break;case"scroll":ie=yw;break;case"wheel":ie=zw;break;case"copy":case"cut":case"paste":ie=Ew;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Pf}var fe=(r&4)!==0,Ge=!fe&&t==="scroll",$=fe?te!==null?te+"Capture":null:te;fe=[];for(var z=G,W;z!==null;){W=z;var se=W.stateNode;if(W.tag===5&&se!==null&&(W=se,$!==null&&(se=ze(z,$),se!=null&&fe.push(Ms(z,se,W)))),Ge)break;z=z.return}0<fe.length&&(te=new ie(te,ce,null,i,ne),re.push({event:te,listeners:fe}))}}if((r&7)===0){e:{if(te=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",te&&i!==mo&&(ce=i.relatedTarget||i.fromElement)&&(Gr(ce)||ce[qn]))break e;if((ie||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(ce=i.relatedTarget||i.toElement,ie=G,ce=ce?Gr(ce):null,ce!==null&&(Ge=Kr(ce),ce!==Ge||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(ie=null,ce=G),ie!==ce)){if(fe=Df,se="onMouseLeave",$="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(fe=Pf,se="onPointerLeave",$="onPointerEnter",z="pointer"),Ge=ie==null?te:Co(ie),W=ce==null?te:Co(ce),te=new fe(se,z+"leave",ie,i,ne),te.target=Ge,te.relatedTarget=W,se=null,Gr(ne)===G&&(fe=new fe($,z+"enter",ce,i,ne),fe.target=W,fe.relatedTarget=Ge,se=fe),Ge=se,ie&&ce)t:{for(fe=ie,$=ce,z=0,W=fe;W;W=wo(W))z++;for(W=0,se=$;se;se=wo(se))W++;for(;0<z-W;)fe=wo(fe),z--;for(;0<W-z;)$=wo($),W--;for(;z--;){if(fe===$||$!==null&&fe===$.alternate)break t;fe=wo(fe),$=wo($)}fe=null}else fe=null;ie!==null&&lp(re,te,ie,fe,!1),ce!==null&&Ge!==null&&lp(re,Ge,ce,fe,!0)}}e:{if(te=G?Co(G):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var me=Kw;else if(Uf(te))if(Wf)me=Xw;else{me=qw;var we=Gw}else(ie=te.nodeName)&&ie.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(me=Yw);if(me&&(me=me(t,G))){Bf(re,me,i,ne);break e}we&&we(t,te,G),t==="focusout"&&(we=te._wrapperState)&&we.controlled&&te.type==="number"&&Ht(te,"number",te.value)}switch(we=G?Co(G):window,t){case"focusin":(Uf(we)||we.contentEditable==="true")&&(yo=we,ac=G,_s=null);break;case"focusout":_s=ac=yo=null;break;case"mousedown":lc=!0;break;case"contextmenu":case"mouseup":case"dragend":lc=!1,Qf(re,i,ne);break;case"selectionchange":if(Zw)break;case"keydown":case"keyup":Qf(re,i,ne)}var Se;if(rc)e:{switch(t){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else vo?zf(t,i)&&(Ce="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Ce="onCompositionStart");Ce&&(Of&&i.locale!=="ko"&&(vo||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&vo&&(Se=Mf()):(xr=ne,Ql="value"in xr?xr.value:xr.textContent,vo=!0)),we=Gi(G,Ce),0<we.length&&(Ce=new Af(Ce,t,null,i,ne),re.push({event:Ce,listeners:we}),Se?Ce.data=Se:(Se=$f(i),Se!==null&&(Ce.data=Se)))),(Se=Uw?Bw(t,i):Ww(t,i))&&(G=Gi(G,"onBeforeInput"),0<G.length&&(ne=new Af("onBeforeInput","beforeinput",null,i,ne),re.push({event:ne,listeners:G}),ne.data=Se))}ip(re,r)})}function Ms(t,r,i){return{instance:t,listener:r,currentTarget:i}}function Gi(t,r){for(var i=r+"Capture",c=[];t!==null;){var m=t,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=ze(t,i),y!=null&&c.unshift(Ms(t,y,m)),y=ze(t,r),y!=null&&c.push(Ms(t,y,m))),t=t.return}return c}function wo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lp(t,r,i,c,m){for(var y=r._reactName,C=[];i!==null&&i!==c;){var j=i,O=j.alternate,G=j.stateNode;if(O!==null&&O===c)break;j.tag===5&&G!==null&&(j=G,m?(O=ze(i,y),O!=null&&C.unshift(Ms(i,O,j))):m||(O=ze(i,y),O!=null&&C.push(Ms(i,O,j)))),i=i.return}C.length!==0&&t.push({event:r,listeners:C})}var r0=/\r\n?/g,o0=/\u0000|\uFFFD/g;function cp(t){return(typeof t=="string"?t:""+t).replace(r0,`
`).replace(o0,"")}function qi(t,r,i){if(r=cp(r),cp(t)!==r&&i)throw Error(o(425))}function Yi(){}var mc=null,hc=null;function gc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var vc=typeof setTimeout=="function"?setTimeout:void 0,s0=typeof clearTimeout=="function"?clearTimeout:void 0,up=typeof Promise=="function"?Promise:void 0,i0=typeof queueMicrotask=="function"?queueMicrotask:typeof up<"u"?function(t){return up.resolve(null).then(t).catch(a0)}:vc;function a0(t){setTimeout(function(){throw t})}function yc(t,r){var i=r,c=0;do{var m=i.nextSibling;if(t.removeChild(i),m&&m.nodeType===8)if(i=m.data,i==="/$"){if(c===0){t.removeChild(m),Ss(r);return}c--}else i!=="$"&&i!=="$?"&&i!=="$!"||c++;i=m}while(i);Ss(r)}function Sr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function dp(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(r===0)return t;r--}else i==="/$"&&r++}t=t.previousSibling}return null}var So=Math.random().toString(36).slice(2),In="__reactFiber$"+So,Is="__reactProps$"+So,qn="__reactContainer$"+So,xc="__reactEvents$"+So,l0="__reactListeners$"+So,c0="__reactHandles$"+So;function Gr(t){var r=t[In];if(r)return r;for(var i=t.parentNode;i;){if(r=i[qn]||i[In]){if(i=r.alternate,r.child!==null||i!==null&&i.child!==null)for(t=dp(t);t!==null;){if(i=t[In])return i;t=dp(t)}return r}t=i,i=t.parentNode}return null}function Ds(t){return t=t[In]||t[qn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(o(33))}function Xi(t){return t[Is]||null}var wc=[],bo=-1;function Cr(t){return{current:t}}function Oe(t){0>bo||(t.current=wc[bo],wc[bo]=null,bo--)}function Ae(t,r){bo++,wc[bo]=t.current,t.current=r}var br={},yt=Cr(br),jt=Cr(!1),qr=br;function ko(t,r){var i=t.type.contextTypes;if(!i)return br;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in i)m[y]=r[y];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=m),m}function Tt(t){return t=t.childContextTypes,t!=null}function Qi(){Oe(jt),Oe(yt)}function fp(t,r,i){if(yt.current!==br)throw Error(o(168));Ae(yt,r),Ae(jt,i)}function pp(t,r,i){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return i;c=c.getChildContext();for(var m in c)if(!(m in r))throw Error(o(108,le(t)||"Unknown",m));return J({},i,c)}function Ji(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||br,qr=yt.current,Ae(yt,t),Ae(jt,jt.current),!0}function mp(t,r,i){var c=t.stateNode;if(!c)throw Error(o(169));i?(t=pp(t,r,qr),c.__reactInternalMemoizedMergedChildContext=t,Oe(jt),Oe(yt),Ae(yt,t)):Oe(jt),Ae(jt,i)}var Yn=null,Zi=!1,Sc=!1;function hp(t){Yn===null?Yn=[t]:Yn.push(t)}function u0(t){Zi=!0,hp(t)}function kr(){if(!Sc&&Yn!==null){Sc=!0;var t=0,r=Ie;try{var i=Yn;for(Ie=1;t<i.length;t++){var c=i[t];do c=c(!0);while(c!==null)}Yn=null,Zi=!1}catch(m){throw Yn!==null&&(Yn=Yn.slice(t+1)),vf(Wl,kr),m}finally{Ie=r,Sc=!1}}return null}var Eo=[],No=0,ea=null,ta=0,Gt=[],qt=0,Yr=null,Xn=1,Qn="";function Xr(t,r){Eo[No++]=ta,Eo[No++]=ea,ea=t,ta=r}function gp(t,r,i){Gt[qt++]=Xn,Gt[qt++]=Qn,Gt[qt++]=Yr,Yr=t;var c=Xn;t=Qn;var m=32-dn(c)-1;c&=~(1<<m),i+=1;var y=32-dn(r)+m;if(30<y){var C=m-m%5;y=(c&(1<<C)-1).toString(32),c>>=C,m-=C,Xn=1<<32-dn(r)+m|i<<m|c,Qn=y+t}else Xn=1<<y|i<<m|c,Qn=t}function Cc(t){t.return!==null&&(Xr(t,1),gp(t,1,0))}function bc(t){for(;t===ea;)ea=Eo[--No],Eo[No]=null,ta=Eo[--No],Eo[No]=null;for(;t===Yr;)Yr=Gt[--qt],Gt[qt]=null,Qn=Gt[--qt],Gt[qt]=null,Xn=Gt[--qt],Gt[qt]=null}var zt=null,$t=null,Le=!1,pn=null;function vp(t,r){var i=Jt(5,null,null,0);i.elementType="DELETED",i.stateNode=r,i.return=t,r=t.deletions,r===null?(t.deletions=[i],t.flags|=16):r.push(i)}function yp(t,r){switch(t.tag){case 5:var i=t.type;return r=r.nodeType!==1||i.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,zt=t,$t=Sr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,zt=t,$t=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(i=Yr!==null?{id:Xn,overflow:Qn}:null,t.memoizedState={dehydrated:r,treeContext:i,retryLane:1073741824},i=Jt(18,null,null,0),i.stateNode=r,i.return=t,t.child=i,zt=t,$t=null,!0):!1;default:return!1}}function kc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ec(t){if(Le){var r=$t;if(r){var i=r;if(!yp(t,r)){if(kc(t))throw Error(o(418));r=Sr(i.nextSibling);var c=zt;r&&yp(t,r)?vp(c,i):(t.flags=t.flags&-4097|2,Le=!1,zt=t)}}else{if(kc(t))throw Error(o(418));t.flags=t.flags&-4097|2,Le=!1,zt=t}}}function xp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zt=t}function na(t){if(t!==zt)return!1;if(!Le)return xp(t),Le=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!gc(t.type,t.memoizedProps)),r&&(r=$t)){if(kc(t))throw wp(),Error(o(418));for(;r;)vp(t,r),r=Sr(r.nextSibling)}if(xp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(r===0){$t=Sr(t.nextSibling);break e}r--}else i!=="$"&&i!=="$!"&&i!=="$?"||r++}t=t.nextSibling}$t=null}}else $t=zt?Sr(t.stateNode.nextSibling):null;return!0}function wp(){for(var t=$t;t;)t=Sr(t.nextSibling)}function Ro(){$t=zt=null,Le=!1}function Nc(t){pn===null?pn=[t]:pn.push(t)}var d0=I.ReactCurrentBatchConfig;function As(t,r,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(o(309));var c=i.stateNode}if(!c)throw Error(o(147,t));var m=c,y=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===y?r.ref:(r=function(C){var j=m.refs;C===null?delete j[y]:j[y]=C},r._stringRef=y,r)}if(typeof t!="string")throw Error(o(284));if(!i._owner)throw Error(o(290,t))}return t}function ra(t,r){throw t=Object.prototype.toString.call(r),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Sp(t){var r=t._init;return r(t._payload)}function Cp(t){function r($,z){if(t){var W=$.deletions;W===null?($.deletions=[z],$.flags|=16):W.push(z)}}function i($,z){if(!t)return null;for(;z!==null;)r($,z),z=z.sibling;return null}function c($,z){for($=new Map;z!==null;)z.key!==null?$.set(z.key,z):$.set(z.index,z),z=z.sibling;return $}function m($,z){return $=Ir($,z),$.index=0,$.sibling=null,$}function y($,z,W){return $.index=W,t?(W=$.alternate,W!==null?(W=W.index,W<z?($.flags|=2,z):W):($.flags|=2,z)):($.flags|=1048576,z)}function C($){return t&&$.alternate===null&&($.flags|=2),$}function j($,z,W,se){return z===null||z.tag!==6?(z=vu(W,$.mode,se),z.return=$,z):(z=m(z,W),z.return=$,z)}function O($,z,W,se){var me=W.type;return me===L?ne($,z,W.props.children,se,W.key):z!==null&&(z.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Y&&Sp(me)===z.type)?(se=m(z,W.props),se.ref=As($,z,W),se.return=$,se):(se=Ra(W.type,W.key,W.props,null,$.mode,se),se.ref=As($,z,W),se.return=$,se)}function G($,z,W,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==W.containerInfo||z.stateNode.implementation!==W.implementation?(z=yu(W,$.mode,se),z.return=$,z):(z=m(z,W.children||[]),z.return=$,z)}function ne($,z,W,se,me){return z===null||z.tag!==7?(z=oo(W,$.mode,se,me),z.return=$,z):(z=m(z,W),z.return=$,z)}function re($,z,W){if(typeof z=="string"&&z!==""||typeof z=="number")return z=vu(""+z,$.mode,W),z.return=$,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return W=Ra(z.type,z.key,z.props,null,$.mode,W),W.ref=As($,null,z),W.return=$,W;case P:return z=yu(z,$.mode,W),z.return=$,z;case Y:var se=z._init;return re($,se(z._payload),W)}if(Nt(z)||V(z))return z=oo(z,$.mode,W,null),z.return=$,z;ra($,z)}return null}function te($,z,W,se){var me=z!==null?z.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return me!==null?null:j($,z,""+W,se);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case D:return W.key===me?O($,z,W,se):null;case P:return W.key===me?G($,z,W,se):null;case Y:return me=W._init,te($,z,me(W._payload),se)}if(Nt(W)||V(W))return me!==null?null:ne($,z,W,se,null);ra($,W)}return null}function ie($,z,W,se,me){if(typeof se=="string"&&se!==""||typeof se=="number")return $=$.get(W)||null,j(z,$,""+se,me);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case D:return $=$.get(se.key===null?W:se.key)||null,O(z,$,se,me);case P:return $=$.get(se.key===null?W:se.key)||null,G(z,$,se,me);case Y:var we=se._init;return ie($,z,W,we(se._payload),me)}if(Nt(se)||V(se))return $=$.get(W)||null,ne(z,$,se,me,null);ra(z,se)}return null}function ce($,z,W,se){for(var me=null,we=null,Se=z,Ce=z=0,ot=null;Se!==null&&Ce<W.length;Ce++){Se.index>Ce?(ot=Se,Se=null):ot=Se.sibling;var Me=te($,Se,W[Ce],se);if(Me===null){Se===null&&(Se=ot);break}t&&Se&&Me.alternate===null&&r($,Se),z=y(Me,z,Ce),we===null?me=Me:we.sibling=Me,we=Me,Se=ot}if(Ce===W.length)return i($,Se),Le&&Xr($,Ce),me;if(Se===null){for(;Ce<W.length;Ce++)Se=re($,W[Ce],se),Se!==null&&(z=y(Se,z,Ce),we===null?me=Se:we.sibling=Se,we=Se);return Le&&Xr($,Ce),me}for(Se=c($,Se);Ce<W.length;Ce++)ot=ie(Se,$,Ce,W[Ce],se),ot!==null&&(t&&ot.alternate!==null&&Se.delete(ot.key===null?Ce:ot.key),z=y(ot,z,Ce),we===null?me=ot:we.sibling=ot,we=ot);return t&&Se.forEach(function(Dr){return r($,Dr)}),Le&&Xr($,Ce),me}function fe($,z,W,se){var me=V(W);if(typeof me!="function")throw Error(o(150));if(W=me.call(W),W==null)throw Error(o(151));for(var we=me=null,Se=z,Ce=z=0,ot=null,Me=W.next();Se!==null&&!Me.done;Ce++,Me=W.next()){Se.index>Ce?(ot=Se,Se=null):ot=Se.sibling;var Dr=te($,Se,Me.value,se);if(Dr===null){Se===null&&(Se=ot);break}t&&Se&&Dr.alternate===null&&r($,Se),z=y(Dr,z,Ce),we===null?me=Dr:we.sibling=Dr,we=Dr,Se=ot}if(Me.done)return i($,Se),Le&&Xr($,Ce),me;if(Se===null){for(;!Me.done;Ce++,Me=W.next())Me=re($,Me.value,se),Me!==null&&(z=y(Me,z,Ce),we===null?me=Me:we.sibling=Me,we=Me);return Le&&Xr($,Ce),me}for(Se=c($,Se);!Me.done;Ce++,Me=W.next())Me=ie(Se,$,Ce,Me.value,se),Me!==null&&(t&&Me.alternate!==null&&Se.delete(Me.key===null?Ce:Me.key),z=y(Me,z,Ce),we===null?me=Me:we.sibling=Me,we=Me);return t&&Se.forEach(function(V0){return r($,V0)}),Le&&Xr($,Ce),me}function Ge($,z,W,se){if(typeof W=="object"&&W!==null&&W.type===L&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case D:e:{for(var me=W.key,we=z;we!==null;){if(we.key===me){if(me=W.type,me===L){if(we.tag===7){i($,we.sibling),z=m(we,W.props.children),z.return=$,$=z;break e}}else if(we.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Y&&Sp(me)===we.type){i($,we.sibling),z=m(we,W.props),z.ref=As($,we,W),z.return=$,$=z;break e}i($,we);break}else r($,we);we=we.sibling}W.type===L?(z=oo(W.props.children,$.mode,se,W.key),z.return=$,$=z):(se=Ra(W.type,W.key,W.props,null,$.mode,se),se.ref=As($,z,W),se.return=$,$=se)}return C($);case P:e:{for(we=W.key;z!==null;){if(z.key===we)if(z.tag===4&&z.stateNode.containerInfo===W.containerInfo&&z.stateNode.implementation===W.implementation){i($,z.sibling),z=m(z,W.children||[]),z.return=$,$=z;break e}else{i($,z);break}else r($,z);z=z.sibling}z=yu(W,$.mode,se),z.return=$,$=z}return C($);case Y:return we=W._init,Ge($,z,we(W._payload),se)}if(Nt(W))return ce($,z,W,se);if(V(W))return fe($,z,W,se);ra($,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,z!==null&&z.tag===6?(i($,z.sibling),z=m(z,W),z.return=$,$=z):(i($,z),z=vu(W,$.mode,se),z.return=$,$=z),C($)):i($,z)}return Ge}var _o=Cp(!0),bp=Cp(!1),oa=Cr(null),sa=null,jo=null,Rc=null;function _c(){Rc=jo=sa=null}function jc(t){var r=oa.current;Oe(oa),t._currentValue=r}function Tc(t,r,i){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===i)break;t=t.return}}function To(t,r){sa=t,Rc=jo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Mt=!0),t.firstContext=null)}function Yt(t){var r=t._currentValue;if(Rc!==t)if(t={context:t,memoizedValue:r,next:null},jo===null){if(sa===null)throw Error(o(308));jo=t,sa.dependencies={lanes:0,firstContext:t}}else jo=jo.next=t;return r}var Qr=null;function Mc(t){Qr===null?Qr=[t]:Qr.push(t)}function kp(t,r,i,c){var m=r.interleaved;return m===null?(i.next=i,Mc(r)):(i.next=m.next,m.next=i),r.interleaved=i,Jn(t,c)}function Jn(t,r){t.lanes|=r;var i=t.alternate;for(i!==null&&(i.lanes|=r),i=t,t=t.return;t!==null;)t.childLanes|=r,i=t.alternate,i!==null&&(i.childLanes|=r),i=t,t=t.return;return i.tag===3?i.stateNode:null}var Er=!1;function Ic(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ep(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zn(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Nr(t,r,i){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(je&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,Jn(t,i)}return m=c.interleaved,m===null?(r.next=r,Mc(c)):(r.next=m.next,m.next=r),c.interleaved=r,Jn(t,i)}function ia(t,r,i){if(r=r.updateQueue,r!==null&&(r=r.shared,(i&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,i|=c,r.lanes=i,Kl(t,i)}}function Np(t,r){var i=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var m=null,y=null;if(i=i.firstBaseUpdate,i!==null){do{var C={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};y===null?m=y=C:y=y.next=C,i=i.next}while(i!==null);y===null?m=y=r:y=y.next=r}else m=y=r;i={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,effects:c.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=r:t.next=r,i.lastBaseUpdate=r}function aa(t,r,i,c){var m=t.updateQueue;Er=!1;var y=m.firstBaseUpdate,C=m.lastBaseUpdate,j=m.shared.pending;if(j!==null){m.shared.pending=null;var O=j,G=O.next;O.next=null,C===null?y=G:C.next=G,C=O;var ne=t.alternate;ne!==null&&(ne=ne.updateQueue,j=ne.lastBaseUpdate,j!==C&&(j===null?ne.firstBaseUpdate=G:j.next=G,ne.lastBaseUpdate=O))}if(y!==null){var re=m.baseState;C=0,ne=G=O=null,j=y;do{var te=j.lane,ie=j.eventTime;if((c&te)===te){ne!==null&&(ne=ne.next={eventTime:ie,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var ce=t,fe=j;switch(te=r,ie=i,fe.tag){case 1:if(ce=fe.payload,typeof ce=="function"){re=ce.call(ie,re,te);break e}re=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=fe.payload,te=typeof ce=="function"?ce.call(ie,re,te):ce,te==null)break e;re=J({},re,te);break e;case 2:Er=!0}}j.callback!==null&&j.lane!==0&&(t.flags|=64,te=m.effects,te===null?m.effects=[j]:te.push(j))}else ie={eventTime:ie,lane:te,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ne===null?(G=ne=ie,O=re):ne=ne.next=ie,C|=te;if(j=j.next,j===null){if(j=m.shared.pending,j===null)break;te=j,j=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(ne===null&&(O=re),m.baseState=O,m.firstBaseUpdate=G,m.lastBaseUpdate=ne,r=m.shared.interleaved,r!==null){m=r;do C|=m.lane,m=m.next;while(m!==r)}else y===null&&(m.shared.lanes=0);eo|=C,t.lanes=C,t.memoizedState=re}}function Rp(t,r,i){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],m=c.callback;if(m!==null){if(c.callback=null,c=i,typeof m!="function")throw Error(o(191,m));m.call(c)}}}var Ps={},Dn=Cr(Ps),Os=Cr(Ps),Ls=Cr(Ps);function Jr(t){if(t===Ps)throw Error(o(174));return t}function Dc(t,r){switch(Ae(Ls,r),Ae(Os,t),Ae(Dn,Ps),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:jn(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=jn(r,t)}Oe(Dn),Ae(Dn,r)}function Mo(){Oe(Dn),Oe(Os),Oe(Ls)}function _p(t){Jr(Ls.current);var r=Jr(Dn.current),i=jn(r,t.type);r!==i&&(Ae(Os,t),Ae(Dn,i))}function Ac(t){Os.current===t&&(Oe(Dn),Oe(Os))}var $e=Cr(0);function la(t){for(var r=t;r!==null;){if(r.tag===13){var i=r.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Pc=[];function Oc(){for(var t=0;t<Pc.length;t++)Pc[t]._workInProgressVersionPrimary=null;Pc.length=0}var ca=I.ReactCurrentDispatcher,Lc=I.ReactCurrentBatchConfig,Zr=0,Ue=null,Je=null,nt=null,ua=!1,Fs=!1,zs=0,f0=0;function xt(){throw Error(o(321))}function Fc(t,r){if(r===null)return!1;for(var i=0;i<r.length&&i<t.length;i++)if(!fn(t[i],r[i]))return!1;return!0}function zc(t,r,i,c,m,y){if(Zr=y,Ue=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ca.current=t===null||t.memoizedState===null?g0:v0,t=i(c,m),Fs){y=0;do{if(Fs=!1,zs=0,25<=y)throw Error(o(301));y+=1,nt=Je=null,r.updateQueue=null,ca.current=y0,t=i(c,m)}while(Fs)}if(ca.current=pa,r=Je!==null&&Je.next!==null,Zr=0,nt=Je=Ue=null,ua=!1,r)throw Error(o(300));return t}function $c(){var t=zs!==0;return zs=0,t}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ue.memoizedState=nt=t:nt=nt.next=t,nt}function Xt(){if(Je===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var r=nt===null?Ue.memoizedState:nt.next;if(r!==null)nt=r,Je=t;else{if(t===null)throw Error(o(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},nt===null?Ue.memoizedState=nt=t:nt=nt.next=t}return nt}function $s(t,r){return typeof r=="function"?r(t):r}function Uc(t){var r=Xt(),i=r.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=t;var c=Je,m=c.baseQueue,y=i.pending;if(y!==null){if(m!==null){var C=m.next;m.next=y.next,y.next=C}c.baseQueue=m=y,i.pending=null}if(m!==null){y=m.next,c=c.baseState;var j=C=null,O=null,G=y;do{var ne=G.lane;if((Zr&ne)===ne)O!==null&&(O=O.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),c=G.hasEagerState?G.eagerState:t(c,G.action);else{var re={lane:ne,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};O===null?(j=O=re,C=c):O=O.next=re,Ue.lanes|=ne,eo|=ne}G=G.next}while(G!==null&&G!==y);O===null?C=c:O.next=j,fn(c,r.memoizedState)||(Mt=!0),r.memoizedState=c,r.baseState=C,r.baseQueue=O,i.lastRenderedState=c}if(t=i.interleaved,t!==null){m=t;do y=m.lane,Ue.lanes|=y,eo|=y,m=m.next;while(m!==t)}else m===null&&(i.lanes=0);return[r.memoizedState,i.dispatch]}function Bc(t){var r=Xt(),i=r.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=t;var c=i.dispatch,m=i.pending,y=r.memoizedState;if(m!==null){i.pending=null;var C=m=m.next;do y=t(y,C.action),C=C.next;while(C!==m);fn(y,r.memoizedState)||(Mt=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),i.lastRenderedState=y}return[y,c]}function jp(){}function Tp(t,r){var i=Ue,c=Xt(),m=r(),y=!fn(c.memoizedState,m);if(y&&(c.memoizedState=m,Mt=!0),c=c.queue,Wc(Dp.bind(null,i,c,t),[t]),c.getSnapshot!==r||y||nt!==null&&nt.memoizedState.tag&1){if(i.flags|=2048,Us(9,Ip.bind(null,i,c,m,r),void 0,null),rt===null)throw Error(o(349));(Zr&30)!==0||Mp(i,r,m)}return m}function Mp(t,r,i){t.flags|=16384,t={getSnapshot:r,value:i},r=Ue.updateQueue,r===null?(r={lastEffect:null,stores:null},Ue.updateQueue=r,r.stores=[t]):(i=r.stores,i===null?r.stores=[t]:i.push(t))}function Ip(t,r,i,c){r.value=i,r.getSnapshot=c,Ap(r)&&Pp(t)}function Dp(t,r,i){return i(function(){Ap(r)&&Pp(t)})}function Ap(t){var r=t.getSnapshot;t=t.value;try{var i=r();return!fn(t,i)}catch{return!0}}function Pp(t){var r=Jn(t,1);r!==null&&vn(r,t,1,-1)}function Op(t){var r=An();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:t},r.queue=t,t=t.dispatch=h0.bind(null,Ue,t),[r.memoizedState,t]}function Us(t,r,i,c){return t={tag:t,create:r,destroy:i,deps:c,next:null},r=Ue.updateQueue,r===null?(r={lastEffect:null,stores:null},Ue.updateQueue=r,r.lastEffect=t.next=t):(i=r.lastEffect,i===null?r.lastEffect=t.next=t:(c=i.next,i.next=t,t.next=c,r.lastEffect=t)),t}function Lp(){return Xt().memoizedState}function da(t,r,i,c){var m=An();Ue.flags|=t,m.memoizedState=Us(1|r,i,void 0,c===void 0?null:c)}function fa(t,r,i,c){var m=Xt();c=c===void 0?null:c;var y=void 0;if(Je!==null){var C=Je.memoizedState;if(y=C.destroy,c!==null&&Fc(c,C.deps)){m.memoizedState=Us(r,i,y,c);return}}Ue.flags|=t,m.memoizedState=Us(1|r,i,y,c)}function Fp(t,r){return da(8390656,8,t,r)}function Wc(t,r){return fa(2048,8,t,r)}function zp(t,r){return fa(4,2,t,r)}function $p(t,r){return fa(4,4,t,r)}function Up(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Bp(t,r,i){return i=i!=null?i.concat([t]):null,fa(4,4,Up.bind(null,r,t),i)}function Vc(){}function Wp(t,r){var i=Xt();r=r===void 0?null:r;var c=i.memoizedState;return c!==null&&r!==null&&Fc(r,c[1])?c[0]:(i.memoizedState=[t,r],t)}function Vp(t,r){var i=Xt();r=r===void 0?null:r;var c=i.memoizedState;return c!==null&&r!==null&&Fc(r,c[1])?c[0]:(t=t(),i.memoizedState=[t,r],t)}function Hp(t,r,i){return(Zr&21)===0?(t.baseState&&(t.baseState=!1,Mt=!0),t.memoizedState=i):(fn(i,r)||(i=Sf(),Ue.lanes|=i,eo|=i,t.baseState=!0),r)}function p0(t,r){var i=Ie;Ie=i!==0&&4>i?i:4,t(!0);var c=Lc.transition;Lc.transition={};try{t(!1),r()}finally{Ie=i,Lc.transition=c}}function Kp(){return Xt().memoizedState}function m0(t,r,i){var c=Tr(t);if(i={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null},Gp(t))qp(r,i);else if(i=kp(t,r,i,c),i!==null){var m=kt();vn(i,t,c,m),Yp(i,r,c)}}function h0(t,r,i){var c=Tr(t),m={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null};if(Gp(t))qp(r,m);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var C=r.lastRenderedState,j=y(C,i);if(m.hasEagerState=!0,m.eagerState=j,fn(j,C)){var O=r.interleaved;O===null?(m.next=m,Mc(r)):(m.next=O.next,O.next=m),r.interleaved=m;return}}catch{}finally{}i=kp(t,r,m,c),i!==null&&(m=kt(),vn(i,t,c,m),Yp(i,r,c))}}function Gp(t){var r=t.alternate;return t===Ue||r!==null&&r===Ue}function qp(t,r){Fs=ua=!0;var i=t.pending;i===null?r.next=r:(r.next=i.next,i.next=r),t.pending=r}function Yp(t,r,i){if((i&4194240)!==0){var c=r.lanes;c&=t.pendingLanes,i|=c,r.lanes=i,Kl(t,i)}}var pa={readContext:Yt,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},g0={readContext:Yt,useCallback:function(t,r){return An().memoizedState=[t,r===void 0?null:r],t},useContext:Yt,useEffect:Fp,useImperativeHandle:function(t,r,i){return i=i!=null?i.concat([t]):null,da(4194308,4,Up.bind(null,r,t),i)},useLayoutEffect:function(t,r){return da(4194308,4,t,r)},useInsertionEffect:function(t,r){return da(4,2,t,r)},useMemo:function(t,r){var i=An();return r=r===void 0?null:r,t=t(),i.memoizedState=[t,r],t},useReducer:function(t,r,i){var c=An();return r=i!==void 0?i(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=m0.bind(null,Ue,t),[c.memoizedState,t]},useRef:function(t){var r=An();return t={current:t},r.memoizedState=t},useState:Op,useDebugValue:Vc,useDeferredValue:function(t){return An().memoizedState=t},useTransition:function(){var t=Op(!1),r=t[0];return t=p0.bind(null,t[1]),An().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,i){var c=Ue,m=An();if(Le){if(i===void 0)throw Error(o(407));i=i()}else{if(i=r(),rt===null)throw Error(o(349));(Zr&30)!==0||Mp(c,r,i)}m.memoizedState=i;var y={value:i,getSnapshot:r};return m.queue=y,Fp(Dp.bind(null,c,y,t),[t]),c.flags|=2048,Us(9,Ip.bind(null,c,y,i,r),void 0,null),i},useId:function(){var t=An(),r=rt.identifierPrefix;if(Le){var i=Qn,c=Xn;i=(c&~(1<<32-dn(c)-1)).toString(32)+i,r=":"+r+"R"+i,i=zs++,0<i&&(r+="H"+i.toString(32)),r+=":"}else i=f0++,r=":"+r+"r"+i.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},v0={readContext:Yt,useCallback:Wp,useContext:Yt,useEffect:Wc,useImperativeHandle:Bp,useInsertionEffect:zp,useLayoutEffect:$p,useMemo:Vp,useReducer:Uc,useRef:Lp,useState:function(){return Uc($s)},useDebugValue:Vc,useDeferredValue:function(t){var r=Xt();return Hp(r,Je.memoizedState,t)},useTransition:function(){var t=Uc($s)[0],r=Xt().memoizedState;return[t,r]},useMutableSource:jp,useSyncExternalStore:Tp,useId:Kp,unstable_isNewReconciler:!1},y0={readContext:Yt,useCallback:Wp,useContext:Yt,useEffect:Wc,useImperativeHandle:Bp,useInsertionEffect:zp,useLayoutEffect:$p,useMemo:Vp,useReducer:Bc,useRef:Lp,useState:function(){return Bc($s)},useDebugValue:Vc,useDeferredValue:function(t){var r=Xt();return Je===null?r.memoizedState=t:Hp(r,Je.memoizedState,t)},useTransition:function(){var t=Bc($s)[0],r=Xt().memoizedState;return[t,r]},useMutableSource:jp,useSyncExternalStore:Tp,useId:Kp,unstable_isNewReconciler:!1};function mn(t,r){if(t&&t.defaultProps){r=J({},r),t=t.defaultProps;for(var i in t)r[i]===void 0&&(r[i]=t[i]);return r}return r}function Hc(t,r,i,c){r=t.memoizedState,i=i(c,r),i=i==null?r:J({},r,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var ma={isMounted:function(t){return(t=t._reactInternals)?Kr(t)===t:!1},enqueueSetState:function(t,r,i){t=t._reactInternals;var c=kt(),m=Tr(t),y=Zn(c,m);y.payload=r,i!=null&&(y.callback=i),r=Nr(t,y,m),r!==null&&(vn(r,t,m,c),ia(r,t,m))},enqueueReplaceState:function(t,r,i){t=t._reactInternals;var c=kt(),m=Tr(t),y=Zn(c,m);y.tag=1,y.payload=r,i!=null&&(y.callback=i),r=Nr(t,y,m),r!==null&&(vn(r,t,m,c),ia(r,t,m))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var i=kt(),c=Tr(t),m=Zn(i,c);m.tag=2,r!=null&&(m.callback=r),r=Nr(t,m,c),r!==null&&(vn(r,t,c,i),ia(r,t,c))}};function Xp(t,r,i,c,m,y,C){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,y,C):r.prototype&&r.prototype.isPureReactComponent?!Rs(i,c)||!Rs(m,y):!0}function Qp(t,r,i){var c=!1,m=br,y=r.contextType;return typeof y=="object"&&y!==null?y=Yt(y):(m=Tt(r)?qr:yt.current,c=r.contextTypes,y=(c=c!=null)?ko(t,m):br),r=new r(i,y),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ma,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=m,t.__reactInternalMemoizedMaskedChildContext=y),r}function Jp(t,r,i,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(i,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(i,c),r.state!==t&&ma.enqueueReplaceState(r,r.state,null)}function Kc(t,r,i,c){var m=t.stateNode;m.props=i,m.state=t.memoizedState,m.refs={},Ic(t);var y=r.contextType;typeof y=="object"&&y!==null?m.context=Yt(y):(y=Tt(r)?qr:yt.current,m.context=ko(t,y)),m.state=t.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Hc(t,r,y,i),m.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(r=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),r!==m.state&&ma.enqueueReplaceState(m,m.state,null),aa(t,i,m,c),m.state=t.memoizedState),typeof m.componentDidMount=="function"&&(t.flags|=4194308)}function Io(t,r){try{var i="",c=r;do i+=he(c),c=c.return;while(c);var m=i}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:t,source:r,stack:m,digest:null}}function Gc(t,r,i){return{value:t,source:null,stack:i??null,digest:r??null}}function qc(t,r){try{console.error(r.value)}catch(i){setTimeout(function(){throw i})}}var x0=typeof WeakMap=="function"?WeakMap:Map;function Zp(t,r,i){i=Zn(-1,i),i.tag=3,i.payload={element:null};var c=r.value;return i.callback=function(){Sa||(Sa=!0,cu=c),qc(t,r)},i}function em(t,r,i){i=Zn(-1,i),i.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var m=r.value;i.payload=function(){return c(m)},i.callback=function(){qc(t,r)}}var y=t.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(i.callback=function(){qc(t,r),typeof c!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var C=r.stack;this.componentDidCatch(r.value,{componentStack:C!==null?C:""})}),i}function tm(t,r,i){var c=t.pingCache;if(c===null){c=t.pingCache=new x0;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(i)||(m.add(i),t=D0.bind(null,t,r,i),r.then(t,t))}function nm(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function rm(t,r,i,c,m){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(r=Zn(-1,1),r.tag=2,Nr(i,r,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=m,t)}var w0=I.ReactCurrentOwner,Mt=!1;function bt(t,r,i,c){r.child=t===null?bp(r,null,i,c):_o(r,t.child,i,c)}function om(t,r,i,c,m){i=i.render;var y=r.ref;return To(r,m),c=zc(t,r,i,c,y,m),i=$c(),t!==null&&!Mt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~m,er(t,r,m)):(Le&&i&&Cc(r),r.flags|=1,bt(t,r,c,m),r.child)}function sm(t,r,i,c,m){if(t===null){var y=i.type;return typeof y=="function"&&!gu(y)&&y.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(r.tag=15,r.type=y,im(t,r,y,c,m)):(t=Ra(i.type,null,c,r,r.mode,m),t.ref=r.ref,t.return=r,r.child=t)}if(y=t.child,(t.lanes&m)===0){var C=y.memoizedProps;if(i=i.compare,i=i!==null?i:Rs,i(C,c)&&t.ref===r.ref)return er(t,r,m)}return r.flags|=1,t=Ir(y,c),t.ref=r.ref,t.return=r,r.child=t}function im(t,r,i,c,m){if(t!==null){var y=t.memoizedProps;if(Rs(y,c)&&t.ref===r.ref)if(Mt=!1,r.pendingProps=c=y,(t.lanes&m)!==0)(t.flags&131072)!==0&&(Mt=!0);else return r.lanes=t.lanes,er(t,r,m)}return Yc(t,r,i,c,m)}function am(t,r,i){var c=r.pendingProps,m=c.children,y=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Ao,Ut),Ut|=i;else{if((i&1073741824)===0)return t=y!==null?y.baseLanes|i:i,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Ae(Ao,Ut),Ut|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=y!==null?y.baseLanes:i,Ae(Ao,Ut),Ut|=c}else y!==null?(c=y.baseLanes|i,r.memoizedState=null):c=i,Ae(Ao,Ut),Ut|=c;return bt(t,r,m,i),r.child}function lm(t,r){var i=r.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(r.flags|=512,r.flags|=2097152)}function Yc(t,r,i,c,m){var y=Tt(i)?qr:yt.current;return y=ko(r,y),To(r,m),i=zc(t,r,i,c,y,m),c=$c(),t!==null&&!Mt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~m,er(t,r,m)):(Le&&c&&Cc(r),r.flags|=1,bt(t,r,i,m),r.child)}function cm(t,r,i,c,m){if(Tt(i)){var y=!0;Ji(r)}else y=!1;if(To(r,m),r.stateNode===null)ga(t,r),Qp(r,i,c),Kc(r,i,c,m),c=!0;else if(t===null){var C=r.stateNode,j=r.memoizedProps;C.props=j;var O=C.context,G=i.contextType;typeof G=="object"&&G!==null?G=Yt(G):(G=Tt(i)?qr:yt.current,G=ko(r,G));var ne=i.getDerivedStateFromProps,re=typeof ne=="function"||typeof C.getSnapshotBeforeUpdate=="function";re||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(j!==c||O!==G)&&Jp(r,C,c,G),Er=!1;var te=r.memoizedState;C.state=te,aa(r,c,C,m),O=r.memoizedState,j!==c||te!==O||jt.current||Er?(typeof ne=="function"&&(Hc(r,i,ne,c),O=r.memoizedState),(j=Er||Xp(r,i,j,c,te,O,G))?(re||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(r.flags|=4194308)):(typeof C.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=O),C.props=c,C.state=O,C.context=G,c=j):(typeof C.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{C=r.stateNode,Ep(t,r),j=r.memoizedProps,G=r.type===r.elementType?j:mn(r.type,j),C.props=G,re=r.pendingProps,te=C.context,O=i.contextType,typeof O=="object"&&O!==null?O=Yt(O):(O=Tt(i)?qr:yt.current,O=ko(r,O));var ie=i.getDerivedStateFromProps;(ne=typeof ie=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(j!==re||te!==O)&&Jp(r,C,c,O),Er=!1,te=r.memoizedState,C.state=te,aa(r,c,C,m);var ce=r.memoizedState;j!==re||te!==ce||jt.current||Er?(typeof ie=="function"&&(Hc(r,i,ie,c),ce=r.memoizedState),(G=Er||Xp(r,i,G,c,te,ce,O)||!1)?(ne||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(c,ce,O),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(c,ce,O)),typeof C.componentDidUpdate=="function"&&(r.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof C.componentDidUpdate!="function"||j===t.memoizedProps&&te===t.memoizedState||(r.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&te===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ce),C.props=c,C.state=ce,C.context=O,c=G):(typeof C.componentDidUpdate!="function"||j===t.memoizedProps&&te===t.memoizedState||(r.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||j===t.memoizedProps&&te===t.memoizedState||(r.flags|=1024),c=!1)}return Xc(t,r,i,c,y,m)}function Xc(t,r,i,c,m,y){lm(t,r);var C=(r.flags&128)!==0;if(!c&&!C)return m&&mp(r,i,!1),er(t,r,y);c=r.stateNode,w0.current=r;var j=C&&typeof i.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&C?(r.child=_o(r,t.child,null,y),r.child=_o(r,null,j,y)):bt(t,r,j,y),r.memoizedState=c.state,m&&mp(r,i,!0),r.child}function um(t){var r=t.stateNode;r.pendingContext?fp(t,r.pendingContext,r.pendingContext!==r.context):r.context&&fp(t,r.context,!1),Dc(t,r.containerInfo)}function dm(t,r,i,c,m){return Ro(),Nc(m),r.flags|=256,bt(t,r,i,c),r.child}var Qc={dehydrated:null,treeContext:null,retryLane:0};function Jc(t){return{baseLanes:t,cachePool:null,transitions:null}}function fm(t,r,i){var c=r.pendingProps,m=$e.current,y=!1,C=(r.flags&128)!==0,j;if((j=C)||(j=t!==null&&t.memoizedState===null?!1:(m&2)!==0),j?(y=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(m|=1),Ae($e,m&1),t===null)return Ec(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(C=c.children,t=c.fallback,y?(c=r.mode,y=r.child,C={mode:"hidden",children:C},(c&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=C):y=_a(C,c,0,null),t=oo(t,c,i,null),y.return=r,t.return=r,y.sibling=t,r.child=y,r.child.memoizedState=Jc(i),r.memoizedState=Qc,t):Zc(r,C));if(m=t.memoizedState,m!==null&&(j=m.dehydrated,j!==null))return S0(t,r,C,c,j,m,i);if(y){y=c.fallback,C=r.mode,m=t.child,j=m.sibling;var O={mode:"hidden",children:c.children};return(C&1)===0&&r.child!==m?(c=r.child,c.childLanes=0,c.pendingProps=O,r.deletions=null):(c=Ir(m,O),c.subtreeFlags=m.subtreeFlags&14680064),j!==null?y=Ir(j,y):(y=oo(y,C,i,null),y.flags|=2),y.return=r,c.return=r,c.sibling=y,r.child=c,c=y,y=r.child,C=t.child.memoizedState,C=C===null?Jc(i):{baseLanes:C.baseLanes|i,cachePool:null,transitions:C.transitions},y.memoizedState=C,y.childLanes=t.childLanes&~i,r.memoizedState=Qc,c}return y=t.child,t=y.sibling,c=Ir(y,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=i),c.return=r,c.sibling=null,t!==null&&(i=r.deletions,i===null?(r.deletions=[t],r.flags|=16):i.push(t)),r.child=c,r.memoizedState=null,c}function Zc(t,r){return r=_a({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function ha(t,r,i,c){return c!==null&&Nc(c),_o(r,t.child,null,i),t=Zc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function S0(t,r,i,c,m,y,C){if(i)return r.flags&256?(r.flags&=-257,c=Gc(Error(o(422))),ha(t,r,C,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(y=c.fallback,m=r.mode,c=_a({mode:"visible",children:c.children},m,0,null),y=oo(y,m,C,null),y.flags|=2,c.return=r,y.return=r,c.sibling=y,r.child=c,(r.mode&1)!==0&&_o(r,t.child,null,C),r.child.memoizedState=Jc(C),r.memoizedState=Qc,y);if((r.mode&1)===0)return ha(t,r,C,null);if(m.data==="$!"){if(c=m.nextSibling&&m.nextSibling.dataset,c)var j=c.dgst;return c=j,y=Error(o(419)),c=Gc(y,c,void 0),ha(t,r,C,c)}if(j=(C&t.childLanes)!==0,Mt||j){if(c=rt,c!==null){switch(C&-C){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(c.suspendedLanes|C))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Jn(t,m),vn(c,t,m,-1))}return hu(),c=Gc(Error(o(421))),ha(t,r,C,c)}return m.data==="$?"?(r.flags|=128,r.child=t.child,r=A0.bind(null,t),m._reactRetry=r,null):(t=y.treeContext,$t=Sr(m.nextSibling),zt=r,Le=!0,pn=null,t!==null&&(Gt[qt++]=Xn,Gt[qt++]=Qn,Gt[qt++]=Yr,Xn=t.id,Qn=t.overflow,Yr=r),r=Zc(r,c.children),r.flags|=4096,r)}function pm(t,r,i){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),Tc(t.return,r,i)}function eu(t,r,i,c,m){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:m}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=i,y.tailMode=m)}function mm(t,r,i){var c=r.pendingProps,m=c.revealOrder,y=c.tail;if(bt(t,r,c.children,i),c=$e.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pm(t,i,r);else if(t.tag===19)pm(t,i,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(Ae($e,c),(r.mode&1)===0)r.memoizedState=null;else switch(m){case"forwards":for(i=r.child,m=null;i!==null;)t=i.alternate,t!==null&&la(t)===null&&(m=i),i=i.sibling;i=m,i===null?(m=r.child,r.child=null):(m=i.sibling,i.sibling=null),eu(r,!1,m,i,y);break;case"backwards":for(i=null,m=r.child,r.child=null;m!==null;){if(t=m.alternate,t!==null&&la(t)===null){r.child=m;break}t=m.sibling,m.sibling=i,i=m,m=t}eu(r,!0,i,null,y);break;case"together":eu(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ga(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function er(t,r,i){if(t!==null&&(r.dependencies=t.dependencies),eo|=r.lanes,(i&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(o(153));if(r.child!==null){for(t=r.child,i=Ir(t,t.pendingProps),r.child=i,i.return=r;t.sibling!==null;)t=t.sibling,i=i.sibling=Ir(t,t.pendingProps),i.return=r;i.sibling=null}return r.child}function C0(t,r,i){switch(r.tag){case 3:um(r),Ro();break;case 5:_p(r);break;case 1:Tt(r.type)&&Ji(r);break;case 4:Dc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,m=r.memoizedProps.value;Ae(oa,c._currentValue),c._currentValue=m;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(Ae($e,$e.current&1),r.flags|=128,null):(i&r.child.childLanes)!==0?fm(t,r,i):(Ae($e,$e.current&1),t=er(t,r,i),t!==null?t.sibling:null);Ae($e,$e.current&1);break;case 19:if(c=(i&r.childLanes)!==0,(t.flags&128)!==0){if(c)return mm(t,r,i);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ae($e,$e.current),c)break;return null;case 22:case 23:return r.lanes=0,am(t,r,i)}return er(t,r,i)}var hm,tu,gm,vm;hm=function(t,r){for(var i=r.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},tu=function(){},gm=function(t,r,i,c){var m=t.memoizedProps;if(m!==c){t=r.stateNode,Jr(Dn.current);var y=null;switch(i){case"input":m=pt(t,m),c=pt(t,c),y=[];break;case"select":m=J({},m,{value:void 0}),c=J({},c,{value:void 0}),y=[];break;case"textarea":m=dr(t,m),c=dr(t,c),y=[];break;default:typeof m.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=Yi)}po(i,c);var C;i=null;for(G in m)if(!c.hasOwnProperty(G)&&m.hasOwnProperty(G)&&m[G]!=null)if(G==="style"){var j=m[G];for(C in j)j.hasOwnProperty(C)&&(i||(i={}),i[C]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(a.hasOwnProperty(G)?y||(y=[]):(y=y||[]).push(G,null));for(G in c){var O=c[G];if(j=m!=null?m[G]:void 0,c.hasOwnProperty(G)&&O!==j&&(O!=null||j!=null))if(G==="style")if(j){for(C in j)!j.hasOwnProperty(C)||O&&O.hasOwnProperty(C)||(i||(i={}),i[C]="");for(C in O)O.hasOwnProperty(C)&&j[C]!==O[C]&&(i||(i={}),i[C]=O[C])}else i||(y||(y=[]),y.push(G,i)),i=O;else G==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,j=j?j.__html:void 0,O!=null&&j!==O&&(y=y||[]).push(G,O)):G==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(G,""+O):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(a.hasOwnProperty(G)?(O!=null&&G==="onScroll"&&Pe("scroll",t),y||j===O||(y=[])):(y=y||[]).push(G,O))}i&&(y=y||[]).push("style",i);var G=y;(r.updateQueue=G)&&(r.flags|=4)}},vm=function(t,r,i,c){i!==c&&(r.flags|=4)};function Bs(t,r){if(!Le)switch(t.tailMode){case"hidden":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function wt(t){var r=t.alternate!==null&&t.alternate.child===t.child,i=0,c=0;if(r)for(var m=t.child;m!==null;)i|=m.lanes|m.childLanes,c|=m.subtreeFlags&14680064,c|=m.flags&14680064,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)i|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=c,t.childLanes=i,r}function b0(t,r,i){var c=r.pendingProps;switch(bc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(r),null;case 1:return Tt(r.type)&&Qi(),wt(r),null;case 3:return c=r.stateNode,Mo(),Oe(jt),Oe(yt),Oc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(na(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,pn!==null&&(fu(pn),pn=null))),tu(t,r),wt(r),null;case 5:Ac(r);var m=Jr(Ls.current);if(i=r.type,t!==null&&r.stateNode!=null)gm(t,r,i,c,m),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(o(166));return wt(r),null}if(t=Jr(Dn.current),na(r)){c=r.stateNode,i=r.type;var y=r.memoizedProps;switch(c[In]=r,c[Is]=y,t=(r.mode&1)!==0,i){case"dialog":Pe("cancel",c),Pe("close",c);break;case"iframe":case"object":case"embed":Pe("load",c);break;case"video":case"audio":for(m=0;m<js.length;m++)Pe(js[m],c);break;case"source":Pe("error",c);break;case"img":case"image":case"link":Pe("error",c),Pe("load",c);break;case"details":Pe("toggle",c);break;case"input":rn(c,y),Pe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!y.multiple},Pe("invalid",c);break;case"textarea":ls(c,y),Pe("invalid",c)}po(i,y),m=null;for(var C in y)if(y.hasOwnProperty(C)){var j=y[C];C==="children"?typeof j=="string"?c.textContent!==j&&(y.suppressHydrationWarning!==!0&&qi(c.textContent,j,t),m=["children",j]):typeof j=="number"&&c.textContent!==""+j&&(y.suppressHydrationWarning!==!0&&qi(c.textContent,j,t),m=["children",""+j]):a.hasOwnProperty(C)&&j!=null&&C==="onScroll"&&Pe("scroll",c)}switch(i){case"input":Qe(c),Hr(c,y,!0);break;case"textarea":Qe(c),Ei(c);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(c.onclick=Yi)}c=m,r.updateQueue=c,c!==null&&(r.flags|=4)}else{C=m.nodeType===9?m:m.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ni(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=C.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=C.createElement(i,{is:c.is}):(t=C.createElement(i),i==="select"&&(C=t,c.multiple?C.multiple=!0:c.size&&(C.size=c.size))):t=C.createElementNS(t,i),t[In]=r,t[Is]=c,hm(t,r,!1,!1),r.stateNode=t;e:{switch(C=ds(i,c),i){case"dialog":Pe("cancel",t),Pe("close",t),m=c;break;case"iframe":case"object":case"embed":Pe("load",t),m=c;break;case"video":case"audio":for(m=0;m<js.length;m++)Pe(js[m],t);m=c;break;case"source":Pe("error",t),m=c;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),m=c;break;case"details":Pe("toggle",t),m=c;break;case"input":rn(t,c),m=pt(t,c),Pe("invalid",t);break;case"option":m=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},m=J({},c,{value:void 0}),Pe("invalid",t);break;case"textarea":ls(t,c),m=dr(t,c),Pe("invalid",t);break;default:m=c}po(i,m),j=m;for(y in j)if(j.hasOwnProperty(y)){var O=j[y];y==="style"?ji(t,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&fr(t,O)):y==="children"?typeof O=="string"?(i!=="textarea"||O!=="")&&pr(t,O):typeof O=="number"&&pr(t,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(a.hasOwnProperty(y)?O!=null&&y==="onScroll"&&Pe("scroll",t):O!=null&&_(t,y,O,C))}switch(i){case"input":Qe(t),Hr(t,c,!1);break;case"textarea":Qe(t),Ei(t);break;case"option":c.value!=null&&t.setAttribute("value",""+ge(c.value));break;case"select":t.multiple=!!c.multiple,y=c.value,y!=null?sn(t,!!c.multiple,y,!1):c.defaultValue!=null&&sn(t,!!c.multiple,c.defaultValue,!0);break;default:typeof m.onClick=="function"&&(t.onclick=Yi)}switch(i){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return wt(r),null;case 6:if(t&&r.stateNode!=null)vm(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(o(166));if(i=Jr(Ls.current),Jr(Dn.current),na(r)){if(c=r.stateNode,i=r.memoizedProps,c[In]=r,(y=c.nodeValue!==i)&&(t=zt,t!==null))switch(t.tag){case 3:qi(c.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qi(c.nodeValue,i,(t.mode&1)!==0)}y&&(r.flags|=4)}else c=(i.nodeType===9?i:i.ownerDocument).createTextNode(c),c[In]=r,r.stateNode=c}return wt(r),null;case 13:if(Oe($e),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Le&&$t!==null&&(r.mode&1)!==0&&(r.flags&128)===0)wp(),Ro(),r.flags|=98560,y=!1;else if(y=na(r),c!==null&&c.dehydrated!==null){if(t===null){if(!y)throw Error(o(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(o(317));y[In]=r}else Ro(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;wt(r),y=!1}else pn!==null&&(fu(pn),pn=null),y=!0;if(!y)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=i,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||($e.current&1)!==0?Ze===0&&(Ze=3):hu())),r.updateQueue!==null&&(r.flags|=4),wt(r),null);case 4:return Mo(),tu(t,r),t===null&&Ts(r.stateNode.containerInfo),wt(r),null;case 10:return jc(r.type._context),wt(r),null;case 17:return Tt(r.type)&&Qi(),wt(r),null;case 19:if(Oe($e),y=r.memoizedState,y===null)return wt(r),null;if(c=(r.flags&128)!==0,C=y.rendering,C===null)if(c)Bs(y,!1);else{if(Ze!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(C=la(t),C!==null){for(r.flags|=128,Bs(y,!1),c=C.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=i,i=r.child;i!==null;)y=i,t=c,y.flags&=14680066,C=y.alternate,C===null?(y.childLanes=0,y.lanes=t,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=C.childLanes,y.lanes=C.lanes,y.child=C.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=C.memoizedProps,y.memoizedState=C.memoizedState,y.updateQueue=C.updateQueue,y.type=C.type,t=C.dependencies,y.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Ae($e,$e.current&1|2),r.child}t=t.sibling}y.tail!==null&&Ke()>Po&&(r.flags|=128,c=!0,Bs(y,!1),r.lanes=4194304)}else{if(!c)if(t=la(C),t!==null){if(r.flags|=128,c=!0,i=t.updateQueue,i!==null&&(r.updateQueue=i,r.flags|=4),Bs(y,!0),y.tail===null&&y.tailMode==="hidden"&&!C.alternate&&!Le)return wt(r),null}else 2*Ke()-y.renderingStartTime>Po&&i!==1073741824&&(r.flags|=128,c=!0,Bs(y,!1),r.lanes=4194304);y.isBackwards?(C.sibling=r.child,r.child=C):(i=y.last,i!==null?i.sibling=C:r.child=C,y.last=C)}return y.tail!==null?(r=y.tail,y.rendering=r,y.tail=r.sibling,y.renderingStartTime=Ke(),r.sibling=null,i=$e.current,Ae($e,c?i&1|2:i&1),r):(wt(r),null);case 22:case 23:return mu(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(Ut&1073741824)!==0&&(wt(r),r.subtreeFlags&6&&(r.flags|=8192)):wt(r),null;case 24:return null;case 25:return null}throw Error(o(156,r.tag))}function k0(t,r){switch(bc(r),r.tag){case 1:return Tt(r.type)&&Qi(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Mo(),Oe(jt),Oe(yt),Oc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return Ac(r),null;case 13:if(Oe($e),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(o(340));Ro()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Oe($e),null;case 4:return Mo(),null;case 10:return jc(r.type._context),null;case 22:case 23:return mu(),null;case 24:return null;default:return null}}var va=!1,St=!1,E0=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Do(t,r){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(c){We(t,r,c)}else i.current=null}function nu(t,r,i){try{i()}catch(c){We(t,r,c)}}var ym=!1;function N0(t,r){if(mc=Li,t=Xf(),ic(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{i.nodeType,y.nodeType}catch{i=null;break e}var C=0,j=-1,O=-1,G=0,ne=0,re=t,te=null;t:for(;;){for(var ie;re!==i||m!==0&&re.nodeType!==3||(j=C+m),re!==y||c!==0&&re.nodeType!==3||(O=C+c),re.nodeType===3&&(C+=re.nodeValue.length),(ie=re.firstChild)!==null;)te=re,re=ie;for(;;){if(re===t)break t;if(te===i&&++G===m&&(j=C),te===y&&++ne===c&&(O=C),(ie=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=ie}i=j===-1||O===-1?null:{start:j,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(hc={focusedElem:t,selectionRange:i},Li=!1,ae=r;ae!==null;)if(r=ae,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ae=t;else for(;ae!==null;){r=ae;try{var ce=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var fe=ce.memoizedProps,Ge=ce.memoizedState,$=r.stateNode,z=$.getSnapshotBeforeUpdate(r.elementType===r.type?fe:mn(r.type,fe),Ge);$.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var W=r.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(se){We(r,r.return,se)}if(t=r.sibling,t!==null){t.return=r.return,ae=t;break}ae=r.return}return ce=ym,ym=!1,ce}function Ws(t,r,i){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&t)===t){var y=m.destroy;m.destroy=void 0,y!==void 0&&nu(r,i,y)}m=m.next}while(m!==c)}}function ya(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var c=i.create;i.destroy=c()}i=i.next}while(i!==r)}}function ru(t){var r=t.ref;if(r!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof r=="function"?r(t):r.current=t}}function xm(t){var r=t.alternate;r!==null&&(t.alternate=null,xm(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[In],delete r[Is],delete r[xc],delete r[l0],delete r[c0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wm(t){return t.tag===5||t.tag===3||t.tag===4}function Sm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ou(t,r,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?i.nodeType===8?i.parentNode.insertBefore(t,r):i.insertBefore(t,r):(i.nodeType===8?(r=i.parentNode,r.insertBefore(t,i)):(r=i,r.appendChild(t)),i=i._reactRootContainer,i!=null||r.onclick!==null||(r.onclick=Yi));else if(c!==4&&(t=t.child,t!==null))for(ou(t,r,i),t=t.sibling;t!==null;)ou(t,r,i),t=t.sibling}function su(t,r,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?i.insertBefore(t,r):i.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(su(t,r,i),t=t.sibling;t!==null;)su(t,r,i),t=t.sibling}var lt=null,hn=!1;function Rr(t,r,i){for(i=i.child;i!==null;)Cm(t,r,i),i=i.sibling}function Cm(t,r,i){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Mi,i)}catch{}switch(i.tag){case 5:St||Do(i,r);case 6:var c=lt,m=hn;lt=null,Rr(t,r,i),lt=c,hn=m,lt!==null&&(hn?(t=lt,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):lt.removeChild(i.stateNode));break;case 18:lt!==null&&(hn?(t=lt,i=i.stateNode,t.nodeType===8?yc(t.parentNode,i):t.nodeType===1&&yc(t,i),Ss(t)):yc(lt,i.stateNode));break;case 4:c=lt,m=hn,lt=i.stateNode.containerInfo,hn=!0,Rr(t,r,i),lt=c,hn=m;break;case 0:case 11:case 14:case 15:if(!St&&(c=i.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){m=c=c.next;do{var y=m,C=y.destroy;y=y.tag,C!==void 0&&((y&2)!==0||(y&4)!==0)&&nu(i,r,C),m=m.next}while(m!==c)}Rr(t,r,i);break;case 1:if(!St&&(Do(i,r),c=i.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=i.memoizedProps,c.state=i.memoizedState,c.componentWillUnmount()}catch(j){We(i,r,j)}Rr(t,r,i);break;case 21:Rr(t,r,i);break;case 22:i.mode&1?(St=(c=St)||i.memoizedState!==null,Rr(t,r,i),St=c):Rr(t,r,i);break;default:Rr(t,r,i)}}function bm(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new E0),r.forEach(function(c){var m=P0.bind(null,t,c);i.has(c)||(i.add(c),c.then(m,m))})}}function gn(t,r){var i=r.deletions;if(i!==null)for(var c=0;c<i.length;c++){var m=i[c];try{var y=t,C=r,j=C;e:for(;j!==null;){switch(j.tag){case 5:lt=j.stateNode,hn=!1;break e;case 3:lt=j.stateNode.containerInfo,hn=!0;break e;case 4:lt=j.stateNode.containerInfo,hn=!0;break e}j=j.return}if(lt===null)throw Error(o(160));Cm(y,C,m),lt=null,hn=!1;var O=m.alternate;O!==null&&(O.return=null),m.return=null}catch(G){We(m,r,G)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)km(r,t),r=r.sibling}function km(t,r){var i=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gn(r,t),Pn(t),c&4){try{Ws(3,t,t.return),ya(3,t)}catch(fe){We(t,t.return,fe)}try{Ws(5,t,t.return)}catch(fe){We(t,t.return,fe)}}break;case 1:gn(r,t),Pn(t),c&512&&i!==null&&Do(i,i.return);break;case 5:if(gn(r,t),Pn(t),c&512&&i!==null&&Do(i,i.return),t.flags&32){var m=t.stateNode;try{pr(m,"")}catch(fe){We(t,t.return,fe)}}if(c&4&&(m=t.stateNode,m!=null)){var y=t.memoizedProps,C=i!==null?i.memoizedProps:y,j=t.type,O=t.updateQueue;if(t.updateQueue=null,O!==null)try{j==="input"&&y.type==="radio"&&y.name!=null&&on(m,y),ds(j,C);var G=ds(j,y);for(C=0;C<O.length;C+=2){var ne=O[C],re=O[C+1];ne==="style"?ji(m,re):ne==="dangerouslySetInnerHTML"?fr(m,re):ne==="children"?pr(m,re):_(m,ne,re,G)}switch(j){case"input":ur(m,y);break;case"textarea":cs(m,y);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var ie=y.value;ie!=null?sn(m,!!y.multiple,ie,!1):te!==!!y.multiple&&(y.defaultValue!=null?sn(m,!!y.multiple,y.defaultValue,!0):sn(m,!!y.multiple,y.multiple?[]:"",!1))}m[Is]=y}catch(fe){We(t,t.return,fe)}}break;case 6:if(gn(r,t),Pn(t),c&4){if(t.stateNode===null)throw Error(o(162));m=t.stateNode,y=t.memoizedProps;try{m.nodeValue=y}catch(fe){We(t,t.return,fe)}}break;case 3:if(gn(r,t),Pn(t),c&4&&i!==null&&i.memoizedState.isDehydrated)try{Ss(r.containerInfo)}catch(fe){We(t,t.return,fe)}break;case 4:gn(r,t),Pn(t);break;case 13:gn(r,t),Pn(t),m=t.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(lu=Ke())),c&4&&bm(t);break;case 22:if(ne=i!==null&&i.memoizedState!==null,t.mode&1?(St=(G=St)||ne,gn(r,t),St=G):gn(r,t),Pn(t),c&8192){if(G=t.memoizedState!==null,(t.stateNode.isHidden=G)&&!ne&&(t.mode&1)!==0)for(ae=t,ne=t.child;ne!==null;){for(re=ae=ne;ae!==null;){switch(te=ae,ie=te.child,te.tag){case 0:case 11:case 14:case 15:Ws(4,te,te.return);break;case 1:Do(te,te.return);var ce=te.stateNode;if(typeof ce.componentWillUnmount=="function"){c=te,i=te.return;try{r=c,ce.props=r.memoizedProps,ce.state=r.memoizedState,ce.componentWillUnmount()}catch(fe){We(c,i,fe)}}break;case 5:Do(te,te.return);break;case 22:if(te.memoizedState!==null){Rm(re);continue}}ie!==null?(ie.return=te,ae=ie):Rm(re)}ne=ne.sibling}e:for(ne=null,re=t;;){if(re.tag===5){if(ne===null){ne=re;try{m=re.stateNode,G?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(j=re.stateNode,O=re.memoizedProps.style,C=O!=null&&O.hasOwnProperty("display")?O.display:null,j.style.display=_i("display",C))}catch(fe){We(t,t.return,fe)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=G?"":re.memoizedProps}catch(fe){We(t,t.return,fe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===t)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===t)break e;for(;re.sibling===null;){if(re.return===null||re.return===t)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:gn(r,t),Pn(t),c&4&&bm(t);break;case 21:break;default:gn(r,t),Pn(t)}}function Pn(t){var r=t.flags;if(r&2){try{e:{for(var i=t.return;i!==null;){if(wm(i)){var c=i;break e}i=i.return}throw Error(o(160))}switch(c.tag){case 5:var m=c.stateNode;c.flags&32&&(pr(m,""),c.flags&=-33);var y=Sm(t);su(t,y,m);break;case 3:case 4:var C=c.stateNode.containerInfo,j=Sm(t);ou(t,j,C);break;default:throw Error(o(161))}}catch(O){We(t,t.return,O)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function R0(t,r,i){ae=t,Em(t)}function Em(t,r,i){for(var c=(t.mode&1)!==0;ae!==null;){var m=ae,y=m.child;if(m.tag===22&&c){var C=m.memoizedState!==null||va;if(!C){var j=m.alternate,O=j!==null&&j.memoizedState!==null||St;j=va;var G=St;if(va=C,(St=O)&&!G)for(ae=m;ae!==null;)C=ae,O=C.child,C.tag===22&&C.memoizedState!==null?_m(m):O!==null?(O.return=C,ae=O):_m(m);for(;y!==null;)ae=y,Em(y),y=y.sibling;ae=m,va=j,St=G}Nm(t)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,ae=y):Nm(t)}}function Nm(t){for(;ae!==null;){var r=ae;if((r.flags&8772)!==0){var i=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:St||ya(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!St)if(i===null)c.componentDidMount();else{var m=r.elementType===r.type?i.memoizedProps:mn(r.type,i.memoizedProps);c.componentDidUpdate(m,i.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var y=r.updateQueue;y!==null&&Rp(r,y,c);break;case 3:var C=r.updateQueue;if(C!==null){if(i=null,r.child!==null)switch(r.child.tag){case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}Rp(r,C,i)}break;case 5:var j=r.stateNode;if(i===null&&r.flags&4){i=j;var O=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&i.focus();break;case"img":O.src&&(i.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var G=r.alternate;if(G!==null){var ne=G.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&Ss(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}St||r.flags&512&&ru(r)}catch(te){We(r,r.return,te)}}if(r===t){ae=null;break}if(i=r.sibling,i!==null){i.return=r.return,ae=i;break}ae=r.return}}function Rm(t){for(;ae!==null;){var r=ae;if(r===t){ae=null;break}var i=r.sibling;if(i!==null){i.return=r.return,ae=i;break}ae=r.return}}function _m(t){for(;ae!==null;){var r=ae;try{switch(r.tag){case 0:case 11:case 15:var i=r.return;try{ya(4,r)}catch(O){We(r,i,O)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var m=r.return;try{c.componentDidMount()}catch(O){We(r,m,O)}}var y=r.return;try{ru(r)}catch(O){We(r,y,O)}break;case 5:var C=r.return;try{ru(r)}catch(O){We(r,C,O)}}}catch(O){We(r,r.return,O)}if(r===t){ae=null;break}var j=r.sibling;if(j!==null){j.return=r.return,ae=j;break}ae=r.return}}var _0=Math.ceil,xa=I.ReactCurrentDispatcher,iu=I.ReactCurrentOwner,Qt=I.ReactCurrentBatchConfig,je=0,rt=null,qe=null,ct=0,Ut=0,Ao=Cr(0),Ze=0,Vs=null,eo=0,wa=0,au=0,Hs=null,It=null,lu=0,Po=1/0,tr=null,Sa=!1,cu=null,_r=null,Ca=!1,jr=null,ba=0,Ks=0,uu=null,ka=-1,Ea=0;function kt(){return(je&6)!==0?Ke():ka!==-1?ka:ka=Ke()}function Tr(t){return(t.mode&1)===0?1:(je&2)!==0&&ct!==0?ct&-ct:d0.transition!==null?(Ea===0&&(Ea=Sf()),Ea):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:Tf(t.type)),t)}function vn(t,r,i,c){if(50<Ks)throw Ks=0,uu=null,Error(o(185));gs(t,i,c),((je&2)===0||t!==rt)&&(t===rt&&((je&2)===0&&(wa|=i),Ze===4&&Mr(t,ct)),Dt(t,c),i===1&&je===0&&(r.mode&1)===0&&(Po=Ke()+500,Zi&&kr()))}function Dt(t,r){var i=t.callbackNode;dw(t,r);var c=Ai(t,t===rt?ct:0);if(c===0)i!==null&&yf(i),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(i!=null&&yf(i),r===1)t.tag===0?u0(Tm.bind(null,t)):hp(Tm.bind(null,t)),i0(function(){(je&6)===0&&kr()}),i=null;else{switch(Cf(c)){case 1:i=Wl;break;case 4:i=xf;break;case 16:i=Ti;break;case 536870912:i=wf;break;default:i=Ti}i=Fm(i,jm.bind(null,t))}t.callbackPriority=r,t.callbackNode=i}}function jm(t,r){if(ka=-1,Ea=0,(je&6)!==0)throw Error(o(327));var i=t.callbackNode;if(Oo()&&t.callbackNode!==i)return null;var c=Ai(t,t===rt?ct:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||r)r=Na(t,c);else{r=c;var m=je;je|=2;var y=Im();(rt!==t||ct!==r)&&(tr=null,Po=Ke()+500,no(t,r));do try{M0();break}catch(j){Mm(t,j)}while(!0);_c(),xa.current=y,je=m,qe!==null?r=0:(rt=null,ct=0,r=Ze)}if(r!==0){if(r===2&&(m=Vl(t),m!==0&&(c=m,r=du(t,m))),r===1)throw i=Vs,no(t,0),Mr(t,c),Dt(t,Ke()),i;if(r===6)Mr(t,c);else{if(m=t.current.alternate,(c&30)===0&&!j0(m)&&(r=Na(t,c),r===2&&(y=Vl(t),y!==0&&(c=y,r=du(t,y))),r===1))throw i=Vs,no(t,0),Mr(t,c),Dt(t,Ke()),i;switch(t.finishedWork=m,t.finishedLanes=c,r){case 0:case 1:throw Error(o(345));case 2:ro(t,It,tr);break;case 3:if(Mr(t,c),(c&130023424)===c&&(r=lu+500-Ke(),10<r)){if(Ai(t,0)!==0)break;if(m=t.suspendedLanes,(m&c)!==c){kt(),t.pingedLanes|=t.suspendedLanes&m;break}t.timeoutHandle=vc(ro.bind(null,t,It,tr),r);break}ro(t,It,tr);break;case 4:if(Mr(t,c),(c&4194240)===c)break;for(r=t.eventTimes,m=-1;0<c;){var C=31-dn(c);y=1<<C,C=r[C],C>m&&(m=C),c&=~y}if(c=m,c=Ke()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*_0(c/1960))-c,10<c){t.timeoutHandle=vc(ro.bind(null,t,It,tr),c);break}ro(t,It,tr);break;case 5:ro(t,It,tr);break;default:throw Error(o(329))}}}return Dt(t,Ke()),t.callbackNode===i?jm.bind(null,t):null}function du(t,r){var i=Hs;return t.current.memoizedState.isDehydrated&&(no(t,r).flags|=256),t=Na(t,r),t!==2&&(r=It,It=i,r!==null&&fu(r)),t}function fu(t){It===null?It=t:It.push.apply(It,t)}function j0(t){for(var r=t;;){if(r.flags&16384){var i=r.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var c=0;c<i.length;c++){var m=i[c],y=m.getSnapshot;m=m.value;try{if(!fn(y(),m))return!1}catch{return!1}}}if(i=r.child,r.subtreeFlags&16384&&i!==null)i.return=r,r=i;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Mr(t,r){for(r&=~au,r&=~wa,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var i=31-dn(r),c=1<<i;t[i]=-1,r&=~c}}function Tm(t){if((je&6)!==0)throw Error(o(327));Oo();var r=Ai(t,0);if((r&1)===0)return Dt(t,Ke()),null;var i=Na(t,r);if(t.tag!==0&&i===2){var c=Vl(t);c!==0&&(r=c,i=du(t,c))}if(i===1)throw i=Vs,no(t,0),Mr(t,r),Dt(t,Ke()),i;if(i===6)throw Error(o(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,ro(t,It,tr),Dt(t,Ke()),null}function pu(t,r){var i=je;je|=1;try{return t(r)}finally{je=i,je===0&&(Po=Ke()+500,Zi&&kr())}}function to(t){jr!==null&&jr.tag===0&&(je&6)===0&&Oo();var r=je;je|=1;var i=Qt.transition,c=Ie;try{if(Qt.transition=null,Ie=1,t)return t()}finally{Ie=c,Qt.transition=i,je=r,(je&6)===0&&kr()}}function mu(){Ut=Ao.current,Oe(Ao)}function no(t,r){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,s0(i)),qe!==null)for(i=qe.return;i!==null;){var c=i;switch(bc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Qi();break;case 3:Mo(),Oe(jt),Oe(yt),Oc();break;case 5:Ac(c);break;case 4:Mo();break;case 13:Oe($e);break;case 19:Oe($e);break;case 10:jc(c.type._context);break;case 22:case 23:mu()}i=i.return}if(rt=t,qe=t=Ir(t.current,null),ct=Ut=r,Ze=0,Vs=null,au=wa=eo=0,It=Hs=null,Qr!==null){for(r=0;r<Qr.length;r++)if(i=Qr[r],c=i.interleaved,c!==null){i.interleaved=null;var m=c.next,y=i.pending;if(y!==null){var C=y.next;y.next=m,c.next=C}i.pending=c}Qr=null}return t}function Mm(t,r){do{var i=qe;try{if(_c(),ca.current=pa,ua){for(var c=Ue.memoizedState;c!==null;){var m=c.queue;m!==null&&(m.pending=null),c=c.next}ua=!1}if(Zr=0,nt=Je=Ue=null,Fs=!1,zs=0,iu.current=null,i===null||i.return===null){Ze=1,Vs=r,qe=null;break}e:{var y=t,C=i.return,j=i,O=r;if(r=ct,j.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var G=O,ne=j,re=ne.tag;if((ne.mode&1)===0&&(re===0||re===11||re===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ie=nm(C);if(ie!==null){ie.flags&=-257,rm(ie,C,j,y,r),ie.mode&1&&tm(y,G,r),r=ie,O=G;var ce=r.updateQueue;if(ce===null){var fe=new Set;fe.add(O),r.updateQueue=fe}else ce.add(O);break e}else{if((r&1)===0){tm(y,G,r),hu();break e}O=Error(o(426))}}else if(Le&&j.mode&1){var Ge=nm(C);if(Ge!==null){(Ge.flags&65536)===0&&(Ge.flags|=256),rm(Ge,C,j,y,r),Nc(Io(O,j));break e}}y=O=Io(O,j),Ze!==4&&(Ze=2),Hs===null?Hs=[y]:Hs.push(y),y=C;do{switch(y.tag){case 3:y.flags|=65536,r&=-r,y.lanes|=r;var $=Zp(y,O,r);Np(y,$);break e;case 1:j=O;var z=y.type,W=y.stateNode;if((y.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(_r===null||!_r.has(W)))){y.flags|=65536,r&=-r,y.lanes|=r;var se=em(y,j,r);Np(y,se);break e}}y=y.return}while(y!==null)}Am(i)}catch(me){r=me,qe===i&&i!==null&&(qe=i=i.return);continue}break}while(!0)}function Im(){var t=xa.current;return xa.current=pa,t===null?pa:t}function hu(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),rt===null||(eo&268435455)===0&&(wa&268435455)===0||Mr(rt,ct)}function Na(t,r){var i=je;je|=2;var c=Im();(rt!==t||ct!==r)&&(tr=null,no(t,r));do try{T0();break}catch(m){Mm(t,m)}while(!0);if(_c(),je=i,xa.current=c,qe!==null)throw Error(o(261));return rt=null,ct=0,Ze}function T0(){for(;qe!==null;)Dm(qe)}function M0(){for(;qe!==null&&!nw();)Dm(qe)}function Dm(t){var r=Lm(t.alternate,t,Ut);t.memoizedProps=t.pendingProps,r===null?Am(t):qe=r,iu.current=null}function Am(t){var r=t;do{var i=r.alternate;if(t=r.return,(r.flags&32768)===0){if(i=b0(i,r,Ut),i!==null){qe=i;return}}else{if(i=k0(i,r),i!==null){i.flags&=32767,qe=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,qe=null;return}}if(r=r.sibling,r!==null){qe=r;return}qe=r=t}while(r!==null);Ze===0&&(Ze=5)}function ro(t,r,i){var c=Ie,m=Qt.transition;try{Qt.transition=null,Ie=1,I0(t,r,i,c)}finally{Qt.transition=m,Ie=c}return null}function I0(t,r,i,c){do Oo();while(jr!==null);if((je&6)!==0)throw Error(o(327));i=t.finishedWork;var m=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0;var y=i.lanes|i.childLanes;if(fw(t,y),t===rt&&(qe=rt=null,ct=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Ca||(Ca=!0,Fm(Ti,function(){return Oo(),null})),y=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||y){y=Qt.transition,Qt.transition=null;var C=Ie;Ie=1;var j=je;je|=4,iu.current=null,N0(t,i),km(i,t),Jw(hc),Li=!!mc,hc=mc=null,t.current=i,R0(i),rw(),je=j,Ie=C,Qt.transition=y}else t.current=i;if(Ca&&(Ca=!1,jr=t,ba=m),y=t.pendingLanes,y===0&&(_r=null),iw(i.stateNode),Dt(t,Ke()),r!==null)for(c=t.onRecoverableError,i=0;i<r.length;i++)m=r[i],c(m.value,{componentStack:m.stack,digest:m.digest});if(Sa)throw Sa=!1,t=cu,cu=null,t;return(ba&1)!==0&&t.tag!==0&&Oo(),y=t.pendingLanes,(y&1)!==0?t===uu?Ks++:(Ks=0,uu=t):Ks=0,kr(),null}function Oo(){if(jr!==null){var t=Cf(ba),r=Qt.transition,i=Ie;try{if(Qt.transition=null,Ie=16>t?16:t,jr===null)var c=!1;else{if(t=jr,jr=null,ba=0,(je&6)!==0)throw Error(o(331));var m=je;for(je|=4,ae=t.current;ae!==null;){var y=ae,C=y.child;if((ae.flags&16)!==0){var j=y.deletions;if(j!==null){for(var O=0;O<j.length;O++){var G=j[O];for(ae=G;ae!==null;){var ne=ae;switch(ne.tag){case 0:case 11:case 15:Ws(8,ne,y)}var re=ne.child;if(re!==null)re.return=ne,ae=re;else for(;ae!==null;){ne=ae;var te=ne.sibling,ie=ne.return;if(xm(ne),ne===G){ae=null;break}if(te!==null){te.return=ie,ae=te;break}ae=ie}}}var ce=y.alternate;if(ce!==null){var fe=ce.child;if(fe!==null){ce.child=null;do{var Ge=fe.sibling;fe.sibling=null,fe=Ge}while(fe!==null)}}ae=y}}if((y.subtreeFlags&2064)!==0&&C!==null)C.return=y,ae=C;else e:for(;ae!==null;){if(y=ae,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ws(9,y,y.return)}var $=y.sibling;if($!==null){$.return=y.return,ae=$;break e}ae=y.return}}var z=t.current;for(ae=z;ae!==null;){C=ae;var W=C.child;if((C.subtreeFlags&2064)!==0&&W!==null)W.return=C,ae=W;else e:for(C=z;ae!==null;){if(j=ae,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:ya(9,j)}}catch(me){We(j,j.return,me)}if(j===C){ae=null;break e}var se=j.sibling;if(se!==null){se.return=j.return,ae=se;break e}ae=j.return}}if(je=m,kr(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Mi,t)}catch{}c=!0}return c}finally{Ie=i,Qt.transition=r}}return!1}function Pm(t,r,i){r=Io(i,r),r=Zp(t,r,1),t=Nr(t,r,1),r=kt(),t!==null&&(gs(t,1,r),Dt(t,r))}function We(t,r,i){if(t.tag===3)Pm(t,t,i);else for(;r!==null;){if(r.tag===3){Pm(r,t,i);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(_r===null||!_r.has(c))){t=Io(i,t),t=em(r,t,1),r=Nr(r,t,1),t=kt(),r!==null&&(gs(r,1,t),Dt(r,t));break}}r=r.return}}function D0(t,r,i){var c=t.pingCache;c!==null&&c.delete(r),r=kt(),t.pingedLanes|=t.suspendedLanes&i,rt===t&&(ct&i)===i&&(Ze===4||Ze===3&&(ct&130023424)===ct&&500>Ke()-lu?no(t,0):au|=i),Dt(t,r)}function Om(t,r){r===0&&((t.mode&1)===0?r=1:(r=Di,Di<<=1,(Di&130023424)===0&&(Di=4194304)));var i=kt();t=Jn(t,r),t!==null&&(gs(t,r,i),Dt(t,i))}function A0(t){var r=t.memoizedState,i=0;r!==null&&(i=r.retryLane),Om(t,i)}function P0(t,r){var i=0;switch(t.tag){case 13:var c=t.stateNode,m=t.memoizedState;m!==null&&(i=m.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(o(314))}c!==null&&c.delete(r),Om(t,i)}var Lm;Lm=function(t,r,i){if(t!==null)if(t.memoizedProps!==r.pendingProps||jt.current)Mt=!0;else{if((t.lanes&i)===0&&(r.flags&128)===0)return Mt=!1,C0(t,r,i);Mt=(t.flags&131072)!==0}else Mt=!1,Le&&(r.flags&1048576)!==0&&gp(r,ta,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;ga(t,r),t=r.pendingProps;var m=ko(r,yt.current);To(r,i),m=zc(null,r,c,t,m,i);var y=$c();return r.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Tt(c)?(y=!0,Ji(r)):y=!1,r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Ic(r),m.updater=ma,r.stateNode=m,m._reactInternals=r,Kc(r,c,t,i),r=Xc(null,r,c,!0,y,i)):(r.tag=0,Le&&y&&Cc(r),bt(null,r,m,i),r=r.child),r;case 16:c=r.elementType;e:{switch(ga(t,r),t=r.pendingProps,m=c._init,c=m(c._payload),r.type=c,m=r.tag=L0(c),t=mn(c,t),m){case 0:r=Yc(null,r,c,t,i);break e;case 1:r=cm(null,r,c,t,i);break e;case 11:r=om(null,r,c,t,i);break e;case 14:r=sm(null,r,c,mn(c.type,t),i);break e}throw Error(o(306,c,""))}return r;case 0:return c=r.type,m=r.pendingProps,m=r.elementType===c?m:mn(c,m),Yc(t,r,c,m,i);case 1:return c=r.type,m=r.pendingProps,m=r.elementType===c?m:mn(c,m),cm(t,r,c,m,i);case 3:e:{if(um(r),t===null)throw Error(o(387));c=r.pendingProps,y=r.memoizedState,m=y.element,Ep(t,r),aa(r,c,null,i);var C=r.memoizedState;if(c=C.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){m=Io(Error(o(423)),r),r=dm(t,r,c,i,m);break e}else if(c!==m){m=Io(Error(o(424)),r),r=dm(t,r,c,i,m);break e}else for($t=Sr(r.stateNode.containerInfo.firstChild),zt=r,Le=!0,pn=null,i=bp(r,null,c,i),r.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ro(),c===m){r=er(t,r,i);break e}bt(t,r,c,i)}r=r.child}return r;case 5:return _p(r),t===null&&Ec(r),c=r.type,m=r.pendingProps,y=t!==null?t.memoizedProps:null,C=m.children,gc(c,m)?C=null:y!==null&&gc(c,y)&&(r.flags|=32),lm(t,r),bt(t,r,C,i),r.child;case 6:return t===null&&Ec(r),null;case 13:return fm(t,r,i);case 4:return Dc(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=_o(r,null,c,i):bt(t,r,c,i),r.child;case 11:return c=r.type,m=r.pendingProps,m=r.elementType===c?m:mn(c,m),om(t,r,c,m,i);case 7:return bt(t,r,r.pendingProps,i),r.child;case 8:return bt(t,r,r.pendingProps.children,i),r.child;case 12:return bt(t,r,r.pendingProps.children,i),r.child;case 10:e:{if(c=r.type._context,m=r.pendingProps,y=r.memoizedProps,C=m.value,Ae(oa,c._currentValue),c._currentValue=C,y!==null)if(fn(y.value,C)){if(y.children===m.children&&!jt.current){r=er(t,r,i);break e}}else for(y=r.child,y!==null&&(y.return=r);y!==null;){var j=y.dependencies;if(j!==null){C=y.child;for(var O=j.firstContext;O!==null;){if(O.context===c){if(y.tag===1){O=Zn(-1,i&-i),O.tag=2;var G=y.updateQueue;if(G!==null){G=G.shared;var ne=G.pending;ne===null?O.next=O:(O.next=ne.next,ne.next=O),G.pending=O}}y.lanes|=i,O=y.alternate,O!==null&&(O.lanes|=i),Tc(y.return,i,r),j.lanes|=i;break}O=O.next}}else if(y.tag===10)C=y.type===r.type?null:y.child;else if(y.tag===18){if(C=y.return,C===null)throw Error(o(341));C.lanes|=i,j=C.alternate,j!==null&&(j.lanes|=i),Tc(C,i,r),C=y.sibling}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===r){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}bt(t,r,m.children,i),r=r.child}return r;case 9:return m=r.type,c=r.pendingProps.children,To(r,i),m=Yt(m),c=c(m),r.flags|=1,bt(t,r,c,i),r.child;case 14:return c=r.type,m=mn(c,r.pendingProps),m=mn(c.type,m),sm(t,r,c,m,i);case 15:return im(t,r,r.type,r.pendingProps,i);case 17:return c=r.type,m=r.pendingProps,m=r.elementType===c?m:mn(c,m),ga(t,r),r.tag=1,Tt(c)?(t=!0,Ji(r)):t=!1,To(r,i),Qp(r,c,m),Kc(r,c,m,i),Xc(null,r,c,!0,t,i);case 19:return mm(t,r,i);case 22:return am(t,r,i)}throw Error(o(156,r.tag))};function Fm(t,r){return vf(t,r)}function O0(t,r,i,c){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(t,r,i,c){return new O0(t,r,i,c)}function gu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function L0(t){if(typeof t=="function")return gu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===U)return 11;if(t===K)return 14}return 2}function Ir(t,r){var i=t.alternate;return i===null?(i=Jt(t.tag,r,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=r,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,r=t.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Ra(t,r,i,c,m,y){var C=2;if(c=t,typeof t=="function")gu(t)&&(C=1);else if(typeof t=="string")C=5;else e:switch(t){case L:return oo(i.children,m,y,r);case M:C=8,m|=8;break;case H:return t=Jt(12,i,r,m|2),t.elementType=H,t.lanes=y,t;case q:return t=Jt(13,i,r,m),t.elementType=q,t.lanes=y,t;case X:return t=Jt(19,i,r,m),t.elementType=X,t.lanes=y,t;case ee:return _a(i,m,y,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:C=10;break e;case F:C=9;break e;case U:C=11;break e;case K:C=14;break e;case Y:C=16,c=null;break e}throw Error(o(130,t==null?t:typeof t,""))}return r=Jt(C,i,r,m),r.elementType=t,r.type=c,r.lanes=y,r}function oo(t,r,i,c){return t=Jt(7,t,c,r),t.lanes=i,t}function _a(t,r,i,c){return t=Jt(22,t,c,r),t.elementType=ee,t.lanes=i,t.stateNode={isHidden:!1},t}function vu(t,r,i){return t=Jt(6,t,null,r),t.lanes=i,t}function yu(t,r,i){return r=Jt(4,t.children!==null?t.children:[],t.key,r),r.lanes=i,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function F0(t,r,i,c,m){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hl(0),this.expirationTimes=Hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hl(0),this.identifierPrefix=c,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function xu(t,r,i,c,m,y,C,j,O){return t=new F0(t,r,i,j,O),r===1?(r=1,y===!0&&(r|=8)):r=0,y=Jt(3,null,null,r),t.current=y,y.stateNode=t,y.memoizedState={element:c,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ic(y),t}function z0(t,r,i){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:c==null?null:""+c,children:t,containerInfo:r,implementation:i}}function zm(t){if(!t)return br;t=t._reactInternals;e:{if(Kr(t)!==t||t.tag!==1)throw Error(o(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Tt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(o(171))}if(t.tag===1){var i=t.type;if(Tt(i))return pp(t,i,r)}return r}function $m(t,r,i,c,m,y,C,j,O){return t=xu(i,c,!0,t,m,y,C,j,O),t.context=zm(null),i=t.current,c=kt(),m=Tr(i),y=Zn(c,m),y.callback=r??null,Nr(i,y,m),t.current.lanes=m,gs(t,m,c),Dt(t,c),t}function ja(t,r,i,c){var m=r.current,y=kt(),C=Tr(m);return i=zm(i),r.context===null?r.context=i:r.pendingContext=i,r=Zn(y,C),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=Nr(m,r,C),t!==null&&(vn(t,m,C,y),ia(t,m,C)),C}function Ta(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Um(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<r?i:r}}function wu(t,r){Um(t,r),(t=t.alternate)&&Um(t,r)}function $0(){return null}var Bm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Su(t){this._internalRoot=t}Ma.prototype.render=Su.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(o(409));ja(t,r,null,null)},Ma.prototype.unmount=Su.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;to(function(){ja(null,t,null,null)}),r[qn]=null}};function Ma(t){this._internalRoot=t}Ma.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ef();t={blockedOn:null,target:t,priority:r};for(var i=0;i<yr.length&&r!==0&&r<yr[i].priority;i++);yr.splice(i,0,t),i===0&&_f(t)}};function Cu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ia(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wm(){}function U0(t,r,i,c,m){if(m){if(typeof c=="function"){var y=c;c=function(){var G=Ta(C);y.call(G)}}var C=$m(r,c,t,0,null,!1,!1,"",Wm);return t._reactRootContainer=C,t[qn]=C.current,Ts(t.nodeType===8?t.parentNode:t),to(),C}for(;m=t.lastChild;)t.removeChild(m);if(typeof c=="function"){var j=c;c=function(){var G=Ta(O);j.call(G)}}var O=xu(t,0,!1,null,null,!1,!1,"",Wm);return t._reactRootContainer=O,t[qn]=O.current,Ts(t.nodeType===8?t.parentNode:t),to(function(){ja(r,O,i,c)}),O}function Da(t,r,i,c,m){var y=i._reactRootContainer;if(y){var C=y;if(typeof m=="function"){var j=m;m=function(){var O=Ta(C);j.call(O)}}ja(r,C,t,m)}else C=U0(i,r,t,m,c);return Ta(C)}bf=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var i=hs(r.pendingLanes);i!==0&&(Kl(r,i|1),Dt(r,Ke()),(je&6)===0&&(Po=Ke()+500,kr()))}break;case 13:to(function(){var c=Jn(t,1);if(c!==null){var m=kt();vn(c,t,1,m)}}),wu(t,1)}},Gl=function(t){if(t.tag===13){var r=Jn(t,134217728);if(r!==null){var i=kt();vn(r,t,134217728,i)}wu(t,134217728)}},kf=function(t){if(t.tag===13){var r=Tr(t),i=Jn(t,r);if(i!==null){var c=kt();vn(i,t,r,c)}wu(t,r)}},Ef=function(){return Ie},Nf=function(t,r){var i=Ie;try{return Ie=t,r()}finally{Ie=i}},ps=function(t,r,i){switch(r){case"input":if(ur(t,i),r=i.name,i.type==="radio"&&r!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<i.length;r++){var c=i[r];if(c!==t&&c.form===t.form){var m=Xi(c);if(!m)throw Error(o(90));He(c),ur(c,m)}}}break;case"textarea":cs(t,i);break;case"select":r=i.value,r!=null&&sn(t,!!i.multiple,r,!1)}},Ct=pu,gt=to;var B0={usingClientEntryPoint:!1,Events:[Ds,Co,Xi,ht,ln,pu]},Gs={findFiberByHostInstance:Gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W0={bundleType:Gs.bundleType,version:Gs.version,rendererPackageName:Gs.rendererPackageName,rendererConfig:Gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hf(t),t===null?null:t.stateNode},findFiberByHostInstance:Gs.findFiberByHostInstance||$0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Aa.isDisabled&&Aa.supportsFiber)try{Mi=Aa.inject(W0),Mn=Aa}catch{}}return At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B0,At.createPortal=function(t,r){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cu(r))throw Error(o(200));return z0(t,r,null,i)},At.createRoot=function(t,r){if(!Cu(t))throw Error(o(299));var i=!1,c="",m=Bm;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(m=r.onRecoverableError)),r=xu(t,1,!1,null,null,i,!1,c,m),t[qn]=r.current,Ts(t.nodeType===8?t.parentNode:t),new Su(r)},At.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=hf(r),t=t===null?null:t.stateNode,t},At.flushSync=function(t){return to(t)},At.hydrate=function(t,r,i){if(!Ia(r))throw Error(o(200));return Da(null,t,r,!0,i)},At.hydrateRoot=function(t,r,i){if(!Cu(t))throw Error(o(405));var c=i!=null&&i.hydratedSources||null,m=!1,y="",C=Bm;if(i!=null&&(i.unstable_strictMode===!0&&(m=!0),i.identifierPrefix!==void 0&&(y=i.identifierPrefix),i.onRecoverableError!==void 0&&(C=i.onRecoverableError)),r=$m(r,null,t,1,i??null,m,!1,y,C),t[qn]=r.current,Ts(t),c)for(t=0;t<c.length;t++)i=c[t],m=i._getVersion,m=m(i._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[i,m]:r.mutableSourceEagerHydrationData.push(i,m);return new Ma(r)},At.render=function(t,r,i){if(!Ia(r))throw Error(o(200));return Da(null,t,r,!1,i)},At.unmountComponentAtNode=function(t){if(!Ia(t))throw Error(o(40));return t._reactRootContainer?(to(function(){Da(null,null,t,!1,function(){t._reactRootContainer=null,t[qn]=null})}),!0):!1},At.unstable_batchedUpdates=pu,At.unstable_renderSubtreeIntoContainer=function(t,r,i,c){if(!Ia(i))throw Error(o(200));if(t==null||t._reactInternals===void 0)throw Error(o(38));return Da(t,r,i,!1,c)},At.version="18.3.1-next-f1338f8080-20240426",At}var Qm;function bg(){if(Qm)return Eu.exports;Qm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),Eu.exports=Z0(),Eu.exports}var Jm;function eS(){if(Jm)return Pa;Jm=1;var e=bg();return Pa.createRoot=e.createRoot,Pa.hydrateRoot=e.hydrateRoot,Pa}var tS=eS();const nS=xd(tS);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zm="popstate";function rS(e={}){function n(s,a){let{pathname:l,search:u,hash:f}=s.location;return Ju("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function o(s,a){return typeof a=="string"?a:oi(a)}return sS(n,o,null,e)}function Be(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function $n(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function oS(){return Math.random().toString(36).substring(2,10)}function eh(e,n){return{usr:e.state,key:e.key,idx:n}}function Ju(e,n,o=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof n=="string"?Jo(n):n,state:o,key:n&&n.key||s||oS()}}function oi({pathname:e="/",search:n="",hash:o=""}){return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function Jo(e){let n={};if(e){let o=e.indexOf("#");o>=0&&(n.hash=e.substring(o),e=e.substring(0,o));let s=e.indexOf("?");s>=0&&(n.search=e.substring(s),e=e.substring(0,s)),e&&(n.pathname=e)}return n}function sS(e,n,o,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,f="POP",p=null,g=v();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function v(){return(u.state||{idx:null}).idx}function x(){f="POP";let k=v(),N=k==null?null:k-g;g=k,p&&p({action:f,location:b.location,delta:N})}function w(k,N){f="PUSH";let R=Ju(b.location,k,N);g=v()+1;let _=eh(R,g),I=b.createHref(R);try{u.pushState(_,"",I)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(I)}l&&p&&p({action:f,location:b.location,delta:1})}function S(k,N){f="REPLACE";let R=Ju(b.location,k,N);g=v();let _=eh(R,g),I=b.createHref(R);u.replaceState(_,"",I),l&&p&&p({action:f,location:b.location,delta:0})}function E(k){return iS(k)}let b={get action(){return f},get location(){return e(a,u)},listen(k){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(Zm,x),p=k,()=>{a.removeEventListener(Zm,x),p=null}},createHref(k){return n(a,k)},createURL:E,encodeLocation(k){let N=E(k);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:w,replace:S,go(k){return u.go(k)}};return b}function iS(e,n=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),Be(o,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:oi(e);return s=s.replace(/ $/,"%20"),!n&&s.startsWith("//")&&(s=o+s),new URL(s,o)}function kg(e,n,o="/"){return aS(e,n,o,!1)}function aS(e,n,o,s){let a=typeof n=="string"?Jo(n):n,l=ir(a.pathname||"/",o);if(l==null)return null;let u=Eg(e);lS(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let g=xS(l);f=vS(u[p],g,s)}return f}function Eg(e,n=[],o=[],s="",a=!1){let l=(u,f,p=a,g)=>{let v={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;Be(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let x=sr([s,v.relativePath]),w=o.concat(v);u.children&&u.children.length>0&&(Be(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Eg(u.children,n,w,x,p)),!(u.path==null&&!u.index)&&n.push({path:x,score:hS(x,u.index),routesMeta:w})};return e.forEach((u,f)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))l(u,f);else for(let g of Ng(u.path))l(u,f,!0,g)}),n}function Ng(e){let n=e.split("/");if(n.length===0)return[];let[o,...s]=n,a=o.endsWith("?"),l=o.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=Ng(s.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...u),f.map(p=>e.startsWith("/")&&p===""?"/":p)}function lS(e){e.sort((n,o)=>n.score!==o.score?o.score-n.score:gS(n.routesMeta.map(s=>s.childrenIndex),o.routesMeta.map(s=>s.childrenIndex)))}var cS=/^:[\w-]+$/,uS=3,dS=2,fS=1,pS=10,mS=-2,th=e=>e==="*";function hS(e,n){let o=e.split("/"),s=o.length;return o.some(th)&&(s+=mS),n&&(s+=dS),o.filter(a=>!th(a)).reduce((a,l)=>a+(cS.test(l)?uS:l===""?fS:pS),s)}function gS(e,n){return e.length===n.length&&e.slice(0,-1).every((s,a)=>s===n[a])?e[e.length-1]-n[n.length-1]:0}function vS(e,n,o=!1){let{routesMeta:s}=e,a={},l="/",u=[];for(let f=0;f<s.length;++f){let p=s[f],g=f===s.length-1,v=l==="/"?n:n.slice(l.length)||"/",x=rl({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!x&&g&&o&&!s[s.length-1].route.index&&(x=rl({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!x)return null;Object.assign(a,x.params),u.push({params:a,pathname:sr([l,x.pathname]),pathnameBase:bS(sr([l,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(l=sr([l,x.pathnameBase]))}return u}function rl(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[o,s]=yS(e.path,e.caseSensitive,e.end),a=n.match(o);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:x},w)=>{if(v==="*"){let E=f[w]||"";u=l.slice(0,l.length-E.length).replace(/(.)\/+$/,"$1")}const S=f[w];return x&&!S?g[v]=void 0:g[v]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:e}}function yS(e,n=!1,o=!0){$n(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,n?void 0:"i"),s]}function xS(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return $n(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),e}}function ir(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let o=n.endsWith("/")?n.length-1:n.length,s=e.charAt(o);return s&&s!=="/"?null:e.slice(o)||"/"}var wS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function SS(e,n="/"){let{pathname:o,search:s="",hash:a=""}=typeof e=="string"?Jo(e):e,l;return o?(o=o.replace(/\/\/+/g,"/"),o.startsWith("/")?l=nh(o.substring(1),"/"):l=nh(o,n)):l=n,{pathname:l,search:kS(s),hash:ES(a)}}function nh(e,n){let o=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?o.length>1&&o.pop():a!=="."&&o.push(a)}),o.length>1?o.join("/"):"/"}function _u(e,n,o,s){return`Cannot include a '${e}' character in a manually specified \`to.${n}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CS(e){return e.filter((n,o)=>o===0||n.route.path&&n.route.path.length>0)}function Rg(e){let n=CS(e);return n.map((o,s)=>s===n.length-1?o.pathname:o.pathnameBase)}function _g(e,n,o,s=!1){let a;typeof e=="string"?a=Jo(e):(a={...e},Be(!a.pathname||!a.pathname.includes("?"),_u("?","pathname","search",a)),Be(!a.pathname||!a.pathname.includes("#"),_u("#","pathname","hash",a)),Be(!a.search||!a.search.includes("#"),_u("#","search","hash",a)));let l=e===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=o;else{let x=n.length-1;if(!s&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),x-=1;a.pathname=w.join("/")}f=x>=0?n[x]:"/"}let p=SS(a,f),g=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&o.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var sr=e=>e.join("/").replace(/\/\/+/g,"/"),bS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ES=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,NS=class{constructor(e,n,o,s=!1){this.status=e,this.statusText=n||"",this.internal=s,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}};function RS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function _S(e){return e.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var jg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Tg(e,n){let o=e;if(typeof o!="string"||!wS.test(o))return{absoluteURL:void 0,isExternal:!1,to:o};let s=o,a=!1;if(jg)try{let l=new URL(window.location.href),u=o.startsWith("//")?new URL(l.protocol+o):new URL(o),f=ir(u.pathname,n);u.origin===l.origin&&f!=null?o=f+u.search+u.hash:a=!0}catch{$n(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Mg=["POST","PUT","PATCH","DELETE"];new Set(Mg);var jS=["GET",...Mg];new Set(jS);var Zo=h.createContext(null);Zo.displayName="DataRouter";var El=h.createContext(null);El.displayName="DataRouterState";var TS=h.createContext(!1),Ig=h.createContext({isTransitioning:!1});Ig.displayName="ViewTransition";var MS=h.createContext(new Map);MS.displayName="Fetchers";var IS=h.createContext(null);IS.displayName="Await";var nn=h.createContext(null);nn.displayName="Navigation";var fi=h.createContext(null);fi.displayName="Location";var Vn=h.createContext({outlet:null,matches:[],isDataRoute:!1});Vn.displayName="Route";var Cd=h.createContext(null);Cd.displayName="RouteError";var Dg="REACT_ROUTER_ERROR",DS="REDIRECT",AS="ROUTE_ERROR_RESPONSE";function PS(e){if(e.startsWith(`${Dg}:${DS}:{`))try{let n=JSON.parse(e.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function OS(e){if(e.startsWith(`${Dg}:${AS}:{`))try{let n=JSON.parse(e.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new NS(n.status,n.statusText,n.data)}catch{}}function LS(e,{relative:n}={}){Be(pi(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:s}=h.useContext(nn),{hash:a,pathname:l,search:u}=mi(e,{relative:n}),f=l;return o!=="/"&&(f=l==="/"?o:sr([o,l])),s.createHref({pathname:f,search:u,hash:a})}function pi(){return h.useContext(fi)!=null}function Wr(){return Be(pi(),"useLocation() may be used only in the context of a <Router> component."),h.useContext(fi).location}var Ag="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Pg(e){h.useContext(nn).static||h.useLayoutEffect(e)}function FS(){let{isDataRoute:e}=h.useContext(Vn);return e?JS():zS()}function zS(){Be(pi(),"useNavigate() may be used only in the context of a <Router> component.");let e=h.useContext(Zo),{basename:n,navigator:o}=h.useContext(nn),{matches:s}=h.useContext(Vn),{pathname:a}=Wr(),l=JSON.stringify(Rg(s)),u=h.useRef(!1);return Pg(()=>{u.current=!0}),h.useCallback((p,g={})=>{if($n(u.current,Ag),!u.current)return;if(typeof p=="number"){o.go(p);return}let v=_g(p,JSON.parse(l),a,g.relative==="path");e==null&&n!=="/"&&(v.pathname=v.pathname==="/"?n:sr([n,v.pathname])),(g.replace?o.replace:o.push)(v,g.state,g)},[n,o,l,a,e])}h.createContext(null);function $S(){let{matches:e}=h.useContext(Vn),n=e[e.length-1];return n?n.params:{}}function mi(e,{relative:n}={}){let{matches:o}=h.useContext(Vn),{pathname:s}=Wr(),a=JSON.stringify(Rg(o));return h.useMemo(()=>_g(e,JSON.parse(a),s,n==="path"),[e,a,s,n])}function US(e,n){return Og(e,n)}function Og(e,n,o,s,a){var R;Be(pi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=h.useContext(nn),{matches:u}=h.useContext(Vn),f=u[u.length-1],p=f?f.params:{},g=f?f.pathname:"/",v=f?f.pathnameBase:"/",x=f&&f.route;{let _=x&&x.path||"";Fg(g,!x||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let w=Wr(),S;if(n){let _=typeof n=="string"?Jo(n):n;Be(v==="/"||((R=_.pathname)==null?void 0:R.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${_.pathname}" was given in the \`location\` prop.`),S=_}else S=w;let E=S.pathname||"/",b=E;if(v!=="/"){let _=v.replace(/^\//,"").split("/");b="/"+E.replace(/^\//,"").split("/").slice(_.length).join("/")}let k=kg(e,{pathname:b});$n(x||k!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),$n(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=KS(k&&k.map(_=>Object.assign({},_,{params:Object.assign({},p,_.params),pathname:sr([v,l.encodeLocation?l.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?v:sr([v,l.encodeLocation?l.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),u,o,s,a);return n&&N?h.createElement(fi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},N):N}function BS(){let e=QS(),n=RS(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),o=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=h.createElement(h.Fragment,null,h.createElement("p",null," Hey developer "),h.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",h.createElement("code",{style:l},"ErrorBoundary")," or"," ",h.createElement("code",{style:l},"errorElement")," prop on your route.")),h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},n),o?h.createElement("pre",{style:a},o):null,u)}var WS=h.createElement(BS,null),Lg=class extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){this.props.onError?this.props.onError(e,n):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const o=OS(e.digest);o&&(e=o)}let n=e!==void 0?h.createElement(Vn.Provider,{value:this.props.routeContext},h.createElement(Cd.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?h.createElement(VS,{error:e},n):n}};Lg.contextType=TS;var ju=new WeakMap;function VS({children:e,error:n}){let{basename:o}=h.useContext(nn);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let s=PS(n.digest);if(s){let a=ju.get(n);if(a)throw a;let l=Tg(s.location,o);if(jg&&!ju.get(n))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw ju.set(n,u),u}return h.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function HS({routeContext:e,match:n,children:o}){let s=h.useContext(Zo);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Vn.Provider,{value:e},o)}function KS(e,n=[],o=null,s=null,a=null){if(e==null){if(!o)return null;if(o.errors)e=o.matches;else if(n.length===0&&!o.initialized&&o.matches.length>0)e=o.matches;else return null}let l=e,u=o==null?void 0:o.errors;if(u!=null){let v=l.findIndex(x=>x.route.id&&(u==null?void 0:u[x.route.id])!==void 0);Be(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let f=!1,p=-1;if(o)for(let v=0;v<l.length;v++){let x=l[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(p=v),x.route.id){let{loaderData:w,errors:S}=o,E=x.route.loader&&!w.hasOwnProperty(x.route.id)&&(!S||S[x.route.id]===void 0);if(x.route.lazy||E){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=o&&s?(v,x)=>{var w,S;s(v,{location:o.location,params:((S=(w=o.matches)==null?void 0:w[0])==null?void 0:S.params)??{},unstable_pattern:_S(o.matches),errorInfo:x})}:void 0;return l.reduceRight((v,x,w)=>{let S,E=!1,b=null,k=null;o&&(S=u&&x.route.id?u[x.route.id]:void 0,b=x.route.errorElement||WS,f&&(p<0&&w===0?(Fg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,k=null):p===w&&(E=!0,k=x.route.hydrateFallbackElement||null)));let N=n.concat(l.slice(0,w+1)),R=()=>{let _;return S?_=b:E?_=k:x.route.Component?_=h.createElement(x.route.Component,null):x.route.element?_=x.route.element:_=v,h.createElement(HS,{match:x,routeContext:{outlet:v,matches:N,isDataRoute:o!=null},children:_})};return o&&(x.route.ErrorBoundary||x.route.errorElement||w===0)?h.createElement(Lg,{location:o.location,revalidation:o.revalidation,component:b,error:S,children:R(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:g}):R()},null)}function bd(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GS(e){let n=h.useContext(Zo);return Be(n,bd(e)),n}function qS(e){let n=h.useContext(El);return Be(n,bd(e)),n}function YS(e){let n=h.useContext(Vn);return Be(n,bd(e)),n}function kd(e){let n=YS(e),o=n.matches[n.matches.length-1];return Be(o.route.id,`${e} can only be used on routes that contain a unique "id"`),o.route.id}function XS(){return kd("useRouteId")}function QS(){var s;let e=h.useContext(Cd),n=qS("useRouteError"),o=kd("useRouteError");return e!==void 0?e:(s=n.errors)==null?void 0:s[o]}function JS(){let{router:e}=GS("useNavigate"),n=kd("useNavigate"),o=h.useRef(!1);return Pg(()=>{o.current=!0}),h.useCallback(async(a,l={})=>{$n(o.current,Ag),o.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:n,...l}))},[e,n])}var rh={};function Fg(e,n,o){!n&&!rh[e]&&(rh[e]=!0,$n(!1,o))}h.memo(ZS);function ZS({routes:e,future:n,state:o,onError:s}){return Og(e,void 0,o,s,n)}function Zu(e){Be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function e1({basename:e="/",children:n=null,location:o,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){Be(!pi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),p=h.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[f,a,l,u]);typeof o=="string"&&(o=Jo(o));let{pathname:g="/",search:v="",hash:x="",state:w=null,key:S="default"}=o,E=h.useMemo(()=>{let b=ir(g,f);return b==null?null:{location:{pathname:b,search:v,hash:x,state:w,key:S},navigationType:s}},[f,g,v,x,w,S,s]);return $n(E!=null,`<Router basename="${f}"> is not able to match the URL "${g}${v}${x}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:h.createElement(nn.Provider,{value:p},h.createElement(fi.Provider,{children:n,value:E}))}function t1({children:e,location:n}){return US(ed(e),n)}function ed(e,n=[]){let o=[];return h.Children.forEach(e,(s,a)=>{if(!h.isValidElement(s))return;let l=[...n,a];if(s.type===h.Fragment){o.push.apply(o,ed(s.props.children,l));return}Be(s.type===Zu,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Be(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=ed(s.props.children,l)),o.push(u)}),o}var Qa="get",Ja="application/x-www-form-urlencoded";function Nl(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function n1(e){return Nl(e)&&e.tagName.toLowerCase()==="button"}function r1(e){return Nl(e)&&e.tagName.toLowerCase()==="form"}function o1(e){return Nl(e)&&e.tagName.toLowerCase()==="input"}function s1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function i1(e,n){return e.button===0&&(!n||n==="_self")&&!s1(e)}var Oa=null;function a1(){if(Oa===null)try{new FormData(document.createElement("form"),0),Oa=!1}catch{Oa=!0}return Oa}var l1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tu(e){return e!=null&&!l1.has(e)?($n(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ja}"`),null):e}function c1(e,n){let o,s,a,l,u;if(r1(e)){let f=e.getAttribute("action");s=f?ir(f,n):null,o=e.getAttribute("method")||Qa,a=Tu(e.getAttribute("enctype"))||Ja,l=new FormData(e)}else if(n1(e)||o1(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||f.getAttribute("action");if(s=p?ir(p,n):null,o=e.getAttribute("formmethod")||f.getAttribute("method")||Qa,a=Tu(e.getAttribute("formenctype"))||Tu(f.getAttribute("enctype"))||Ja,l=new FormData(f,e),!a1()){let{name:g,type:v,value:x}=e;if(v==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,x)}}else{if(Nl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=Qa,s=null,a=Ja,u=e}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:o.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ed(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function u1(e,n,o,s){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return o?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:n&&ir(a.pathname,n)==="/"?a.pathname=`${n.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function d1(e,n){if(e.id in n)return n[e.id];try{let o=await import(e.module);return n[e.id]=o,o}catch(o){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function f1(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function p1(e,n,o){let s=await Promise.all(e.map(async a=>{let l=n.routes[a.route.id];if(l){let u=await d1(l,o);return u.links?u.links():[]}return[]}));return v1(s.flat(1).filter(f1).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function oh(e,n,o,s,a,l){let u=(p,g)=>o[g]?p.route.id!==o[g].route.id:!0,f=(p,g)=>{var v;return o[g].pathname!==p.pathname||((v=o[g].route.path)==null?void 0:v.endsWith("*"))&&o[g].params["*"]!==p.params["*"]};return l==="assets"?n.filter((p,g)=>u(p,g)||f(p,g)):l==="data"?n.filter((p,g)=>{var x;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(u(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((x=o[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function m1(e,n,{includeHydrateFallback:o}={}){return h1(e.map(s=>{let a=n.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),o&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function h1(e){return[...new Set(e)]}function g1(e){let n={},o=Object.keys(e).sort();for(let s of o)n[s]=e[s];return n}function v1(e,n){let o=new Set;return new Set(n),e.reduce((s,a)=>{let l=JSON.stringify(g1(a));return o.has(l)||(o.add(l),s.push({key:l,link:a})),s},[])}function zg(){let e=h.useContext(Zo);return Ed(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function y1(){let e=h.useContext(El);return Ed(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Nd=h.createContext(void 0);Nd.displayName="FrameworkContext";function $g(){let e=h.useContext(Nd);return Ed(e,"You must render this element inside a <HydratedRouter> element"),e}function x1(e,n){let o=h.useContext(Nd),[s,a]=h.useState(!1),[l,u]=h.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:x}=n,w=h.useRef(null);h.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let b=N=>{N.forEach(R=>{u(R.isIntersecting)})},k=new IntersectionObserver(b,{threshold:.5});return w.current&&k.observe(w.current),()=>{k.disconnect()}}},[e]),h.useEffect(()=>{if(s){let b=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(b)}}},[s]);let S=()=>{a(!0)},E=()=>{a(!1),u(!1)};return o?e!=="intent"?[l,w,{}]:[l,w,{onFocus:Ys(f,S),onBlur:Ys(p,E),onMouseEnter:Ys(g,S),onMouseLeave:Ys(v,E),onTouchStart:Ys(x,S)}]:[!1,w,{}]}function Ys(e,n){return o=>{e&&e(o),o.defaultPrevented||n(o)}}function w1({page:e,...n}){let{router:o}=zg(),s=h.useMemo(()=>kg(o.routes,e,o.basename),[o.routes,e,o.basename]);return s?h.createElement(C1,{page:e,matches:s,...n}):null}function S1(e){let{manifest:n,routeModules:o}=$g(),[s,a]=h.useState([]);return h.useEffect(()=>{let l=!1;return p1(e,n,o).then(u=>{l||a(u)}),()=>{l=!0}},[e,n,o]),s}function C1({page:e,matches:n,...o}){let s=Wr(),{future:a,manifest:l,routeModules:u}=$g(),{basename:f}=zg(),{loaderData:p,matches:g}=y1(),v=h.useMemo(()=>oh(e,n,g,l,s,"data"),[e,n,g,l,s]),x=h.useMemo(()=>oh(e,n,g,l,s,"assets"),[e,n,g,l,s]),w=h.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let b=new Set,k=!1;if(n.forEach(R=>{var I;let _=l.routes[R.route.id];!_||!_.hasLoader||(!v.some(D=>D.route.id===R.route.id)&&R.route.id in p&&((I=u[R.route.id])!=null&&I.shouldRevalidate)||_.hasClientLoader?k=!0:b.add(R.route.id))}),b.size===0)return[];let N=u1(e,f,a.unstable_trailingSlashAwareDataRequests,"data");return k&&b.size>0&&N.searchParams.set("_routes",n.filter(R=>b.has(R.route.id)).map(R=>R.route.id).join(",")),[N.pathname+N.search]},[f,a.unstable_trailingSlashAwareDataRequests,p,s,l,v,n,e,u]),S=h.useMemo(()=>m1(x,l),[x,l]),E=S1(x);return h.createElement(h.Fragment,null,w.map(b=>h.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...o})),S.map(b=>h.createElement("link",{key:b,rel:"modulepreload",href:b,...o})),E.map(({key:b,link:k})=>h.createElement("link",{key:b,nonce:o.nonce,...k,crossOrigin:k.crossOrigin??o.crossOrigin})))}function b1(...e){return n=>{e.forEach(o=>{typeof o=="function"?o(n):o!=null&&(o.current=n)})}}var k1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{k1&&(window.__reactRouterVersion="7.13.0")}catch{}function E1({basename:e,children:n,unstable_useTransitions:o,window:s}){let a=h.useRef();a.current==null&&(a.current=rS({window:s,v5Compat:!0}));let l=a.current,[u,f]=h.useState({action:l.action,location:l.location}),p=h.useCallback(g=>{o===!1?f(g):h.startTransition(()=>f(g))},[o]);return h.useLayoutEffect(()=>l.listen(p),[l,p]),h.createElement(e1,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:o})}var Ug=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bg=h.forwardRef(function({onClick:n,discover:o="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:f,target:p,to:g,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:w,...S},E){let{basename:b,unstable_useTransitions:k}=h.useContext(nn),N=typeof g=="string"&&Ug.test(g),R=Tg(g,b);g=R.to;let _=LS(g,{relative:a}),[I,D,P]=x1(s,S),L=j1(g,{replace:u,state:f,target:p,preventScrollReset:v,relative:a,viewTransition:x,unstable_defaultShouldRevalidate:w,unstable_useTransitions:k});function M(Q){n&&n(Q),Q.defaultPrevented||L(Q)}let H=h.createElement("a",{...S,...P,href:R.absoluteURL||_,onClick:R.isExternal||l?n:M,ref:b1(E,D),target:p,"data-discover":!N&&o==="render"?"true":void 0});return I&&!N?h.createElement(h.Fragment,null,H,h.createElement(w1,{page:_})):H});Bg.displayName="Link";var N1=h.forwardRef(function({"aria-current":n="page",caseSensitive:o=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:f,children:p,...g},v){let x=mi(u,{relative:g.relative}),w=Wr(),S=h.useContext(El),{navigator:E,basename:b}=h.useContext(nn),k=S!=null&&A1(x)&&f===!0,N=E.encodeLocation?E.encodeLocation(x).pathname:x.pathname,R=w.pathname,_=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;o||(R=R.toLowerCase(),_=_?_.toLowerCase():null,N=N.toLowerCase()),_&&b&&(_=ir(_,b)||_);const I=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let D=R===N||!a&&R.startsWith(N)&&R.charAt(I)==="/",P=_!=null&&(_===N||!a&&_.startsWith(N)&&_.charAt(N.length)==="/"),L={isActive:D,isPending:P,isTransitioning:k},M=D?n:void 0,H;typeof s=="function"?H=s(L):H=[s,D?"active":null,P?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let Q=typeof l=="function"?l(L):l;return h.createElement(Bg,{...g,"aria-current":M,className:H,ref:v,style:Q,to:u,viewTransition:f},typeof p=="function"?p(L):p)});N1.displayName="NavLink";var R1=h.forwardRef(({discover:e="render",fetcherKey:n,navigate:o,reloadDocument:s,replace:a,state:l,method:u=Qa,action:f,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:w,...S},E)=>{let{unstable_useTransitions:b}=h.useContext(nn),k=I1(),N=D1(f,{relative:g}),R=u.toLowerCase()==="get"?"get":"post",_=typeof f=="string"&&Ug.test(f),I=D=>{if(p&&p(D),D.defaultPrevented)return;D.preventDefault();let P=D.nativeEvent.submitter,L=(P==null?void 0:P.getAttribute("formmethod"))||u,M=()=>k(P||D.currentTarget,{fetcherKey:n,method:L,navigate:o,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:x,unstable_defaultShouldRevalidate:w});b&&o!==!1?h.startTransition(()=>M()):M()};return h.createElement("form",{ref:E,method:R,action:N,onSubmit:s?p:I,...S,"data-discover":!_&&e==="render"?"true":void 0})});R1.displayName="Form";function _1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wg(e){let n=h.useContext(Zo);return Be(n,_1(e)),n}function j1(e,{target:n,replace:o,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let g=FS(),v=Wr(),x=mi(e,{relative:l});return h.useCallback(w=>{if(i1(w,n)){w.preventDefault();let S=o!==void 0?o:oi(v)===oi(x),E=()=>g(e,{replace:S,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f});p?h.startTransition(()=>E()):E()}},[v,g,x,o,s,n,e,a,l,u,f,p])}var T1=0,M1=()=>`__${String(++T1)}__`;function I1(){let{router:e}=Wg("useSubmit"),{basename:n}=h.useContext(nn),o=XS(),s=e.fetch,a=e.navigate;return h.useCallback(async(l,u={})=>{let{action:f,method:p,encType:g,formData:v,body:x}=c1(l,n);if(u.navigate===!1){let w=u.fetcherKey||M1();await s(w,o,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:x,formMethod:u.method||p,formEncType:u.encType||g,flushSync:u.flushSync})}else await a(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:x,formMethod:u.method||p,formEncType:u.encType||g,replace:u.replace,state:u.state,fromRouteId:o,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,n,o])}function D1(e,{relative:n}={}){let{basename:o}=h.useContext(nn),s=h.useContext(Vn);Be(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...mi(e||".",{relative:n})},u=Wr();if(e==null){l.search=u.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(x=>x).forEach(x=>f.append("index",x));let v=f.toString();l.search=v?`?${v}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(l.pathname=l.pathname==="/"?o:sr([o,l.pathname])),oi(l)}function A1(e,{relative:n}={}){let o=h.useContext(Ig);Be(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Wg("useViewTransitionState"),a=mi(e,{relative:n});if(!o.isTransitioning)return!1;let l=ir(o.currentLocation.pathname,s)||o.currentLocation.pathname,u=ir(o.nextLocation.pathname,s)||o.nextLocation.pathname;return rl(a.pathname,u)!=null||rl(a.pathname,l)!=null}var zr=bg();const P1=xd(zr),sh=e=>{let n;const o=new Set,s=(g,v)=>{const x=typeof g=="function"?g(n):g;if(!Object.is(x,n)){const w=n;n=v??(typeof x!="object"||x===null)?x:Object.assign({},n,x),o.forEach(S=>S(n,w))}},a=()=>n,f={setState:s,getState:a,getInitialState:()=>p,subscribe:g=>(o.add(g),()=>o.delete(g))},p=n=e(s,a,f);return f},O1=(e=>e?sh(e):sh),L1=e=>e;function F1(e,n=L1){const o=De.useSyncExternalStore(e.subscribe,De.useCallback(()=>n(e.getState()),[e,n]),De.useCallback(()=>n(e.getInitialState()),[e,n]));return De.useDebugValue(o),o}const ih=e=>{const n=O1(e),o=s=>F1(n,s);return Object.assign(o,n),o},Nn=(e=>e?ih(e):ih),ah={isConnected:!1,isAuthenticated:!1,deviceId:null},Rd=Nn(e=>({...ah,setConnected:n=>{e(n?{isConnected:!0}:{isConnected:!1,isAuthenticated:!1,deviceId:null})},setAuthenticated:n=>{e({isAuthenticated:n})},setDeviceId:n=>{e({deviceId:n})},reset:()=>{e({...ah})}})),_d="estelle:lastSelectedConversation";function z1(){try{const e=localStorage.getItem(_d);return e?JSON.parse(e):null}catch{return null}}function $1(e,n){try{localStorage.setItem(_d,JSON.stringify({pylonId:e,conversationId:n}))}catch{}}function U1(){try{localStorage.removeItem(_d)}catch{}}const B1={workspacesByPylon:new Map,connectedPylons:[],selectedConversation:null},st=Nn((e,n)=>({...B1,setWorkspaces:(o,s,a)=>{const l=new Map(n().workspacesByPylon);l.set(o,s);const u=n().selectedConversation;let f=u;if(u)for(const p of s){const g=p.conversations.find(v=>v.conversationId===u.conversationId);if(g){f={...u,conversationName:g.name,status:g.status,unread:g.unread,permissionMode:g.permissionMode,linkedDocuments:g.linkedDocuments??[]};break}}if(!f&&s.length>0){let p,g;const v=z1();if(v&&v.pylonId===o)for(const x of s){const w=x.conversations.find(S=>S.conversationId===v.conversationId);if(w){p=x,g=w;break}}(!p||!g)&&a&&(p=s.find(x=>x.workspaceId===a.workspaceId),p&&(g=p.conversations.find(x=>x.conversationId===a.conversationId))),(!p||!g)&&(p=s.find(w=>w.isActive)||s[0],g=p.conversations[0]),p&&g&&(f={pylonId:o,workspaceId:String(p.workspaceId),workspaceName:p.name,workingDir:p.workingDir,conversationId:g.conversationId,conversationName:g.name,status:g.status,unread:g.unread,permissionMode:g.permissionMode,linkedDocuments:g.linkedDocuments??[]})}e({workspacesByPylon:l,selectedConversation:f})},clearWorkspaces:o=>{const s=new Map(n().workspacesByPylon);s.delete(o),e({workspacesByPylon:s})},addConnectedPylon:o=>{const a=n().connectedPylons.filter(l=>l.deviceId!==o.deviceId);e({connectedPylons:[...a,o]})},removeConnectedPylon:o=>{const s=n().connectedPylons.filter(f=>f.deviceId!==o),a=new Map(n().workspacesByPylon);a.delete(o);const l=n().selectedConversation,u=l&&n().getWorkspacesByPylon(o).some(f=>f.workspaceId===l.workspaceId)?null:l;e({connectedPylons:s,workspacesByPylon:a,selectedConversation:u})},updateConversationStatus:(o,s,a,l)=>{const u=n().workspacesByPylon.get(o);if(!u||a===void 0&&l===void 0)return;const f=u.map(x=>({...x,conversations:x.conversations.map(w=>w.conversationId!==s?w:{...w,status:a!==void 0?a:w.status,unread:l!==void 0?l:w.unread})})),p=new Map(n().workspacesByPylon);p.set(o,f);const g=n().selectedConversation,v=(g==null?void 0:g.conversationId)===s?{...g,status:a!==void 0?a:g.status,unread:l!==void 0?l:g.unread}:g;e({workspacesByPylon:p,selectedConversation:v})},updatePermissionMode:(o,s)=>{const a=n().selectedConversation;(a==null?void 0:a.conversationId)===o&&e({selectedConversation:{...a,permissionMode:s}})},selectConversation:(o,s)=>{const a=n().workspacesByPylon.get(o);if(a)for(const l of a){const u=l.conversations.find(f=>f.conversationId===s);if(u){$1(o,s),e({selectedConversation:{pylonId:o,workspaceId:String(l.workspaceId),workspaceName:l.name,workingDir:l.workingDir,conversationId:u.conversationId,conversationName:u.name,status:u.status,unread:u.unread,permissionMode:u.permissionMode,linkedDocuments:u.linkedDocuments??[]}});return}}},clearSelection:()=>{e({selectedConversation:null})},reorderWorkspaces:(o,s)=>{const a=n().workspacesByPylon.get(o);if(!a)return;const l=s.map(f=>a.find(p=>p.workspaceId===f)).filter(f=>f!==void 0),u=new Map(n().workspacesByPylon);u.set(o,l),e({workspacesByPylon:u})},reorderConversations:(o,s,a)=>{const l=n().workspacesByPylon.get(o);if(!l)return;const u=l.findIndex(w=>w.workspaceId===s);if(u<0)return;const f=l[u],p=a.map(w=>f.conversations.find(S=>S.conversationId===w)).filter(w=>w!==void 0),g={...f,conversations:p},v=[...l];v[u]=g;const x=new Map(n().workspacesByPylon);x.set(o,v),e({workspacesByPylon:x})},getWorkspacesByPylon:o=>n().workspacesByPylon.get(o)||[],getAllWorkspaces:()=>{const o=[];return n().workspacesByPylon.forEach((s,a)=>{o.push({pylonId:a,workspaces:s})}),o},getConversation:(o,s)=>{const a=n().workspacesByPylon.get(o);if(!a)return null;for(const l of a){const u=l.conversations.find(f=>f.conversationId===s);if(u)return u}return null},reset:()=>{U1(),e({workspacesByPylon:new Map,connectedPylons:[],selectedConversation:null})}})),_e={AUTH:"auth",AUTH_RESULT:"auth_result",CONNECTED:"connected",REGISTERED:"registered",DEVICE_STATUS:"device_status",RELAY_STATUS:"relay_status",STATUS:"status",WORKSPACE_LIST:"workspace_list",WORKSPACE_LIST_RESULT:"workspace_list_result",WORKSPACE_CREATE:"workspace_create",WORKSPACE_CREATE_RESULT:"workspace_create_result",WORKSPACE_DELETE:"workspace_delete",WORKSPACE_DELETE_RESULT:"workspace_delete_result",WORKSPACE_UPDATE:"workspace_update",WORKSPACE_UPDATE_RESULT:"workspace_update_result",WORKSPACE_REORDER:"workspace_reorder",CONVERSATION_CREATE:"conversation_create",CONVERSATION_CREATE_RESULT:"conversation_create_result",CONVERSATION_SELECT:"conversation_select",CONVERSATION_STATUS:"conversation_status",HISTORY_REQUEST:"history_request",HISTORY_RESULT:"history_result",CONVERSATION_REORDER:"conversation_reorder",CONVERSATION_DELETE:"conversation_delete",CONVERSATION_RENAME:"conversation_rename",CLAUDE_SEND:"claude_send",CLAUDE_EVENT:"claude_event",CLAUDE_PERMISSION:"claude_permission",CLAUDE_ANSWER:"claude_answer",CLAUDE_CONTROL:"claude_control",CLAUDE_SET_PERMISSION_MODE:"claude_set_permission_mode",PYLON_STATUS:"pylon_status",BLOB_START:"blob_start",BLOB_CHUNK:"blob_chunk",BLOB_END:"blob_end",BLOB_ACK:"blob_ack",BLOB_REQUEST:"blob_request",BLOB_UPLOAD_COMPLETE:"blob_upload_complete",FOLDER_LIST:"folder_list",FOLDER_LIST_RESULT:"folder_list_result",FOLDER_CREATE:"folder_create",FOLDER_CREATE_RESULT:"folder_create_result",FOLDER_RENAME:"folder_rename",FOLDER_RENAME_RESULT:"folder_rename_result",TASK_LIST:"task_list",TASK_LIST_RESULT:"task_list_result",TASK_GET:"task_get",TASK_GET_RESULT:"task_get_result",TASK_CREATE:"task_create",TASK_UPDATE:"task_update",TASK_STATUS_RESULT:"task_status_result",WORKER_STATUS:"worker_status",WORKER_STATUS_RESULT:"worker_status_result",WORKER_START:"worker_start",WORKER_START_RESULT:"worker_start_result",WORKER_STOP:"worker_stop",WORKER_STOP_RESULT:"worker_stop_result",USAGE_REQUEST:"usage_request",USAGE_RESPONSE:"usage_response",SLASH_COMMANDS_REQUEST:"slash_commands_request",SLASH_COMMANDS_RESULT:"slash_commands_result",SHARE_CREATE:"share_create",SHARE_CREATE_RESULT:"share_create_result",ACCOUNT_SWITCH:"account_switch",ACCOUNT_STATUS:"account_status",PING:"ping",PONG:"pong",ERROR:"error",BUG_REPORT:"bug_report",FROM_RELAY:"from_relay",DESK_LIST:"desk_list",DESK_LIST_RESULT:"desk_list_result",DESK_SWITCH:"desk_switch",DESK_CREATE:"desk_create",DESK_DELETE:"desk_delete",DESK_RENAME:"desk_rename",DESK_STATUS:"desk_status"};function W1(){return{status:"idle",messages:[],textBuffer:"",pendingRequests:[],workStartTime:null,realtimeUsage:null}}function V1(e){switch(e){case"user":return" ";case"session_ended":return" ";default:return""}}const H1=2,lh=1,Mu=4,ch=7,uh=10;function K1(e){const n=e&(1<<Mu)-1,o=e>>Mu&(1<<lh)-1;return{envId:e>>Mu+lh&(1<<H1)-1,deviceType:o,deviceIndex:n}}function Vg(e){const n=e&(1<<ch)-1;return{pylonId:e>>ch,workspaceIndex:n}}function G1(e){const n=e&(1<<uh)-1;return{workspaceId:e>>uh,conversationIndex:n}}function q1(e){const{workspaceId:n,conversationIndex:o}=G1(e),{pylonId:s,workspaceIndex:a}=Vg(n),{envId:l,deviceType:u,deviceIndex:f}=K1(s);return{envId:l,deviceType:u,deviceIndex:f,workspaceIndex:a,conversationIndex:o,pylonId:s,workspaceId:n}}const dh={currentAccount:null,subscriptionType:null,isAccountSwitching:!1},Uo=Nn(e=>({...dh,setAccountStatus:n=>{e({currentAccount:n.current,subscriptionType:n.subscriptionType||null,isAccountSwitching:!1})},setAccountSwitching:n=>{e({isAccountSwitching:n})},reset:()=>{e({...dh})}})),fh={uploads:{},isUploading:!1,recentUploads:[]};function ph(e){return Object.values(e).some(n=>n.status==="uploading")}const ol=Nn((e,n)=>({...fh,startUpload:o=>{const{blobId:s,filename:a,totalChunks:l}=o;e(u=>({uploads:{...u.uploads,[s]:{blobId:s,filename:a,status:"uploading",sentChunks:0,totalChunks:l}},isUploading:!0}))},updateProgress:(o,s)=>{e(a=>{const l=a.uploads[o];return l?{uploads:{...a.uploads,[o]:{...l,sentChunks:s}}}:a})},completeUpload:(o,s)=>{e(a=>{const l=a.uploads[o];if(!l)return a;const u={...a.uploads,[o]:{...l,status:"completed",serverPath:s}};return{uploads:u,isUploading:ph(u),recentUploads:[...a.recentUploads,o]}})},failUpload:(o,s)=>{e(a=>{const l=a.uploads[o];if(!l)return a;const u={...a.uploads,[o]:{...l,status:"failed",error:s}};return{uploads:u,isUploading:ph(u)}})},getProgress:o=>{const s=n().uploads[o];return!s||s.totalChunks===0?0:Math.round(s.sentChunks/s.totalChunks*100)},consumeRecentUploads:()=>{const o=n().recentUploads;return e({recentUploads:[]}),o},reset:()=>{e({...fh})}})),mh={downloads:{}},Y1=Nn((e,n)=>({...mh,startDownload:o=>{e(s=>({downloads:{...s.downloads,[o]:"downloading"}}))},completeDownload:o=>{e(s=>({downloads:{...s.downloads,[o]:"downloaded"}}))},failDownload:o=>{e(s=>({downloads:{...s.downloads,[o]:"failed"}}))},resetDownload:o=>{e(s=>{const{[o]:a,...l}=s.downloads;return{downloads:l}})},getStatus:o=>n().downloads[o]||"notDownloaded",isDownloading:o=>n().downloads[o]==="downloading",isDownloaded:o=>n().downloads[o]==="downloaded",reset:()=>{e({...mh})}})),hh={uploads:new Map,attachedImage:null,attachedImages:[],recentFileIds:[],queuedMessage:null,hasActiveUpload:!1},jd=Nn((e,n)=>({...hh,setAttachedImage:o=>{e({attachedImage:o}),o&&e(s=>({attachedImages:[...s.attachedImages.filter(a=>a.id!==o.id),o]}))},addAttachedImage:o=>{e(s=>({attachedImages:[...s.attachedImages,o],attachedImage:o}))},removeAttachedImage:o=>{e(s=>{const a=s.attachedImages.filter(l=>l.id!==o);return{attachedImages:a,attachedImage:a.length>0?a[a.length-1]:null}})},clearAttachedImages:()=>{e({attachedImages:[],attachedImage:null})},startUpload:o=>{const s=new Map(n().uploads);s.set(o.blobId,{...o,status:"uploading",processedChunks:0}),e({uploads:s,hasActiveUpload:!0})},updateProgress:(o,s)=>{const a=new Map(n().uploads),l=a.get(o);l&&(a.set(o,{...l,processedChunks:s}),e({uploads:a}))},completeUpload:(o,s)=>{const a=new Map(n().uploads),l=a.get(o);l&&a.set(o,{...l,status:"completed",fileId:s});const u=Array.from(a.values()).some(p=>p.status==="uploading"),f=[...n().recentFileIds,s];e({uploads:a,hasActiveUpload:u,recentFileIds:f})},failUpload:(o,s)=>{const a=new Map(n().uploads),l=a.get(o);l&&a.set(o,{...l,status:"failed",error:s});const u=Array.from(a.values()).some(f=>f.status==="uploading");e({uploads:a,hasActiveUpload:u})},removeUpload:o=>{const s=new Map(n().uploads);s.delete(o);const a=Array.from(s.values()).some(l=>l.status==="uploading");e({uploads:s,hasActiveUpload:a})},queueMessage:o=>{e({queuedMessage:o})},dequeueMessage:()=>{const o=n().queuedMessage;return e({queuedMessage:null}),o},consumeRecentFileIds:()=>{const o=[...n().recentFileIds];return e({recentFileIds:[]}),o},reset:()=>{e({...hh,uploads:new Map})}})),X1="monitor",Q1=e=>`Pylon ${e}`,gh={configs:{1:{deviceId:1,name:"Office",icon:"office-building-outline"},2:{deviceId:2,name:"Home",icon:"home-outline"}}},Td=Nn()((e,n)=>({...gh,setConfig:(o,s,a)=>{e(l=>({configs:{...l.configs,[o]:{deviceId:o,name:s,icon:a}}}))},getConfig:o=>n().configs[o],getIcon:o=>{var s;return((s=n().configs[o])==null?void 0:s.icon)??X1},getName:o=>{var s;return((s=n().configs[o])==null?void 0:s.name)??Q1(o)},removeConfig:o=>{e(s=>{const{[o]:a,...l}=s.configs;return{configs:l}})},reset:()=>{e({...gh})}})),Hg=[];function J1(){return`msg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function Zt(e,n){let o=e.get(n);return o||(o=W1(),e.set(n,o)),o}const Ye=Nn((e,n)=>({states:new Map,currentConversationId:null,slashCommandsMap:new Map,getState:o=>n().states.get(o)??null,getCurrentState:()=>{const{currentConversationId:o,states:s}=n();return o?s.get(o)??null:null},hasPendingRequests:o=>{const s=n().states.get(o);return s?s.pendingRequests.length>0:!1},getSlashCommands:o=>n().slashCommandsMap.get(o)??Hg,setCurrentConversation:o=>{if(!o){e({currentConversationId:null});return}const s=new Map(n().states);Zt(s,o),e({currentConversationId:o,states:s})},setStatus:(o,s)=>{const a=new Map(n().states),l=Zt(a,o),u={status:s};s==="working"?(u.workStartTime=Date.now(),u.realtimeUsage={inputTokens:0,outputTokens:0,cacheReadInputTokens:0,cacheCreationInputTokens:0,lastUpdateType:"input"}):s==="idle"&&(u.workStartTime=null,u.realtimeUsage=null),a.set(o,{...l,...u}),e({states:a})},addMessage:(o,s)=>{const a=new Map(n().states),l=Zt(a,o);a.set(o,{...l,messages:[...l.messages,s]}),e({states:a})},setMessages:(o,s)=>{const a=new Map(n().states),l=Zt(a,o),u=s.length>0?Math.max(...s.map(v=>v.timestamp)):0,f=new Set(s.map(v=>v.id)),p=l.messages.filter(v=>!f.has(v.id)&&v.timestamp>u),g=p.length>0?[...s,...p].sort((v,x)=>v.timestamp-x.timestamp):s;a.set(o,{...l,messages:g}),e({states:a})},prependMessages:(o,s)=>{const a=new Map(n().states),l=Zt(a,o),u=new Set(l.messages.map(p=>p.id)),f=s.filter(p=>!u.has(p.id));a.set(o,{...l,messages:[...f,...l.messages]}),e({states:a})},clearMessages:o=>{const s=new Map(n().states),a=Zt(s,o);s.set(o,{...a,messages:[],pendingRequests:[]}),e({states:s})},appendTextBuffer:(o,s)=>{const a=new Map(n().states),l=Zt(a,o);a.set(o,{...l,textBuffer:l.textBuffer+s}),e({states:a})},clearTextBuffer:o=>{const s=new Map(n().states),a=Zt(s,o);s.set(o,{...a,textBuffer:""}),e({states:s})},flushTextBuffer:o=>{const s=new Map(n().states),a=Zt(s,o);if(!a.textBuffer.trim()){s.set(o,{...a,textBuffer:""}),e({states:s});return}const l={id:J1(),role:"assistant",type:"text",content:a.textBuffer,timestamp:Date.now()};s.set(o,{...a,messages:[...a.messages,l],textBuffer:""}),e({states:s})},addPendingRequest:(o,s)=>{const a=new Map(n().states),l=Zt(a,o);a.set(o,{...l,pendingRequests:[...l.pendingRequests,s]}),e({states:a})},removePendingRequest:(o,s)=>{const a=new Map(n().states),l=Zt(a,o);a.set(o,{...l,pendingRequests:l.pendingRequests.filter(u=>u.toolUseId!==s)}),e({states:a})},updateRealtimeUsage:(o,s)=>{const a=new Map(n().states),l=Zt(a,o),u=l.realtimeUsage;let f="input";u&&(s.outputTokens>u.outputTokens?f="output":s.inputTokens>u.inputTokens?f="input":f=u.lastUpdateType),a.set(o,{...l,realtimeUsage:{...s,lastUpdateType:f}}),e({states:a})},setSlashCommands:(o,s)=>{const a=new Map(n().slashCommandsMap);a.set(o,s),e({slashCommandsMap:a})},deleteConversation:o=>{const s=new Map(n().states);s.delete(o);const a=new Map(n().slashCommandsMap);a.delete(o);const l=n().currentConversationId;e({states:s,slashCommandsMap:a,currentConversationId:l===o?null:l})},reset:()=>{e({states:new Map,currentConversationId:null,slashCommandsMap:new Map})}}));function hi(){return Ye(e=>e.currentConversationId?e.states.get(e.currentConversationId)??null:null)}const dt=Nn((e,n)=>({workspaceSync:"idle",workspaceRetryCount:0,conversations:new Map,isReady:o=>{const{workspaceSync:s,conversations:a}=n();if(s!=="synced")return!1;if(o===null)return!0;const l=a.get(o);return(l==null?void 0:l.phase)==="synced"},setWorkspaceSync:o=>{e({workspaceSync:o})},incrementWorkspaceRetry:()=>{e(o=>({workspaceRetryCount:o.workspaceRetryCount+1}))},setConversationPhase:(o,s)=>{const a=new Map(n().conversations),l=a.get(o);a.set(o,{phase:s,syncedFrom:(l==null?void 0:l.syncedFrom)??0,syncedTo:(l==null?void 0:l.syncedTo)??0,totalCount:(l==null?void 0:l.totalCount)??0,isLoadingMore:(l==null?void 0:l.isLoadingMore)??!1}),e({conversations:a})},setConversationSync:(o,s,a,l)=>{const u=new Map(n().conversations),f=u.get(o);u.set(o,{phase:(f==null?void 0:f.phase)??"idle",syncedFrom:s,syncedTo:a,totalCount:l,isLoadingMore:!1}),e({conversations:u})},extendSyncedFrom:(o,s)=>{const a=new Map(n().conversations),l=a.get(o);l&&(a.set(o,{...l,syncedFrom:Math.min(l.syncedFrom,s)}),e({conversations:a}))},extendSyncedTo:(o,s,a)=>{const l=new Map(n().conversations),u=l.get(o);u&&(l.set(o,{...u,syncedTo:Math.max(u.syncedTo,s),totalCount:Math.max(u.totalCount,a)}),e({conversations:l}))},getConversationSync:o=>n().conversations.get(o)??null,hasMoreBefore:o=>{const s=n().conversations.get(o);return s?s.syncedFrom>0:!1},hasMoreAfter:o=>{const s=n().conversations.get(o);return s?s.syncedTo<s.totalCount:!1},isLoadingMore:o=>{const s=n().conversations.get(o);return(s==null?void 0:s.isLoadingMore)??!1},setLoadingMore:(o,s)=>{const a=new Map(n().conversations),l=a.get(o);l&&(a.set(o,{...l,isLoadingMore:s}),e({conversations:a}))},resetForReconnect:()=>{const o=new Map(n().conversations);for(const[s,a]of o)o.set(s,{...a,phase:"idle"});e({workspaceSync:"idle",workspaceRetryCount:0,conversations:o})},reset:()=>{e({workspaceSync:"idle",workspaceRetryCount:0,conversations:new Map})}})),vh={shareId:null,conversationId:null,messages:[],isConnected:!1,isAuthenticated:!1,error:null},sl=Nn(e=>({...vh,setShareId:n=>{e({shareId:n})},setConversationId:n=>{e({conversationId:n})},setConnected:n=>{e(n?{isConnected:!0}:{isConnected:!1,isAuthenticated:!1})},setAuthenticated:n=>{e({isAuthenticated:n})},setError:n=>{e({error:n})},addMessage:n=>{e(o=>({messages:[...o.messages,n]}))},setMessages:n=>{e({messages:n})},reset:()=>{e({...vh})}}));function Z1(e,n){let o;try{o=e()}catch{return}return{getItem:a=>{var l;const u=p=>p===null?null:JSON.parse(p,void 0),f=(l=o.getItem(a))!=null?l:null;return f instanceof Promise?f.then(u):u(f)},setItem:(a,l)=>o.setItem(a,JSON.stringify(l,void 0)),removeItem:a=>o.removeItem(a)}}const td=e=>n=>{try{const o=e(n);return o instanceof Promise?o:{then(s){return td(s)(o)},catch(s){return this}}}catch(o){return{then(s){return this},catch(s){return td(s)(o)}}}},eC=(e,n)=>(o,s,a)=>{let l={storage:Z1(()=>window.localStorage),partialize:k=>k,version:0,merge:(k,N)=>({...N,...k}),...n},u=!1,f=0;const p=new Set,g=new Set;let v=l.storage;if(!v)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),o(...k)},s,a);const x=()=>{const k=l.partialize({...s()});return v.setItem(l.name,{state:k,version:l.version})},w=a.setState;a.setState=(k,N)=>(w(k,N),x());const S=e((...k)=>(o(...k),x()),s,a);a.getInitialState=()=>S;let E;const b=()=>{var k,N;if(!v)return;const R=++f;u=!1,p.forEach(I=>{var D;return I((D=s())!=null?D:S)});const _=((N=l.onRehydrateStorage)==null?void 0:N.call(l,(k=s())!=null?k:S))||void 0;return td(v.getItem.bind(v))(l.name).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==l.version){if(l.migrate){const D=l.migrate(I.state,I.version);return D instanceof Promise?D.then(P=>[!0,P]):[!0,D]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,I.state];return[!1,void 0]}).then(I=>{var D;if(R!==f)return;const[P,L]=I;if(E=l.merge(L,(D=s())!=null?D:S),o(E,!0),P)return x()}).then(()=>{R===f&&(_==null||_(E,void 0),E=s(),u=!0,g.forEach(I=>I(E)))}).catch(I=>{R===f&&(_==null||_(void 0,I))})};return a.persist={setOptions:k=>{l={...l,...k},k.storage&&(v=k.storage)},clearStorage:()=>{v==null||v.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>b(),hasHydrated:()=>u,onHydrate:k=>(p.add(k),()=>{p.delete(k)}),onFinishHydration:k=>(g.add(k),()=>{g.delete(k)})},l.skipHydration||b(),E||S},tC=eC,yh={isAuthenticated:!1,idToken:null,user:null,error:null,isLoading:!1},il=Nn()(tC((e,n)=>({...yh,login:o=>{e({isAuthenticated:!0,idToken:o.idToken,user:o.user,error:null,isLoading:!1})},logout:()=>{e({isAuthenticated:!1,idToken:null,user:null,error:null,isLoading:!1})},getIdToken:()=>n().idToken,reset:()=>{e({...yh})}}),{name:"estelle-auth",partialize:e=>({isAuthenticated:e.isAuthenticated,idToken:e.idToken,user:e.user}),merge:(e,n)=>({...n,...e})}));function nC(){if(typeof window>"u")return"ws://localhost:3000";const e=window.location.hostname;return e==="localhost"||e==="127.0.0.1"?"ws://localhost:3000":`wss://${window.location.host}`}const al={url:nC(),maxReconnectAttempts:5,reconnectInterval:3e3,heartbeatInterval:3e4,connectionTimeout:1e4},rC={title:"Estelle"};let ll={env:"dev",version:"",buildTime:""};async function oC(){try{const e=await fetch("/version.json",{cache:"no-store"});e.ok&&(ll=await e.json())}catch{}sC(ll.env),document.title=Kg.appName}function sC(e){const n=document.documentElement;n.classList.remove("env-dev","env-stage","env-release"),n.classList.add(`env-${e}`)}const Kg={get env(){return ll.env},get version(){return ll.version},get appName(){return this.env==="release"?"Estelle":`Estelle - ${this.env}`},get display(){return this.version?`(${this.env})${this.version}`:`(${this.env})`}};let ei=null;function Iu(e){ei=e}function iC(){return ei}function Ve(e){return ei&&ei.readyState===WebSocket.OPEN?(ei.send(JSON.stringify(e)),console.log("[Relay] Sent:",e.type,e.to?`to:${e.to}`:e.broadcast?`broadcast:${e.broadcast}`:""),!0):(console.warn("[Relay] Cannot send, not connected:",e.type),!1)}function Rn(e){return q1(e).pylonId}function Rl(e){return Vg(e).pylonId}function aC(){return Ve({type:_e.WORKSPACE_LIST,payload:{},broadcast:"pylons"})}function lC(e){const n=Rl(e);return Ve({type:_e.WORKSPACE_DELETE,payload:{workspaceId:e},to:[n]})}function cC(e,n){const o=Rl(e);return Ve({type:_e.WORKSPACE_UPDATE,payload:{workspaceId:e,...n},to:[o]})}function uC(e){return Ve({type:_e.WORKSPACE_REORDER,payload:{workspaceIds:e},broadcast:"pylons"})}function dC(e,n){const o=Rl(e);return Ve({type:_e.CONVERSATION_REORDER,payload:{workspaceId:e,conversationIds:n},to:[o]})}function fC(e,n){const o=Rl(e);return Ve({type:_e.CONVERSATION_CREATE,payload:{workspaceId:e,name:n},to:[o]})}function Gg(e,n){const o=Rn(e);return Ve({type:_e.CONVERSATION_SELECT,payload:{conversationId:e,workspaceId:n},to:[o]})}function pC(e,n,o=50){const s=Rn(e);return Ve({type:_e.HISTORY_REQUEST,payload:{conversationId:e,loadBefore:n,limit:o},to:[s]})}function mC(e){const n=Rn(e);return Ve({type:_e.CONVERSATION_DELETE,payload:{conversationId:e},to:[n]})}function hC(e,n){const o=Rn(e);return Ve({type:_e.CONVERSATION_RENAME,payload:{conversationId:e,newName:n},to:[o]})}function xh(e,n,o){const s=Rn(e);return Ve({type:_e.CLAUDE_SEND,payload:{conversationId:e,message:n,attachments:o},to:[s]})}function wh(e,n,o){const s=Rn(e);return Ve({type:_e.CLAUDE_PERMISSION,payload:{conversationId:e,toolUseId:n,decision:o},to:[s]})}function gC(e,n,o){const s=Rn(e);return Ve({type:_e.CLAUDE_ANSWER,payload:{conversationId:e,toolUseId:n,answer:o},to:[s]})}function qg(e,n){const o=Rn(e);return Ve({type:_e.CLAUDE_CONTROL,payload:{conversationId:e,action:n},to:[o]})}function vC(e,n){const o=Rn(e);return Ve({type:_e.CLAUDE_SET_PERMISSION_MODE,payload:{conversationId:e,mode:n},to:[o]})}function yC(e,n){return Ve({type:_e.FOLDER_LIST,payload:{deviceId:e,path:n},to:[e]})}function xC(e,n,o){return Ve({type:_e.FOLDER_CREATE,payload:{deviceId:e,path:n,name:o},to:[e]})}function wC(e,n,o){return Ve({type:_e.WORKSPACE_CREATE,payload:{deviceId:e,name:n,workingDir:o},to:[e]})}function SC(e,n,o){return Ve({type:_e.BUG_REPORT,payload:{message:e,conversationId:n,workspaceId:o,timestamp:new Date().toISOString()},broadcast:"pylons"})}function CC(e){return Ve({type:_e.ACCOUNT_SWITCH,payload:{account:e},broadcast:"pylons"})}function bC(e){const n=Rn(e);return Ve({type:_e.SHARE_CREATE,payload:{conversationId:e},to:[n]})}function kC(e){const n=Rn(e);return Ve({type:_e.SLASH_COMMANDS_REQUEST,payload:{conversationId:e},to:[n]})}const Bo=class Bo{constructor(n){ut(this,"workspaceTimer",null);this.deps=n}startInitialSync(){dt.getState().setWorkspaceSync("requesting"),this.deps.requestWorkspaceList(),this.startWorkspaceTimer()}onWorkspaceListReceived(n){const o=dt.getState();o.workspaceSync!=="synced"&&(this.clearWorkspaceTimer(),o.setWorkspaceSync("synced"),n!==null&&(o.setConversationPhase(n,"requesting"),this.deps.selectConversation(n)))}onHistoryReceived(n,o,s,a){const l=dt.getState();l.setConversationSync(n,o,s,a),l.setConversationPhase(n,"synced")}cleanup(){this.clearWorkspaceTimer(),dt.getState().resetForReconnect()}startWorkspaceTimer(){this.clearWorkspaceTimer(),this.workspaceTimer=setTimeout(()=>{this.handleWorkspaceTimeout()},Bo.TIMEOUT_MS)}clearWorkspaceTimer(){this.workspaceTimer!==null&&(clearTimeout(this.workspaceTimer),this.workspaceTimer=null)}handleWorkspaceTimeout(){const n=dt.getState();if(n.workspaceSync!=="requesting")return;n.incrementWorkspaceRetry();const{workspaceRetryCount:o}=dt.getState();if(o>=Bo.MAX_RETRIES){n.setWorkspaceSync("failed");return}this.deps.requestWorkspaceList(),this.startWorkspaceTimer()}};ut(Bo,"TIMEOUT_MS",5e3),ut(Bo,"MAX_RETRIES",3);let nd=Bo;const cl=new nd({requestWorkspaceList:aC,selectConversation:Gg});/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yg=(...e)=>e.filter((n,o,s)=>!!n&&n.trim()!==""&&s.indexOf(n)===o).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=h.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...f},p)=>h.createElement("svg",{ref:p,...NC,width:n,height:n,stroke:e,strokeWidth:s?Number(o)*24/Number(n):o,className:Yg("lucide",a),...f},[...u.map(([g,v])=>h.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(e,n)=>{const o=h.forwardRef(({className:s,...a},l)=>h.createElement(RC,{ref:l,iconNode:n,className:Yg(`lucide-${EC(e)}`,s),...a}));return o.displayName=`${e}`,o};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Sh=be("ArrowLeft",_C);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],TC=be("ArrowUp",jC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],IC=be("Bug",MC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],AC=be("Building2",DC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],OC=be("Camera",PC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ao=be("Check",LC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],On=be("ChevronDown",FC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xn=be("ChevronRight",zC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Xg=be("CircleAlert",$C);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ch=be("CircleHelp",UC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],WC=be("Clock",BC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],HC=be("CloudOff",VC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],GC=be("Copy",KC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],YC=be("EllipsisVertical",qC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],bh=be("Ellipsis",XC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],JC=be("FileDown",QC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],eb=be("FileText",ZC);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],nb=be("File",tb);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],ob=be("FolderPlus",rb);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],rd=be("Folder",sb);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],ab=be("HardDrive",ib);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],cb=be("House",lb);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],db=be("Image",ub);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]],pb=be("Laptop",fb);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],hb=be("Link2Off",mb);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],vb=be("Link2",gb);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Wt=be("LoaderCircle",yb);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wb=be("Lock",xb);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Cb=be("Menu",Sb);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M17 17H4a2 2 0 0 1-2-2V5c0-1.5 1-2 1-2",key:"k0q8oc"}],["path",{d:"M22 15V5a2 2 0 0 0-2-2H9",key:"cp1ac0"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],kb=be("MonitorOff",bb);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],od=be("Monitor",Eb);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Rb=be("Package",Nb);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],jb=be("Pencil",_b);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],Mb=be("Plug",Tb);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Md=be("Plus",Ib);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ab=be("RefreshCw",Db);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Qg=be("Send",Pb);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Lb=be("Share2",Ob);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zb=be("SquareCheckBig",Fb);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Jg=be("Square",$b);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Zg=be("Trash2",Ub);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Wb=be("TriangleAlert",Bb);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],Hb=be("Type",Vb);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Go=be("X",Kb);function kh(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function gi(...e){return n=>{let o=!1;const s=e.map(a=>{const l=kh(a,n);return!o&&typeof l=="function"&&(o=!0),l});if(o)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():kh(e[a],null)}}}}function ft(...e){return h.useCallback(gi(...e),e)}var Gb=Symbol.for("react.lazy"),ul=Sd[" use ".trim().toString()];function qb(e){return typeof e=="object"&&e!==null&&"then"in e}function ev(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Gb&&"_payload"in e&&qb(e._payload)}function Yb(e){const n=Qb(e),o=h.forwardRef((s,a)=>{let{children:l,...u}=s;ev(l)&&typeof ul=="function"&&(l=ul(l._payload));const f=h.Children.toArray(l),p=f.find(Zb);if(p){const g=p.props.children,v=f.map(x=>x===p?h.Children.count(g)>1?h.Children.only(null):h.isValidElement(g)?g.props.children:null:x);return d.jsx(n,{...u,ref:a,children:h.isValidElement(g)?h.cloneElement(g,void 0,v):null})}return d.jsx(n,{...u,ref:a,children:l})});return o.displayName=`${e}.Slot`,o}var Xb=Yb("Slot");function Qb(e){const n=h.forwardRef((o,s)=>{let{children:a,...l}=o;if(ev(a)&&typeof ul=="function"&&(a=ul(a._payload)),h.isValidElement(a)){const u=tk(a),f=ek(l,a.props);return a.type!==h.Fragment&&(f.ref=s?gi(s,u):u),h.cloneElement(a,f)}return h.Children.count(a)>1?h.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var Jb=Symbol("radix.slottable");function Zb(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Jb}function ek(e,n){const o={...n};for(const s in n){const a=e[s],l=n[s];/^on[A-Z]/.test(s)?a&&l?o[s]=(...f)=>{const p=l(...f);return a(...f),p}:a&&(o[s]=a):s==="style"?o[s]={...a,...l}:s==="className"&&(o[s]=[a,l].filter(Boolean).join(" "))}return{...e,...o}}function tk(e){var s,a;let n=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,o=n&&"isReactWarning"in n&&n.isReactWarning;return o?e.ref:(n=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,o=n&&"isReactWarning"in n&&n.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}function tv(e){var n,o,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(n=0;n<a;n++)e[n]&&(o=tv(e[n]))&&(s&&(s+=" "),s+=o)}else for(o in e)e[o]&&(s&&(s+=" "),s+=o);return s}function nv(){for(var e,n,o=0,s="",a=arguments.length;o<a;o++)(e=arguments[o])&&(n=tv(e))&&(s&&(s+=" "),s+=n);return s}const Eh=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Nh=nv,nk=(e,n)=>o=>{var s;if((n==null?void 0:n.variants)==null)return Nh(e,o==null?void 0:o.class,o==null?void 0:o.className);const{variants:a,defaultVariants:l}=n,u=Object.keys(a).map(g=>{const v=o==null?void 0:o[g],x=l==null?void 0:l[g];if(v===null)return null;const w=Eh(v)||Eh(x);return a[g][w]}),f=o&&Object.entries(o).reduce((g,v)=>{let[x,w]=v;return w===void 0||(g[x]=w),g},{}),p=n==null||(s=n.compoundVariants)===null||s===void 0?void 0:s.reduce((g,v)=>{let{class:x,className:w,...S}=v;return Object.entries(S).every(E=>{let[b,k]=E;return Array.isArray(k)?k.includes({...l,...f}[b]):{...l,...f}[b]===k})?[...g,x,w]:g},[]);return Nh(e,u,p,o==null?void 0:o.class,o==null?void 0:o.className)},rk=(e,n)=>{const o=new Array(e.length+n.length);for(let s=0;s<e.length;s++)o[s]=e[s];for(let s=0;s<n.length;s++)o[e.length+s]=n[s];return o},ok=(e,n)=>({classGroupId:e,validator:n}),rv=(e=new Map,n=null,o)=>({nextPart:e,validators:n,classGroupId:o}),dl="-",Rh=[],sk="arbitrary..",ik=e=>{const n=lk(e),{conflictingClassGroups:o,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return ak(u);const f=u.split(dl),p=f[0]===""&&f.length>1?1:0;return ov(f,p,n)},getConflictingClassGroupIds:(u,f)=>{if(f){const p=s[u],g=o[u];return p?g?rk(g,p):p:g||Rh}return o[u]||Rh}}},ov=(e,n,o)=>{if(e.length-n===0)return o.classGroupId;const a=e[n],l=o.nextPart.get(a);if(l){const g=ov(e,n+1,l);if(g)return g}const u=o.validators;if(u===null)return;const f=n===0?e.join(dl):e.slice(n).join(dl),p=u.length;for(let g=0;g<p;g++){const v=u[g];if(v.validator(f))return v.classGroupId}},ak=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const n=e.slice(1,-1),o=n.indexOf(":"),s=n.slice(0,o);return s?sk+s:void 0})(),lk=e=>{const{theme:n,classGroups:o}=e;return ck(o,n)},ck=(e,n)=>{const o=rv();for(const s in e){const a=e[s];Id(a,o,s,n)}return o},Id=(e,n,o,s)=>{const a=e.length;for(let l=0;l<a;l++){const u=e[l];uk(u,n,o,s)}},uk=(e,n,o,s)=>{if(typeof e=="string"){dk(e,n,o);return}if(typeof e=="function"){fk(e,n,o,s);return}pk(e,n,o,s)},dk=(e,n,o)=>{const s=e===""?n:sv(n,e);s.classGroupId=o},fk=(e,n,o,s)=>{if(mk(e)){Id(e(s),n,o,s);return}n.validators===null&&(n.validators=[]),n.validators.push(ok(o,e))},pk=(e,n,o,s)=>{const a=Object.entries(e),l=a.length;for(let u=0;u<l;u++){const[f,p]=a[u];Id(p,sv(n,f),o,s)}},sv=(e,n)=>{let o=e;const s=n.split(dl),a=s.length;for(let l=0;l<a;l++){const u=s[l];let f=o.nextPart.get(u);f||(f=rv(),o.nextPart.set(u,f)),o=f}return o},mk=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,hk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,o=Object.create(null),s=Object.create(null);const a=(l,u)=>{o[l]=u,n++,n>e&&(n=0,s=o,o=Object.create(null))};return{get(l){let u=o[l];if(u!==void 0)return u;if((u=s[l])!==void 0)return a(l,u),u},set(l,u){l in o?o[l]=u:a(l,u)}}},sd="!",_h=":",gk=[],jh=(e,n,o,s,a)=>({modifiers:e,hasImportantModifier:n,baseClassName:o,maybePostfixModifierPosition:s,isExternal:a}),vk=e=>{const{prefix:n,experimentalParseClassName:o}=e;let s=a=>{const l=[];let u=0,f=0,p=0,g;const v=a.length;for(let b=0;b<v;b++){const k=a[b];if(u===0&&f===0){if(k===_h){l.push(a.slice(p,b)),p=b+1;continue}if(k==="/"){g=b;continue}}k==="["?u++:k==="]"?u--:k==="("?f++:k===")"&&f--}const x=l.length===0?a:a.slice(p);let w=x,S=!1;x.endsWith(sd)?(w=x.slice(0,-1),S=!0):x.startsWith(sd)&&(w=x.slice(1),S=!0);const E=g&&g>p?g-p:void 0;return jh(l,S,w,E)};if(n){const a=n+_h,l=s;s=u=>u.startsWith(a)?l(u.slice(a.length)):jh(gk,!1,u,void 0,!0)}if(o){const a=s;s=l=>o({className:l,parseClassName:a})}return s},yk=e=>{const n=new Map;return e.orderSensitiveModifiers.forEach((o,s)=>{n.set(o,1e6+s)}),o=>{const s=[];let a=[];for(let l=0;l<o.length;l++){const u=o[l],f=u[0]==="[",p=n.has(u);f||p?(a.length>0&&(a.sort(),s.push(...a),a=[]),s.push(u)):a.push(u)}return a.length>0&&(a.sort(),s.push(...a)),s}},xk=e=>({cache:hk(e.cacheSize),parseClassName:vk(e),sortModifiers:yk(e),...ik(e)}),wk=/\s+/,Sk=(e,n)=>{const{parseClassName:o,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=n,u=[],f=e.trim().split(wk);let p="";for(let g=f.length-1;g>=0;g-=1){const v=f[g],{isExternal:x,modifiers:w,hasImportantModifier:S,baseClassName:E,maybePostfixModifierPosition:b}=o(v);if(x){p=v+(p.length>0?" "+p:p);continue}let k=!!b,N=s(k?E.substring(0,b):E);if(!N){if(!k){p=v+(p.length>0?" "+p:p);continue}if(N=s(E),!N){p=v+(p.length>0?" "+p:p);continue}k=!1}const R=w.length===0?"":w.length===1?w[0]:l(w).join(":"),_=S?R+sd:R,I=_+N;if(u.indexOf(I)>-1)continue;u.push(I);const D=a(N,k);for(let P=0;P<D.length;++P){const L=D[P];u.push(_+L)}p=v+(p.length>0?" "+p:p)}return p},Ck=(...e)=>{let n=0,o,s,a="";for(;n<e.length;)(o=e[n++])&&(s=iv(o))&&(a&&(a+=" "),a+=s);return a},iv=e=>{if(typeof e=="string")return e;let n,o="";for(let s=0;s<e.length;s++)e[s]&&(n=iv(e[s]))&&(o&&(o+=" "),o+=n);return o},bk=(e,...n)=>{let o,s,a,l;const u=p=>{const g=n.reduce((v,x)=>x(v),e());return o=xk(g),s=o.cache.get,a=o.cache.set,l=f,f(p)},f=p=>{const g=s(p);if(g)return g;const v=Sk(p,o);return a(p,v),v};return l=u,(...p)=>l(Ck(...p))},kk=[],et=e=>{const n=o=>o[e]||kk;return n.isThemeGetter=!0,n},av=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lv=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ek=/^\d+\/\d+$/,Nk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Rk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_k=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,jk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Tk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lo=e=>Ek.test(e),ke=e=>!!e&&!Number.isNaN(Number(e)),Ar=e=>!!e&&Number.isInteger(Number(e)),Du=e=>e.endsWith("%")&&ke(e.slice(0,-1)),nr=e=>Nk.test(e),Mk=()=>!0,Ik=e=>Rk.test(e)&&!_k.test(e),cv=()=>!1,Dk=e=>jk.test(e),Ak=e=>Tk.test(e),Pk=e=>!ue(e)&&!de(e),Ok=e=>es(e,fv,cv),ue=e=>av.test(e),so=e=>es(e,pv,Ik),Au=e=>es(e,Uk,ke),Th=e=>es(e,uv,cv),Lk=e=>es(e,dv,Ak),La=e=>es(e,mv,Dk),de=e=>lv.test(e),Xs=e=>ts(e,pv),Fk=e=>ts(e,Bk),Mh=e=>ts(e,uv),zk=e=>ts(e,fv),$k=e=>ts(e,dv),Fa=e=>ts(e,mv,!0),es=(e,n,o)=>{const s=av.exec(e);return s?s[1]?n(s[1]):o(s[2]):!1},ts=(e,n,o=!1)=>{const s=lv.exec(e);return s?s[1]?n(s[1]):o:!1},uv=e=>e==="position"||e==="percentage",dv=e=>e==="image"||e==="url",fv=e=>e==="length"||e==="size"||e==="bg-size",pv=e=>e==="length",Uk=e=>e==="number",Bk=e=>e==="family-name",mv=e=>e==="shadow",Wk=()=>{const e=et("color"),n=et("font"),o=et("text"),s=et("font-weight"),a=et("tracking"),l=et("leading"),u=et("breakpoint"),f=et("container"),p=et("spacing"),g=et("radius"),v=et("shadow"),x=et("inset-shadow"),w=et("text-shadow"),S=et("drop-shadow"),E=et("blur"),b=et("perspective"),k=et("aspect"),N=et("ease"),R=et("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...I(),de,ue],P=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],M=()=>[de,ue,p],H=()=>[Lo,"full","auto",...M()],Q=()=>[Ar,"none","subgrid",de,ue],F=()=>["auto",{span:["full",Ar,de,ue]},Ar,de,ue],U=()=>[Ar,"auto",de,ue],q=()=>["auto","min","max","fr",de,ue],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...M()],ee=()=>[Lo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],T=()=>[e,de,ue],V=()=>[...I(),Mh,Th,{position:[de,ue]}],J=()=>["no-repeat",{repeat:["","x","y","space","round"]}],A=()=>["auto","cover","contain",zk,Ok,{size:[de,ue]}],B=()=>[Du,Xs,so],Z=()=>["","none","full",g,de,ue],oe=()=>["",ke,Xs,so],he=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[ke,Du,Mh,Th],ge=()=>["","none",E,de,ue],ve=()=>["none",ke,de,ue],ye=()=>["none",ke,de,ue],Qe=()=>[ke,de,ue],He=()=>[Lo,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[nr],breakpoint:[nr],color:[Mk],container:[nr],"drop-shadow":[nr],ease:["in","out","in-out"],font:[Pk],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[nr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[nr],shadow:[nr],spacing:["px",ke],text:[nr],"text-shadow":[nr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Lo,ue,de,k]}],container:["container"],columns:[{columns:[ke,ue,de,f]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:H()}],"inset-x":[{"inset-x":H()}],"inset-y":[{"inset-y":H()}],start:[{start:H()}],end:[{end:H()}],top:[{top:H()}],right:[{right:H()}],bottom:[{bottom:H()}],left:[{left:H()}],visibility:["visible","invisible","collapse"],z:[{z:[Ar,"auto",de,ue]}],basis:[{basis:[Lo,"full","auto",f,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ke,Lo,"auto","initial","none",ue]}],grow:[{grow:["",ke,de,ue]}],shrink:[{shrink:["",ke,de,ue]}],order:[{order:[Ar,"first","last","none",de,ue]}],"grid-cols":[{"grid-cols":Q()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":Q()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":q()}],"auto-rows":[{"auto-rows":q()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[f,"screen",...ee()]}],"min-w":[{"min-w":[f,"screen","none",...ee()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",o,Xs,so]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,de,Au]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Du,ue]}],"font-family":[{font:[Fk,ue,n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,de,ue]}],"line-clamp":[{"line-clamp":[ke,"none",de,Au]}],leading:[{leading:[l,...M()]}],"list-image":[{"list-image":["none",de,ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",de,ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[ke,"from-font","auto",de,so]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[ke,"auto",de,ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de,ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de,ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:V()}],"bg-repeat":[{bg:J()}],"bg-size":[{bg:A()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ar,de,ue],radial:["",de,ue],conic:[Ar,de,ue]},$k,Lk]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ke,de,ue]}],"outline-w":[{outline:["",ke,Xs,so]}],"outline-color":[{outline:T()}],shadow:[{shadow:["","none",v,Fa,La]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",x,Fa,La]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[ke,so]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":T()}],"text-shadow":[{"text-shadow":["none",w,Fa,La]}],"text-shadow-color":[{"text-shadow":T()}],opacity:[{opacity:[ke,de,ue]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ke]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":T()}],"mask-image-linear-to-color":[{"mask-linear-to":T()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":T()}],"mask-image-t-to-color":[{"mask-t-to":T()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":T()}],"mask-image-r-to-color":[{"mask-r-to":T()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":T()}],"mask-image-b-to-color":[{"mask-b-to":T()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":T()}],"mask-image-l-to-color":[{"mask-l-to":T()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":T()}],"mask-image-x-to-color":[{"mask-x-to":T()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":T()}],"mask-image-y-to-color":[{"mask-y-to":T()}],"mask-image-radial":[{"mask-radial":[de,ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":T()}],"mask-image-radial-to-color":[{"mask-radial-to":T()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[ke]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":T()}],"mask-image-conic-to-color":[{"mask-conic-to":T()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:V()}],"mask-repeat":[{mask:J()}],"mask-size":[{mask:A()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",de,ue]}],filter:[{filter:["","none",de,ue]}],blur:[{blur:ge()}],brightness:[{brightness:[ke,de,ue]}],contrast:[{contrast:[ke,de,ue]}],"drop-shadow":[{"drop-shadow":["","none",S,Fa,La]}],"drop-shadow-color":[{"drop-shadow":T()}],grayscale:[{grayscale:["",ke,de,ue]}],"hue-rotate":[{"hue-rotate":[ke,de,ue]}],invert:[{invert:["",ke,de,ue]}],saturate:[{saturate:[ke,de,ue]}],sepia:[{sepia:["",ke,de,ue]}],"backdrop-filter":[{"backdrop-filter":["","none",de,ue]}],"backdrop-blur":[{"backdrop-blur":ge()}],"backdrop-brightness":[{"backdrop-brightness":[ke,de,ue]}],"backdrop-contrast":[{"backdrop-contrast":[ke,de,ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ke,de,ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ke,de,ue]}],"backdrop-invert":[{"backdrop-invert":["",ke,de,ue]}],"backdrop-opacity":[{"backdrop-opacity":[ke,de,ue]}],"backdrop-saturate":[{"backdrop-saturate":[ke,de,ue]}],"backdrop-sepia":[{"backdrop-sepia":["",ke,de,ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",de,ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ke,"initial",de,ue]}],ease:[{ease:["linear","initial",N,de,ue]}],delay:[{delay:[ke,de,ue]}],animate:[{animate:["none",R,de,ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[b,de,ue]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:ve()}],"rotate-x":[{"rotate-x":ve()}],"rotate-y":[{"rotate-y":ve()}],"rotate-z":[{"rotate-z":ve()}],scale:[{scale:ye()}],"scale-x":[{"scale-x":ye()}],"scale-y":[{"scale-y":ye()}],"scale-z":[{"scale-z":ye()}],"scale-3d":["scale-3d"],skew:[{skew:Qe()}],"skew-x":[{"skew-x":Qe()}],"skew-y":[{"skew-y":Qe()}],transform:[{transform:[de,ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:He()}],"translate-x":[{"translate-x":He()}],"translate-y":[{"translate-y":He()}],"translate-z":[{"translate-z":He()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de,ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de,ue]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[ke,Xs,so,Au]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Vk=bk(Wk);function xe(...e){return Vk(nv(e))}const Hk=nk("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Te=h.forwardRef(({className:e,variant:n,size:o,asChild:s=!1,...a},l)=>{const u=s?Xb:"button";return d.jsx(u,{className:xe(Hk({variant:n,size:o,className:e})),ref:l,...a})});Te.displayName="Button";function Ee(e,n,{checkForDefaultPrevented:o=!0}={}){return function(a){if(e==null||e(a),o===!1||!a.defaultPrevented)return n==null?void 0:n(a)}}function Kk(e,n){const o=h.createContext(n),s=l=>{const{children:u,...f}=l,p=h.useMemo(()=>f,Object.values(f));return d.jsx(o.Provider,{value:p,children:u})};s.displayName=e+"Provider";function a(l){const u=h.useContext(o);if(u)return u;if(n!==void 0)return n;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[s,a]}function ns(e,n=[]){let o=[];function s(l,u){const f=h.createContext(u),p=o.length;o=[...o,u];const g=x=>{var N;const{scope:w,children:S,...E}=x,b=((N=w==null?void 0:w[e])==null?void 0:N[p])||f,k=h.useMemo(()=>E,Object.values(E));return d.jsx(b.Provider,{value:k,children:S})};g.displayName=l+"Provider";function v(x,w){var b;const S=((b=w==null?void 0:w[e])==null?void 0:b[p])||f,E=h.useContext(S);if(E)return E;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[g,v]}const a=()=>{const l=o.map(u=>h.createContext(u));return function(f){const p=(f==null?void 0:f[e])||l;return h.useMemo(()=>({[`__scope${e}`]:{...f,[e]:p}}),[f,p])}};return a.scopeName=e,[s,Gk(a,...n)]}function Gk(...e){const n=e[0];if(e.length===1)return n;const o=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const u=s.reduce((f,{useScope:p,scopeName:g})=>{const x=p(l)[`__scope${g}`];return{...f,...x}},{});return h.useMemo(()=>({[`__scope${n.scopeName}`]:u}),[u])}};return o.scopeName=n.scopeName,o}var $r=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},qk=Sd[" useId ".trim().toString()]||(()=>{}),Yk=0;function Wo(e){const[n,o]=h.useState(qk());return $r(()=>{o(s=>s??String(Yk++))},[e]),n?`radix-${n}`:""}var Xk=Sd[" useInsertionEffect ".trim().toString()]||$r;function Dd({prop:e,defaultProp:n,onChange:o=()=>{},caller:s}){const[a,l,u]=Qk({defaultProp:n,onChange:o}),f=e!==void 0,p=f?e:a;{const v=h.useRef(e!==void 0);h.useEffect(()=>{const x=v.current;x!==f&&console.warn(`${s} is changing from ${x?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=f},[f,s])}const g=h.useCallback(v=>{var x;if(f){const w=Jk(v)?v(e):v;w!==e&&((x=u.current)==null||x.call(u,w))}else l(v)},[f,e,l,u]);return[p,g]}function Qk({defaultProp:e,onChange:n}){const[o,s]=h.useState(e),a=h.useRef(o),l=h.useRef(n);return Xk(()=>{l.current=n},[n]),h.useEffect(()=>{var u;a.current!==o&&((u=l.current)==null||u.call(l,o),a.current=o)},[o,a]),[o,s,l]}function Jk(e){return typeof e=="function"}function si(e){const n=Zk(e),o=h.forwardRef((s,a)=>{const{children:l,...u}=s,f=h.Children.toArray(l),p=f.find(tE);if(p){const g=p.props.children,v=f.map(x=>x===p?h.Children.count(g)>1?h.Children.only(null):h.isValidElement(g)?g.props.children:null:x);return d.jsx(n,{...u,ref:a,children:h.isValidElement(g)?h.cloneElement(g,void 0,v):null})}return d.jsx(n,{...u,ref:a,children:l})});return o.displayName=`${e}.Slot`,o}function Zk(e){const n=h.forwardRef((o,s)=>{const{children:a,...l}=o;if(h.isValidElement(a)){const u=rE(a),f=nE(l,a.props);return a.type!==h.Fragment&&(f.ref=s?gi(s,u):u),h.cloneElement(a,f)}return h.Children.count(a)>1?h.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var eE=Symbol("radix.slottable");function tE(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eE}function nE(e,n){const o={...n};for(const s in n){const a=e[s],l=n[s];/^on[A-Z]/.test(s)?a&&l?o[s]=(...f)=>{const p=l(...f);return a(...f),p}:a&&(o[s]=a):s==="style"?o[s]={...a,...l}:s==="className"&&(o[s]=[a,l].filter(Boolean).join(" "))}return{...e,...o}}function rE(e){var s,a;let n=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,o=n&&"isReactWarning"in n&&n.isReactWarning;return o?e.ref:(n=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,o=n&&"isReactWarning"in n&&n.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}var oE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=oE.reduce((e,n)=>{const o=si(`Primitive.${n}`),s=h.forwardRef((a,l)=>{const{asChild:u,...f}=a,p=u?o:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(p,{...f,ref:l})});return s.displayName=`Primitive.${n}`,{...e,[n]:s}},{});function hv(e,n){e&&zr.flushSync(()=>e.dispatchEvent(n))}function ar(e){const n=h.useRef(e);return h.useEffect(()=>{n.current=e}),h.useMemo(()=>(...o)=>{var s;return(s=n.current)==null?void 0:s.call(n,...o)},[])}function sE(e,n=globalThis==null?void 0:globalThis.document){const o=ar(e);h.useEffect(()=>{const s=a=>{a.key==="Escape"&&o(a)};return n.addEventListener("keydown",s,{capture:!0}),()=>n.removeEventListener("keydown",s,{capture:!0})},[o,n])}var iE="DismissableLayer",id="dismissableLayer.update",aE="dismissableLayer.pointerDownOutside",lE="dismissableLayer.focusOutside",Ih,gv=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ad=h.forwardRef((e,n)=>{const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:u,onDismiss:f,...p}=e,g=h.useContext(gv),[v,x]=h.useState(null),w=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=h.useState({}),E=ft(n,L=>x(L)),b=Array.from(g.layers),[k]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),N=b.indexOf(k),R=v?b.indexOf(v):-1,_=g.layersWithOutsidePointerEventsDisabled.size>0,I=R>=N,D=dE(L=>{const M=L.target,H=[...g.branches].some(Q=>Q.contains(M));!I||H||(a==null||a(L),u==null||u(L),L.defaultPrevented||f==null||f())},w),P=fE(L=>{const M=L.target;[...g.branches].some(Q=>Q.contains(M))||(l==null||l(L),u==null||u(L),L.defaultPrevented||f==null||f())},w);return sE(L=>{R===g.layers.size-1&&(s==null||s(L),!L.defaultPrevented&&f&&(L.preventDefault(),f()))},w),h.useEffect(()=>{if(v)return o&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(Ih=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(v)),g.layers.add(v),Dh(),()=>{o&&g.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Ih)}},[v,w,o,g]),h.useEffect(()=>()=>{v&&(g.layers.delete(v),g.layersWithOutsidePointerEventsDisabled.delete(v),Dh())},[v,g]),h.useEffect(()=>{const L=()=>S({});return document.addEventListener(id,L),()=>document.removeEventListener(id,L)},[]),d.jsx(Xe.div,{...p,ref:E,style:{pointerEvents:_?I?"auto":"none":void 0,...e.style},onFocusCapture:Ee(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Ee(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ee(e.onPointerDownCapture,D.onPointerDownCapture)})});Ad.displayName=iE;var cE="DismissableLayerBranch",uE=h.forwardRef((e,n)=>{const o=h.useContext(gv),s=h.useRef(null),a=ft(n,s);return h.useEffect(()=>{const l=s.current;if(l)return o.branches.add(l),()=>{o.branches.delete(l)}},[o.branches]),d.jsx(Xe.div,{...e,ref:a})});uE.displayName=cE;function dE(e,n=globalThis==null?void 0:globalThis.document){const o=ar(e),s=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const l=f=>{if(f.target&&!s.current){let p=function(){vv(aE,o,g,{discrete:!0})};const g={originalEvent:f};f.pointerType==="touch"?(n.removeEventListener("click",a.current),a.current=p,n.addEventListener("click",a.current,{once:!0})):p()}else n.removeEventListener("click",a.current);s.current=!1},u=window.setTimeout(()=>{n.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),n.removeEventListener("pointerdown",l),n.removeEventListener("click",a.current)}},[n,o]),{onPointerDownCapture:()=>s.current=!0}}function fE(e,n=globalThis==null?void 0:globalThis.document){const o=ar(e),s=h.useRef(!1);return h.useEffect(()=>{const a=l=>{l.target&&!s.current&&vv(lE,o,{originalEvent:l},{discrete:!1})};return n.addEventListener("focusin",a),()=>n.removeEventListener("focusin",a)},[n,o]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Dh(){const e=new CustomEvent(id);document.dispatchEvent(e)}function vv(e,n,o,{discrete:s}){const a=o.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:o});n&&a.addEventListener(e,n,{once:!0}),s?hv(a,l):a.dispatchEvent(l)}var Pu="focusScope.autoFocusOnMount",Ou="focusScope.autoFocusOnUnmount",Ah={bubbles:!1,cancelable:!0},pE="FocusScope",Pd=h.forwardRef((e,n)=>{const{loop:o=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...u}=e,[f,p]=h.useState(null),g=ar(a),v=ar(l),x=h.useRef(null),w=ft(n,b=>p(b)),S=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(s){let b=function(_){if(S.paused||!f)return;const I=_.target;f.contains(I)?x.current=I:Lr(x.current,{select:!0})},k=function(_){if(S.paused||!f)return;const I=_.relatedTarget;I!==null&&(f.contains(I)||Lr(x.current,{select:!0}))},N=function(_){if(document.activeElement===document.body)for(const D of _)D.removedNodes.length>0&&Lr(f)};document.addEventListener("focusin",b),document.addEventListener("focusout",k);const R=new MutationObserver(N);return f&&R.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",k),R.disconnect()}}},[s,f,S.paused]),h.useEffect(()=>{if(f){Oh.add(S);const b=document.activeElement;if(!f.contains(b)){const N=new CustomEvent(Pu,Ah);f.addEventListener(Pu,g),f.dispatchEvent(N),N.defaultPrevented||(mE(xE(yv(f)),{select:!0}),document.activeElement===b&&Lr(f))}return()=>{f.removeEventListener(Pu,g),setTimeout(()=>{const N=new CustomEvent(Ou,Ah);f.addEventListener(Ou,v),f.dispatchEvent(N),N.defaultPrevented||Lr(b??document.body,{select:!0}),f.removeEventListener(Ou,v),Oh.remove(S)},0)}}},[f,g,v,S]);const E=h.useCallback(b=>{if(!o&&!s||S.paused)return;const k=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,N=document.activeElement;if(k&&N){const R=b.currentTarget,[_,I]=hE(R);_&&I?!b.shiftKey&&N===I?(b.preventDefault(),o&&Lr(_,{select:!0})):b.shiftKey&&N===_&&(b.preventDefault(),o&&Lr(I,{select:!0})):N===R&&b.preventDefault()}},[o,s,S.paused]);return d.jsx(Xe.div,{tabIndex:-1,...u,ref:w,onKeyDown:E})});Pd.displayName=pE;function mE(e,{select:n=!1}={}){const o=document.activeElement;for(const s of e)if(Lr(s,{select:n}),document.activeElement!==o)return}function hE(e){const n=yv(e),o=Ph(n,e),s=Ph(n.reverse(),e);return[o,s]}function yv(e){const n=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)n.push(o.currentNode);return n}function Ph(e,n){for(const o of e)if(!gE(o,{upTo:n}))return o}function gE(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function vE(e){return e instanceof HTMLInputElement&&"select"in e}function Lr(e,{select:n=!1}={}){if(e&&e.focus){const o=document.activeElement;e.focus({preventScroll:!0}),e!==o&&vE(e)&&n&&e.select()}}var Oh=yE();function yE(){let e=[];return{add(n){const o=e[0];n!==o&&(o==null||o.pause()),e=Lh(e,n),e.unshift(n)},remove(n){var o;e=Lh(e,n),(o=e[0])==null||o.resume()}}}function Lh(e,n){const o=[...e],s=o.indexOf(n);return s!==-1&&o.splice(s,1),o}function xE(e){return e.filter(n=>n.tagName!=="A")}var wE="Portal",Od=h.forwardRef((e,n)=>{var f;const{container:o,...s}=e,[a,l]=h.useState(!1);$r(()=>l(!0),[]);const u=o||a&&((f=globalThis==null?void 0:globalThis.document)==null?void 0:f.body);return u?P1.createPortal(d.jsx(Xe.div,{...s,ref:n}),u):null});Od.displayName=wE;function SE(e,n){return h.useReducer((o,s)=>n[o][s]??o,e)}var Vr=e=>{const{present:n,children:o}=e,s=CE(n),a=typeof o=="function"?o({present:s.isPresent}):h.Children.only(o),l=ft(s.ref,bE(a));return typeof o=="function"||s.isPresent?h.cloneElement(a,{ref:l}):null};Vr.displayName="Presence";function CE(e){const[n,o]=h.useState(),s=h.useRef(null),a=h.useRef(e),l=h.useRef("none"),u=e?"mounted":"unmounted",[f,p]=SE(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const g=za(s.current);l.current=f==="mounted"?g:"none"},[f]),$r(()=>{const g=s.current,v=a.current;if(v!==e){const w=l.current,S=za(g);e?p("MOUNT"):S==="none"||(g==null?void 0:g.display)==="none"?p("UNMOUNT"):p(v&&w!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,p]),$r(()=>{if(n){let g;const v=n.ownerDocument.defaultView??window,x=S=>{const b=za(s.current).includes(CSS.escape(S.animationName));if(S.target===n&&b&&(p("ANIMATION_END"),!a.current)){const k=n.style.animationFillMode;n.style.animationFillMode="forwards",g=v.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=k)})}},w=S=>{S.target===n&&(l.current=za(s.current))};return n.addEventListener("animationstart",w),n.addEventListener("animationcancel",x),n.addEventListener("animationend",x),()=>{v.clearTimeout(g),n.removeEventListener("animationstart",w),n.removeEventListener("animationcancel",x),n.removeEventListener("animationend",x)}}else p("ANIMATION_END")},[n,p]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:h.useCallback(g=>{s.current=g?getComputedStyle(g):null,o(g)},[])}}function za(e){return(e==null?void 0:e.animationName)||"none"}function bE(e){var s,a;let n=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,o=n&&"isReactWarning"in n&&n.isReactWarning;return o?e.ref:(n=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,o=n&&"isReactWarning"in n&&n.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}var Lu=0;function xv(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Fh()),document.body.insertAdjacentElement("beforeend",e[1]??Fh()),Lu++,()=>{Lu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Lu--}},[])}function Fh(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ln=function(){return Ln=Object.assign||function(n){for(var o,s=1,a=arguments.length;s<a;s++){o=arguments[s];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l])}return n},Ln.apply(this,arguments)};function wv(e,n){var o={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(o[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)n.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(o[s[a]]=e[s[a]]);return o}function kE(e,n,o){if(o||arguments.length===2)for(var s=0,a=n.length,l;s<a;s++)(l||!(s in n))&&(l||(l=Array.prototype.slice.call(n,0,s)),l[s]=n[s]);return e.concat(l||Array.prototype.slice.call(n))}var Za="right-scroll-bar-position",el="width-before-scroll-bar",EE="with-scroll-bars-hidden",NE="--removed-body-scroll-bar-size";function Fu(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function RE(e,n){var o=h.useState(function(){return{value:e,callback:n,facade:{get current(){return o.value},set current(s){var a=o.value;a!==s&&(o.value=s,o.callback(s,a))}}}})[0];return o.callback=n,o.facade}var _E=typeof window<"u"?h.useLayoutEffect:h.useEffect,zh=new WeakMap;function jE(e,n){var o=RE(null,function(s){return e.forEach(function(a){return Fu(a,s)})});return _E(function(){var s=zh.get(o);if(s){var a=new Set(s),l=new Set(e),u=o.current;a.forEach(function(f){l.has(f)||Fu(f,null)}),l.forEach(function(f){a.has(f)||Fu(f,u)})}zh.set(o,e)},[e]),o}function TE(e){return e}function ME(e,n){n===void 0&&(n=TE);var o=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return o.length?o[o.length-1]:e},useMedium:function(l){var u=n(l,s);return o.push(u),function(){o=o.filter(function(f){return f!==u})}},assignSyncMedium:function(l){for(s=!0;o.length;){var u=o;o=[],u.forEach(l)}o={push:function(f){return l(f)},filter:function(){return o}}},assignMedium:function(l){s=!0;var u=[];if(o.length){var f=o;o=[],f.forEach(l),u=o}var p=function(){var v=u;u=[],v.forEach(l)},g=function(){return Promise.resolve().then(p)};g(),o={push:function(v){u.push(v),g()},filter:function(v){return u=u.filter(v),o}}}};return a}function IE(e){e===void 0&&(e={});var n=ME(null);return n.options=Ln({async:!0,ssr:!1},e),n}var Sv=function(e){var n=e.sideCar,o=wv(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=n.read();if(!s)throw new Error("Sidecar medium not found");return h.createElement(s,Ln({},o))};Sv.isSideCarExport=!0;function DE(e,n){return e.useMedium(n),Sv}var Cv=IE(),zu=function(){},_l=h.forwardRef(function(e,n){var o=h.useRef(null),s=h.useState({onScrollCapture:zu,onWheelCapture:zu,onTouchMoveCapture:zu}),a=s[0],l=s[1],u=e.forwardProps,f=e.children,p=e.className,g=e.removeScrollBar,v=e.enabled,x=e.shards,w=e.sideCar,S=e.noRelative,E=e.noIsolation,b=e.inert,k=e.allowPinchZoom,N=e.as,R=N===void 0?"div":N,_=e.gapMode,I=wv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=w,P=jE([o,n]),L=Ln(Ln({},I),a);return h.createElement(h.Fragment,null,v&&h.createElement(D,{sideCar:Cv,removeScrollBar:g,shards:x,noRelative:S,noIsolation:E,inert:b,setCallbacks:l,allowPinchZoom:!!k,lockRef:o,gapMode:_}),u?h.cloneElement(h.Children.only(f),Ln(Ln({},L),{ref:P})):h.createElement(R,Ln({},L,{className:p,ref:P}),f))});_l.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_l.classNames={fullWidth:el,zeroRight:Za};var AE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function PE(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=AE();return n&&e.setAttribute("nonce",n),e}function OE(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function LE(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var FE=function(){var e=0,n=null;return{add:function(o){e==0&&(n=PE())&&(OE(n,o),LE(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},zE=function(){var e=FE();return function(n,o){h.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&o])}},bv=function(){var e=zE(),n=function(o){var s=o.styles,a=o.dynamic;return e(s,a),null};return n},$E={left:0,top:0,right:0,gap:0},$u=function(e){return parseInt(e||"",10)||0},UE=function(e){var n=window.getComputedStyle(document.body),o=n[e==="padding"?"paddingLeft":"marginLeft"],s=n[e==="padding"?"paddingTop":"marginTop"],a=n[e==="padding"?"paddingRight":"marginRight"];return[$u(o),$u(s),$u(a)]},BE=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $E;var n=UE(e),o=document.documentElement.clientWidth,s=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,s-o+n[2]-n[0])}},WE=bv(),Vo="data-scroll-locked",VE=function(e,n,o,s){var a=e.left,l=e.top,u=e.right,f=e.gap;return o===void 0&&(o="margin"),`
  .`.concat(EE,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(f,"px ").concat(s,`;
  }
  body[`).concat(Vo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(s,";"),o==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(s,`;
    `),o==="padding"&&"padding-right: ".concat(f,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Za,` {
    right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(el,` {
    margin-right: `).concat(f,"px ").concat(s,`;
  }
  
  .`).concat(Za," .").concat(Za,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(el," .").concat(el,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Vo,`] {
    `).concat(NE,": ").concat(f,`px;
  }
`)},$h=function(){var e=parseInt(document.body.getAttribute(Vo)||"0",10);return isFinite(e)?e:0},HE=function(){h.useEffect(function(){return document.body.setAttribute(Vo,($h()+1).toString()),function(){var e=$h()-1;e<=0?document.body.removeAttribute(Vo):document.body.setAttribute(Vo,e.toString())}},[])},KE=function(e){var n=e.noRelative,o=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;HE();var l=h.useMemo(function(){return BE(a)},[a]);return h.createElement(WE,{styles:VE(l,!n,a,o?"":"!important")})},ad=!1;if(typeof window<"u")try{var $a=Object.defineProperty({},"passive",{get:function(){return ad=!0,!0}});window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{ad=!1}var Fo=ad?{passive:!1}:!1,GE=function(e){return e.tagName==="TEXTAREA"},kv=function(e,n){if(!(e instanceof Element))return!1;var o=window.getComputedStyle(e);return o[n]!=="hidden"&&!(o.overflowY===o.overflowX&&!GE(e)&&o[n]==="visible")},qE=function(e){return kv(e,"overflowY")},YE=function(e){return kv(e,"overflowX")},Uh=function(e,n){var o=n.ownerDocument,s=n;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=Ev(e,s);if(a){var l=Nv(e,s),u=l[1],f=l[2];if(u>f)return!0}s=s.parentNode}while(s&&s!==o.body);return!1},XE=function(e){var n=e.scrollTop,o=e.scrollHeight,s=e.clientHeight;return[n,o,s]},QE=function(e){var n=e.scrollLeft,o=e.scrollWidth,s=e.clientWidth;return[n,o,s]},Ev=function(e,n){return e==="v"?qE(n):YE(n)},Nv=function(e,n){return e==="v"?XE(n):QE(n)},JE=function(e,n){return e==="h"&&n==="rtl"?-1:1},ZE=function(e,n,o,s,a){var l=JE(e,window.getComputedStyle(n).direction),u=l*s,f=o.target,p=n.contains(f),g=!1,v=u>0,x=0,w=0;do{if(!f)break;var S=Nv(e,f),E=S[0],b=S[1],k=S[2],N=b-k-l*E;(E||N)&&Ev(e,f)&&(x+=N,w+=E);var R=f.parentNode;f=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!p&&f!==document.body||p&&(n.contains(f)||n===f));return(v&&Math.abs(x)<1||!v&&Math.abs(w)<1)&&(g=!0),g},Ua=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Bh=function(e){return[e.deltaX,e.deltaY]},Wh=function(e){return e&&"current"in e?e.current:e},eN=function(e,n){return e[0]===n[0]&&e[1]===n[1]},tN=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},nN=0,zo=[];function rN(e){var n=h.useRef([]),o=h.useRef([0,0]),s=h.useRef(),a=h.useState(nN++)[0],l=h.useState(bv)[0],u=h.useRef(e);h.useEffect(function(){u.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var b=kE([e.lockRef.current],(e.shards||[]).map(Wh),!0).filter(Boolean);return b.forEach(function(k){return k.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),b.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var f=h.useCallback(function(b,k){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!u.current.allowPinchZoom;var N=Ua(b),R=o.current,_="deltaX"in b?b.deltaX:R[0]-N[0],I="deltaY"in b?b.deltaY:R[1]-N[1],D,P=b.target,L=Math.abs(_)>Math.abs(I)?"h":"v";if("touches"in b&&L==="h"&&P.type==="range")return!1;var M=window.getSelection(),H=M&&M.anchorNode,Q=H?H===P||H.contains(P):!1;if(Q)return!1;var F=Uh(L,P);if(!F)return!0;if(F?D=L:(D=L==="v"?"h":"v",F=Uh(L,P)),!F)return!1;if(!s.current&&"changedTouches"in b&&(_||I)&&(s.current=D),!D)return!0;var U=s.current||D;return ZE(U,k,b,U==="h"?_:I)},[]),p=h.useCallback(function(b){var k=b;if(!(!zo.length||zo[zo.length-1]!==l)){var N="deltaY"in k?Bh(k):Ua(k),R=n.current.filter(function(D){return D.name===k.type&&(D.target===k.target||k.target===D.shadowParent)&&eN(D.delta,N)})[0];if(R&&R.should){k.cancelable&&k.preventDefault();return}if(!R){var _=(u.current.shards||[]).map(Wh).filter(Boolean).filter(function(D){return D.contains(k.target)}),I=_.length>0?f(k,_[0]):!u.current.noIsolation;I&&k.cancelable&&k.preventDefault()}}},[]),g=h.useCallback(function(b,k,N,R){var _={name:b,delta:k,target:N,should:R,shadowParent:oN(N)};n.current.push(_),setTimeout(function(){n.current=n.current.filter(function(I){return I!==_})},1)},[]),v=h.useCallback(function(b){o.current=Ua(b),s.current=void 0},[]),x=h.useCallback(function(b){g(b.type,Bh(b),b.target,f(b,e.lockRef.current))},[]),w=h.useCallback(function(b){g(b.type,Ua(b),b.target,f(b,e.lockRef.current))},[]);h.useEffect(function(){return zo.push(l),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:w}),document.addEventListener("wheel",p,Fo),document.addEventListener("touchmove",p,Fo),document.addEventListener("touchstart",v,Fo),function(){zo=zo.filter(function(b){return b!==l}),document.removeEventListener("wheel",p,Fo),document.removeEventListener("touchmove",p,Fo),document.removeEventListener("touchstart",v,Fo)}},[]);var S=e.removeScrollBar,E=e.inert;return h.createElement(h.Fragment,null,E?h.createElement(l,{styles:tN(a)}):null,S?h.createElement(KE,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function oN(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const sN=DE(Cv,rN);var Ld=h.forwardRef(function(e,n){return h.createElement(_l,Ln({},e,{ref:n,sideCar:sN}))});Ld.classNames=_l.classNames;var iN=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},$o=new WeakMap,Ba=new WeakMap,Wa={},Uu=0,Rv=function(e){return e&&(e.host||Rv(e.parentNode))},aN=function(e,n){return n.map(function(o){if(e.contains(o))return o;var s=Rv(o);return s&&e.contains(s)?s:(console.error("aria-hidden",o,"in not contained inside",e,". Doing nothing"),null)}).filter(function(o){return!!o})},lN=function(e,n,o,s){var a=aN(n,Array.isArray(e)?e:[e]);Wa[o]||(Wa[o]=new WeakMap);var l=Wa[o],u=[],f=new Set,p=new Set(a),g=function(x){!x||f.has(x)||(f.add(x),g(x.parentNode))};a.forEach(g);var v=function(x){!x||p.has(x)||Array.prototype.forEach.call(x.children,function(w){if(f.has(w))v(w);else try{var S=w.getAttribute(s),E=S!==null&&S!=="false",b=($o.get(w)||0)+1,k=(l.get(w)||0)+1;$o.set(w,b),l.set(w,k),u.push(w),b===1&&E&&Ba.set(w,!0),k===1&&w.setAttribute(o,"true"),E||w.setAttribute(s,"true")}catch(N){console.error("aria-hidden: cannot operate on ",w,N)}})};return v(n),f.clear(),Uu++,function(){u.forEach(function(x){var w=$o.get(x)-1,S=l.get(x)-1;$o.set(x,w),l.set(x,S),w||(Ba.has(x)||x.removeAttribute(s),Ba.delete(x)),S||x.removeAttribute(o)}),Uu--,Uu||($o=new WeakMap,$o=new WeakMap,Ba=new WeakMap,Wa={})}},_v=function(e,n,o){o===void 0&&(o="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=iN(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),lN(s,a,o,"aria-hidden")):function(){return null}},jl="Dialog",[jv]=ns(jl),[cN,_n]=jv(jl),Tv=e=>{const{__scopeDialog:n,children:o,open:s,defaultOpen:a,onOpenChange:l,modal:u=!0}=e,f=h.useRef(null),p=h.useRef(null),[g,v]=Dd({prop:s,defaultProp:a??!1,onChange:l,caller:jl});return d.jsx(cN,{scope:n,triggerRef:f,contentRef:p,contentId:Wo(),titleId:Wo(),descriptionId:Wo(),open:g,onOpenChange:v,onOpenToggle:h.useCallback(()=>v(x=>!x),[v]),modal:u,children:o})};Tv.displayName=jl;var Mv="DialogTrigger",uN=h.forwardRef((e,n)=>{const{__scopeDialog:o,...s}=e,a=_n(Mv,o),l=ft(n,a.triggerRef);return d.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":$d(a.open),...s,ref:l,onClick:Ee(e.onClick,a.onOpenToggle)})});uN.displayName=Mv;var Fd="DialogPortal",[dN,Iv]=jv(Fd,{forceMount:void 0}),Dv=e=>{const{__scopeDialog:n,forceMount:o,children:s,container:a}=e,l=_n(Fd,n);return d.jsx(dN,{scope:n,forceMount:o,children:h.Children.map(s,u=>d.jsx(Vr,{present:o||l.open,children:d.jsx(Od,{asChild:!0,container:a,children:u})}))})};Dv.displayName=Fd;var fl="DialogOverlay",Av=h.forwardRef((e,n)=>{const o=Iv(fl,e.__scopeDialog),{forceMount:s=o.forceMount,...a}=e,l=_n(fl,e.__scopeDialog);return l.modal?d.jsx(Vr,{present:s||l.open,children:d.jsx(pN,{...a,ref:n})}):null});Av.displayName=fl;var fN=si("DialogOverlay.RemoveScroll"),pN=h.forwardRef((e,n)=>{const{__scopeDialog:o,...s}=e,a=_n(fl,o);return d.jsx(Ld,{as:fN,allowPinchZoom:!0,shards:[a.contentRef],children:d.jsx(Xe.div,{"data-state":$d(a.open),...s,ref:n,style:{pointerEvents:"auto",...s.style}})})}),lo="DialogContent",Pv=h.forwardRef((e,n)=>{const o=Iv(lo,e.__scopeDialog),{forceMount:s=o.forceMount,...a}=e,l=_n(lo,e.__scopeDialog);return d.jsx(Vr,{present:s||l.open,children:l.modal?d.jsx(mN,{...a,ref:n}):d.jsx(hN,{...a,ref:n})})});Pv.displayName=lo;var mN=h.forwardRef((e,n)=>{const o=_n(lo,e.__scopeDialog),s=h.useRef(null),a=ft(n,o.contentRef,s);return h.useEffect(()=>{const l=s.current;if(l)return _v(l)},[]),d.jsx(Ov,{...e,ref:a,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(e.onCloseAutoFocus,l=>{var u;l.preventDefault(),(u=o.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Ee(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&l.preventDefault()}),onFocusOutside:Ee(e.onFocusOutside,l=>l.preventDefault())})}),hN=h.forwardRef((e,n)=>{const o=_n(lo,e.__scopeDialog),s=h.useRef(!1),a=h.useRef(!1);return d.jsx(Ov,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var u,f;(u=e.onCloseAutoFocus)==null||u.call(e,l),l.defaultPrevented||(s.current||(f=o.triggerRef.current)==null||f.focus(),l.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:l=>{var p,g;(p=e.onInteractOutside)==null||p.call(e,l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=l.target;((g=o.triggerRef.current)==null?void 0:g.contains(u))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),Ov=h.forwardRef((e,n)=>{const{__scopeDialog:o,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:l,...u}=e,f=_n(lo,o),p=h.useRef(null),g=ft(n,p);return xv(),d.jsxs(d.Fragment,{children:[d.jsx(Pd,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:l,children:d.jsx(Ad,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":$d(f.open),...u,ref:g,onDismiss:()=>f.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(gN,{titleId:f.titleId}),d.jsx(yN,{contentRef:p,descriptionId:f.descriptionId})]})]})}),zd="DialogTitle",Lv=h.forwardRef((e,n)=>{const{__scopeDialog:o,...s}=e,a=_n(zd,o);return d.jsx(Xe.h2,{id:a.titleId,...s,ref:n})});Lv.displayName=zd;var Fv="DialogDescription",zv=h.forwardRef((e,n)=>{const{__scopeDialog:o,...s}=e,a=_n(Fv,o);return d.jsx(Xe.p,{id:a.descriptionId,...s,ref:n})});zv.displayName=Fv;var $v="DialogClose",Uv=h.forwardRef((e,n)=>{const{__scopeDialog:o,...s}=e,a=_n($v,o);return d.jsx(Xe.button,{type:"button",...s,ref:n,onClick:Ee(e.onClick,()=>a.onOpenChange(!1))})});Uv.displayName=$v;function $d(e){return e?"open":"closed"}var Bv="DialogTitleWarning",[zM,Wv]=Kk(Bv,{contentName:lo,titleName:zd,docsSlug:"dialog"}),gN=({titleId:e})=>{const n=Wv(Bv),o=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(o))},[o,e]),null},vN="DialogDescriptionWarning",yN=({contentRef:e,descriptionId:n})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Wv(vN).contentName}}.`;return h.useEffect(()=>{var l;const a=(l=e.current)==null?void 0:l.getAttribute("aria-describedby");n&&a&&(document.getElementById(n)||console.warn(s))},[s,e,n]),null},xN=Tv,wN=Dv,Vv=Av,Hv=Pv,Kv=Lv,Gv=zv,SN=Uv;const Un=xN,CN=wN,qv=h.forwardRef(({className:e,...n},o)=>d.jsx(Vv,{ref:o,className:xe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n}));qv.displayName=Vv.displayName;const wn=h.forwardRef(({className:e,children:n,...o},s)=>d.jsxs(CN,{children:[d.jsx(qv,{}),d.jsxs(Hv,{ref:s,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...o,children:[n,d.jsxs(SN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(Go,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wn.displayName=Hv.displayName;const Sn=({className:e,...n})=>d.jsx("div",{className:xe("flex flex-col space-y-1.5 text-center sm:text-left",e),...n});Sn.displayName="DialogHeader";const qo=({className:e,...n})=>d.jsx("div",{className:xe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...n});qo.displayName="DialogFooter";const Cn=h.forwardRef(({className:e,...n},o)=>d.jsx(Kv,{ref:o,className:xe("text-lg font-semibold leading-none tracking-tight",e),...n}));Cn.displayName=Kv.displayName;const Yo=h.forwardRef(({className:e,...n},o)=>d.jsx(Gv,{ref:o,className:xe("text-sm text-muted-foreground",e),...n}));Yo.displayName=Gv.displayName;const Yv=h.forwardRef(({className:e,maxRows:n=6,minRows:o=1,onChange:s,onChangeEvent:a,value:l,...u},f)=>{const p=h.useRef(null),g=24,v=h.useCallback(S=>{p.current=S,typeof f=="function"?f(S):f&&(f.current=S)},[f]),x=h.useCallback(()=>{const S=p.current;if(!S)return;S.style.height="auto";const E=o*g,b=n*g,k=S.scrollHeight,N=Math.min(Math.max(k,E),b);S.style.height=`${N}px`,S.style.overflowY=k>b?"auto":"hidden"},[n,o]);h.useLayoutEffect(()=>{x()},[l,x]);const w=h.useCallback(S=>{s==null||s(S.target.value),a==null||a(S),x()},[s,a,x]);return d.jsx("textarea",{ref:v,className:xe("flex w-full resize-none rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),value:l,onChange:w,rows:o,style:{minHeight:`${o*g}px`,maxHeight:`${n*g}px`,overflowY:"hidden"},...u})});Yv.displayName="AutoResizeTextarea";const Vh={tablet:768,desktop:1024};function bN(e){return e>=Vh.desktop?"desktop":e>=Vh.tablet?"tablet":"mobile"}function Ud(){const[e,n]=h.useState({width:typeof window<"u"?window.innerWidth:1024,height:typeof window<"u"?window.innerHeight:768});h.useEffect(()=>{const l=()=>{n({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]);const{width:o,height:s}=e,a=bN(o);return{width:o,height:s,deviceType:a,isMobile:a==="mobile",isTablet:a==="tablet",isDesktop:a==="desktop"}}function kN(e){if(!e)return{isSlashCommand:!1,prefix:"",command:""};let n=-1;for(let s=e.length-1;s>=0;s--){const a=e[s];if(a===" "||a===`
`)break;if(a==="/"){n=s;break}}if(n===-1)return{isSlashCommand:!1,prefix:"",command:""};const o=e.slice(n);return{isSlashCommand:!0,prefix:o,command:o.slice(1)}}function EN(e,n){if(!n.startsWith("/"))return[];if(n==="/")return e;if(n.includes(" "))return[];const o=n.toLowerCase();return e.filter(s=>s.toLowerCase().startsWith(o))}function NN(e){const[n,o]=h.useState(0);h.useEffect(()=>{e===0?o(0):n>=e&&o(e-1)},[e,n]);const s=h.useCallback(()=>{e!==0&&o(u=>(u+1)%e)},[e]),a=h.useCallback(()=>{e!==0&&o(u=>(u-1+e)%e)},[e]),l=h.useCallback(()=>{o(0)},[]);return{selectedIndex:n,moveUp:a,moveDown:s,reset:l}}function RN({commands:e,selectedIndex:n,onSelect:o,visible:s}){const a=h.useRef(null),l=h.useRef(null);return h.useEffect(()=>{s&&l.current&&l.current.scrollIntoView({block:"nearest",behavior:"smooth"})},[n,s]),!s||e.length===0?null:d.jsx("div",{ref:a,className:"absolute bottom-full left-0 mb-1 max-h-48 min-w-[140px] max-w-[200px] overflow-y-auto rounded-lg border border-border bg-popover shadow-lg z-50",children:e.map((u,f)=>d.jsx("button",{ref:f===n?l:void 0,type:"button",className:xe("w-full px-3 py-1.5 text-left text-sm transition-colors","hover:bg-accent hover:text-accent-foreground",f===n&&"bg-accent text-accent-foreground"),onClick:()=>o(u),onMouseDown:p=>p.preventDefault(),children:d.jsx("span",{className:"font-mono text-xs",children:u})},u))})}const Js=new Map;function Xv(e){Js.delete(e)}function _N({disabled:e=!1,onSend:n,onStop:o}){var B;const[s,a]=h.useState(""),[l,u]=h.useState(!1),f=h.useRef(null),p=h.useRef(null),g=h.useRef(null),{selectedConversation:v}=st(),x=hi(),w=(x==null?void 0:x.status)??"idle",{attachedImage:S,setAttachedImage:E,hasActiveUpload:b}=jd(),{isDesktop:k,isTablet:N}=Ud(),R=(v==null?void 0:v.conversationId)||null,_=Ye(Z=>R?Z.getSlashCommands(R):Hg),I=h.useMemo(()=>kN(s),[s]),D=h.useMemo(()=>I.isSlashCommand?EN(_,I.prefix):[],[_,I]),P=h.useRef(null);h.useEffect(()=>{I.isSlashCommand&&R&&P.current!==R&&_.length===0&&(console.log("[InputBar] Requesting slash commands for conversation:",R),kC(R),P.current=R)},[I.isSlashCommand,R,_.length]),h.useEffect(()=>{R!==P.current&&(P.current=null)},[R]),h.useEffect(()=>{I.isSlashCommand&&console.log("[InputBar] slash command:",{text:s,slashCommand:I,slashCommands:_.length,filteredCommands:D})},[s,I,_,D]);const{selectedIndex:L,moveUp:M,moveDown:H,reset:Q}=NN(D.length),F=I.isSlashCommand&&D.length>0,U=h.useCallback(Z=>{const oe=s.lastIndexOf(I.prefix);if(oe!==-1){const he=s.slice(0,oe);a(`${he}${Z} `)}else a(`${Z} `);Q()},[s,I.prefix,Q]);h.useEffect(()=>{const Z=g.current;if(Z&&Z!==R&&(s.trim()?Js.set(Z,s):Js.delete(Z)),R){const oe=Js.get(R)||"";a(oe)}else a("");g.current=R},[R]);const q=w==="working",X=(s.trim()||S)&&!e&&!q,K=h.useCallback(()=>{if(!X||!v||b)return;const Z=S?[S]:void 0;n==null||n(s.trim(),Z),a(""),E(null),R&&Js.delete(R)},[X,v,b,S,s,n,E,R]),Y=()=>{o==null||o()},ee=Z=>{if(F)switch(Z.key){case"ArrowDown":Z.preventDefault(),H();return;case"ArrowUp":Z.preventDefault(),M();return;case"Enter":Z.preventDefault(),D[L]&&U(D[L]);return;case"Escape":Z.preventDefault(),a("");return;case"Tab":Z.preventDefault(),D[L]&&U(D[L]);return}Z.key==="Enter"&&(k||N)&&!Z.shiftKey&&!Z.ctrlKey&&(Z.preventDefault(),K())},T=1024,V=h.useCallback(Z=>{var pe;const oe=(pe=Z.clipboardData)==null?void 0:pe.items;if(!oe)return;for(const le of oe)if(le.type.startsWith("image/")){Z.preventDefault();const ge=le.getAsFile();if(!ge)return;const ve=ge.type.split("/")[1]||"png",ye=`clipboard-${Date.now()}.${ve}`,Qe=URL.createObjectURL(ge);E({id:`img_${Date.now()}_${Math.random().toString(36).slice(2)}`,uri:Qe,fileName:ye,file:ge,mimeType:ge.type});return}const he=Z.clipboardData.getData("text/plain");if(he&&new Blob([he]).size>=T){Z.preventDefault();const le=new Blob([he],{type:"text/plain"}),ge=new File([le],`pasted-${Date.now()}.txt`,{type:"text/plain"}),ve=URL.createObjectURL(ge);E({id:`file_${Date.now()}_${Math.random().toString(36).slice(2)}`,uri:ve,fileName:ge.name,file:ge,mimeType:"text/plain"})}},[E]),J=Z=>{var he;const oe=(he=Z.target.files)==null?void 0:he[0];if(oe){const pe=URL.createObjectURL(oe);E({id:`img_${Date.now()}_${Math.random().toString(36).slice(2)}`,uri:pe,fileName:oe.name,file:oe,mimeType:oe.type||"application/octet-stream"})}u(!1),f.current&&(f.current.value=""),p.current&&(p.current.value="")},A=()=>{S!=null&&S.uri&&URL.revokeObjectURL(S.uri),E(null)};return d.jsxs("div",{className:"bg-secondary/30",children:[S&&d.jsxs("div",{className:"flex items-center px-2 pt-2 bg-muted/50",children:[d.jsxs("div",{className:"relative",children:[(B=S.mimeType)!=null&&B.startsWith("image/")?d.jsx("img",{src:S.uri,alt:S.fileName,className:"w-16 h-16 rounded-lg object-cover"}):d.jsx("div",{className:"w-16 h-16 rounded-lg bg-muted flex flex-col items-center justify-center border border-border",children:d.jsx("span",{className:"text-2xl",children:""})}),d.jsx("button",{onClick:A,className:"absolute -top-2 -right-2 w-5 h-5 rounded-full bg-destructive text-destructive-foreground flex items-center justify-center",children:d.jsx(Go,{className:"h-3 w-3"})})]}),d.jsx("span",{className:"ml-2 flex-1 text-xs text-muted-foreground truncate",children:S.fileName})]}),d.jsxs("div",{className:"relative flex items-end px-2 py-1.5 gap-1",children:[d.jsx(RN,{commands:D,selectedIndex:L,onSelect:U,visible:F}),d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>u(!0),disabled:q,className:"h-8 w-8 shrink-0",children:d.jsx(Md,{className:"h-4 w-4"})}),d.jsx(Yv,{placeholder:e?" ...":" ...",value:s,onChange:a,onKeyDown:ee,onPaste:V,disabled:e||q,minRows:1,maxRows:6,className:"flex-1 bg-background rounded-lg px-3 py-2 text-sm resize-none"}),q?d.jsxs(Te,{variant:"destructive",size:"sm",onClick:Y,className:"h-8",children:[d.jsx(Jg,{className:"h-3 w-3 mr-1"}),"Stop"]}):b?d.jsx(Te,{variant:"ghost",size:"icon",disabled:!0,className:"h-8 w-8",children:d.jsx(Wt,{className:"h-4 w-4 animate-spin"})}):d.jsx(Te,{variant:"secondary",size:"icon",onClick:K,disabled:!X,className:"h-8 w-8",children:d.jsx(Qg,{className:"h-4 w-4"})})]}),d.jsx(Un,{open:l,onOpenChange:u,children:d.jsxs(wn,{className:"max-w-xs",children:[d.jsx(Sn,{children:d.jsx(Cn,{children:" "})}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("button",{onClick:()=>{var Z;return(Z=f.current)==null?void 0:Z.click()},className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-muted transition-colors",children:[d.jsx(db,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:()=>{var Z;(Z=f.current)==null||Z.click()},className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-muted transition-colors",children:[d.jsx(OC,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]}),d.jsxs("button",{onClick:()=>{var Z;return(Z=p.current)==null?void 0:Z.click()},className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-muted transition-colors",children:[d.jsx(nb,{className:"h-5 w-5"}),d.jsx("span",{children:" "})]})]}),d.jsx("div",{className:"flex justify-end mt-4",children:d.jsx(Te,{variant:"ghost",onClick:()=>u(!1),children:""})})]})}),d.jsx("input",{ref:f,type:"file",accept:"image/*",className:"hidden",onChange:J}),d.jsx("input",{ref:p,type:"file",accept:"*/*",className:"hidden",onChange:J})]})}function jN(e){var s,a,l,u,f;const{type:n,payload:o}=e;switch(n){case _e.WORKSPACE_LIST_RESULT:{const{deviceId:p,deviceName:g,workspaces:v,activeWorkspaceId:x,activeConversationId:w,account:S}=o;console.log("[Router] workspace_list_result payload:",{deviceId:p,account:S});const E=typeof p=="number"?p:parseInt(p,10),b=g||`Device ${p}`,k=st.getState(),N=k.workspacesByPylon.get(E);if(N&&N.length>0){const D=new Set;for(const M of N)if(M.conversations)for(const H of M.conversations)D.add(H.conversationId);const P=new Set;for(const M of v||[])if(M.conversations)for(const H of M.conversations)P.add(H.conversationId);const L=Ye.getState();for(const M of D)P.has(M)||L.deleteConversation(M)}if(p&&k.addConnectedPylon({deviceId:E,deviceName:b}),S){console.log("[Router] Setting account:",S);const D=Uo.getState(),P=D.currentAccount,L=S.current;P!==null&&P!==L&&(console.log(`[Router] Account changed on workspace_list: ${P}  ${L}, resetting stores`),Ye.getState().reset(),dt.getState().resetForReconnect()),D.setAccountStatus({current:L,subscriptionType:S.subscriptionType})}else console.log("[Router] No account in payload");const R=x&&w?{workspaceId:x,conversationId:parseInt(w,10)}:void 0;k.setWorkspaces(E,v||[],R);const{selectedConversation:_}=st.getState();if(_){const D=Ye.getState();D.currentConversationId!==_.conversationId&&D.setCurrentConversation(_.conversationId)}const I=dt.getState().workspaceSync;console.log("[Router] Before onWorkspaceListReceived, workspaceSync:",I),cl.onWorkspaceListReceived((_==null?void 0:_.conversationId)??null),console.log("[Router] After onWorkspaceListReceived, workspaceSync:",dt.getState().workspaceSync);break}case _e.CONVERSATION_STATUS:{const{conversationId:p,status:g,unread:v,deviceId:x}=o;if(!p)break;const w=x||((s=st.getState().connectedPylons[0])==null?void 0:s.deviceId);if(w){const S=["idle","working","waiting","error"].includes(g)?g:void 0;st.getState().updateConversationStatus(w,p,S,v)}if(g==="idle"||g==="working"){const S=Ye.getState();S.setStatus(p,g),g==="idle"&&S.clearTextBuffer(p)}break}case _e.HISTORY_RESULT:{const{messages:p,conversationId:g,totalCount:v,loadBefore:x,hasActiveSession:w,currentStatus:S}=o;console.log(`[Router] history_result: conversationId=${g}, messages=${p==null?void 0:p.length}, totalCount=${v}`);const E=g||((a=st.getState().selectedConversation)==null?void 0:a.conversationId);if(console.log(`[Router] history_result: targetConversationId=${E}, selectedConversation=${(l=st.getState().selectedConversation)==null?void 0:l.conversationId}`),E){const b=Ye.getState(),k=dt.getState(),N=v??p.length,R=p.length;if(x!==void 0&&x>0){b.prependMessages(E,p);const _=x-R;k.extendSyncedFrom(E,Math.max(0,_)),k.setLoadingMore(E,!1)}else{b.clearMessages(E),b.clearTextBuffer(E),b.setMessages(E,p);const _=N-R;if(k.setConversationSync(E,_,N,N),k.setConversationPhase(E,"synced"),S)b.setStatus(E,S);else if(w===!1){const I=b.getState(E);I&&I.status!=="idle"&&b.setStatus(E,"idle")}}}break}case _e.CLAUDE_EVENT:{const p=o.conversationId,g=(u=st.getState().selectedConversation)==null?void 0:u.conversationId,v=p||g,x=(f=o.event)==null?void 0:f.type;p!==g&&console.warn(`[Router] CLAUDE_EVENT mismatch! payload=${p}, selected=${g}, eventType=${x}`),v&&TN(v,o);break}case _e.FOLDER_LIST_RESULT:{typeof window<"u"&&window.dispatchEvent(new CustomEvent("folder_list_result",{detail:o}));break}case _e.WORKSPACE_CREATE_RESULT:{typeof window<"u"&&window.dispatchEvent(new CustomEvent("workspace_create_result",{detail:o}));break}case _e.CONVERSATION_CREATE_RESULT:{const{conversationId:p}=o;p&&(Ye.getState().deleteConversation(p),Xv(p));break}case _e.SLASH_COMMANDS_RESULT:{const{conversationId:p,slashCommands:g}=o;p&&g&&Ye.getState().setSlashCommands(p,g);break}case _e.ACCOUNT_STATUS:{const{current:p,subscriptionType:g}=o,v=Uo.getState(),x=v.currentAccount;x!==null&&x!==p&&(console.log(`[Router] Account switched: ${x}  ${p}, resetting stores`),Ye.getState().reset(),st.getState().reset(),dt.getState().resetForReconnect(),cl.startInitialSync()),v.setAccountStatus({current:p,subscriptionType:g});break}}}function TN(e,n){const o=n.event;if(!o)return;const s=o.type,a=Ye.getState();switch(s){case"state":{const l=o.state;l&&a.setStatus(e,l);break}case"text":{const l=o.text;l&&a.appendTextBuffer(e,l);break}case"textComplete":{a.flushTextBuffer(e);break}case"toolInfo":case"tool_start":{const l=o.toolUseId,u=o.parentToolUseId,f=o.toolName,p={id:l||Pr(),role:"assistant",type:"tool_start",timestamp:Date.now(),toolName:f,toolInput:o.toolInput||o.input,...u?{parentToolUseId:u}:{}};a.addMessage(e,p);break}case"toolComplete":case"tool_complete":{const l=o.toolUseId,u=o.toolName,f=o.success??!0,p=o.toolOutput||o.result,g=o.parentToolUseId,v=a.getState(e);if(v){const x=[...v.messages];let w=!1;for(let S=x.length-1;S>=0;S--){const E=x[S];if(E.type==="tool_start"&&(l?E.id===l:E.toolName===u)){x[S]={id:E.id,role:"assistant",type:"tool_complete",timestamp:E.timestamp,toolName:u,toolInput:E.toolInput,success:f,...f?{output:p}:{error:p},...g?{parentToolUseId:g}:{}},w=!0;break}}w?a.setMessages(e,x):a.addMessage(e,{id:l||Pr(),role:"assistant",type:"tool_complete",timestamp:Date.now(),toolName:u,toolInput:o.toolInput||o.input||{},success:f,...f?{output:p}:{error:p},...g?{parentToolUseId:g}:{}})}break}case"permission_request":{a.addPendingRequest(e,{type:"permission",toolUseId:o.toolUseId,toolName:o.toolName,toolInput:o.toolInput}),a.setStatus(e,"permission");break}case"askQuestion":case"ask_question":{const l=o.questions,u=(l==null?void 0:l.map(f=>{var p;return{question:f.question,header:f.header,options:((p=f.options)==null?void 0:p.map(g=>g.label))||[],multiSelect:f.multiSelect}}))||[{question:o.question||"",options:o.options||[]}];a.addPendingRequest(e,{type:"question",toolUseId:o.toolUseId,questions:u}),a.setStatus(e,"permission");break}case"result":{const l=o.usage,u=o.duration_ms||0;a.flushTextBuffer(e),a.addMessage(e,{id:Pr(),role:"system",type:"result",timestamp:Date.now(),resultInfo:{durationMs:u,inputTokens:(l==null?void 0:l.inputTokens)||0,outputTokens:(l==null?void 0:l.outputTokens)||0,cacheReadTokens:(l==null?void 0:l.cacheReadInputTokens)||0}}),a.setStatus(e,"idle");break}case"error":{a.addMessage(e,{id:Pr(),role:"system",type:"error",content:o.message||"Unknown error",timestamp:Date.now()}),a.setStatus(e,"idle");break}case"aborted":{a.addMessage(e,{id:Pr(),role:"system",type:"aborted",timestamp:Date.now(),reason:o.reason||"user"}),a.setStatus(e,"idle");break}case"file_attachment":{const l=o.file;l&&a.addMessage(e,{id:Pr(),role:"assistant",type:"file_attachment",timestamp:Date.now(),file:{path:l.path||"",filename:l.filename||"",mimeType:l.mimeType||"",fileType:l.fileType||"text",size:l.size||0,description:l.description}});break}case"usage_update":{const l=o.usage;l&&a.updateRealtimeUsage(e,{inputTokens:l.inputTokens||0,outputTokens:l.outputTokens||0,cacheReadInputTokens:l.cacheReadInputTokens||0,cacheCreationInputTokens:l.cacheCreationInputTokens||0});break}case"compactStart":{const l={id:Pr(),role:"assistant",type:"tool_start",timestamp:Date.now(),toolName:"Compact",toolInput:{}};a.addMessage(e,l);break}case"compactComplete":{const l=o.preTokens;let u="Compacted";l!==void 0&&(u=`Compacted ${l.toLocaleString()} (${l}) tokens`);const f=a.getState(e);if(f){const p=[...f.messages];let g=!1;for(let v=p.length-1;v>=0;v--){const x=p[v];if(x.type==="tool_start"&&x.toolName==="Compact"){p[v]={id:x.id,role:"assistant",type:"tool_complete",timestamp:x.timestamp,toolName:"Compact",toolInput:x.toolInput||{},success:!0,output:u},g=!0;break}}g?a.setMessages(e,p):a.addMessage(e,{id:Pr(),role:"assistant",type:"tool_complete",timestamp:Date.now(),toolName:"Compact",toolInput:{},success:!0,output:u})}break}}}function Pr(){return`msg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}class MN{constructor(n){ut(this,"cache");ut(this,"accessOrder");ut(this,"currentSize");ut(this,"maxSize");this.cache=new Map,this.accessOrder=[],this.currentSize=0,this.maxSize=n.maxSizeBytes}get(n){const o=this.cache.get(n);if(o)return this.updateAccessOrder(n),o.data}set(n,o){const s=o.length;for(this.cache.has(n)&&this.delete(n);this.currentSize+s>this.maxSize&&this.accessOrder.length>0;){const a=this.accessOrder[0];this.delete(a)}s>this.maxSize||(this.cache.set(n,{data:o,size:s}),this.accessOrder.push(n),this.currentSize+=s)}has(n){return this.cache.has(n)}delete(n){const o=this.cache.get(n);return o?(this.cache.delete(n),this.currentSize-=o.size,this.accessOrder=this.accessOrder.filter(s=>s!==n),!0):!1}clear(){this.cache.clear(),this.accessOrder=[],this.currentSize=0}getStats(){return{count:this.cache.size,sizeBytes:this.currentSize,maxSizeBytes:this.maxSize,usagePercent:this.maxSize>0?this.currentSize/this.maxSize*100:0}}updateAccessOrder(n){const o=this.accessOrder.indexOf(n);o>-1&&(this.accessOrder.splice(o,1),this.accessOrder.push(n))}}const rr=new MN({maxSizeBytes:50*1024*1024}),Qs=65536;function Hh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=Math.random()*16|0;return(e==="x"?n:n&3|8).toString(16)})}function IN(e){return e.replace(/[^a-zA-Z0-9._-]/g,"_")}function DN(e){let n="";const o=e.byteLength;for(let s=0;s<o;s++)n+=String.fromCharCode(e[s]);return btoa(n)}function Kh(e){const n=atob(e),o=n.length,s=new Uint8Array(o);for(let a=0;a<o;a++)s[a]=n.charCodeAt(a);return s}async function AN(e){if(typeof crypto<"u"&&crypto.subtle)try{const o=new ArrayBuffer(e.length);new Uint8Array(o).set(e);const a=await crypto.subtle.digest("SHA-256",o);return`sha256:${Array.from(new Uint8Array(a)).map(f=>f.toString(16).padStart(2,"0")).join("")}`}catch{let o=0;for(let s=0;s<e.length;s++)o=(o<<5)-o+e[s]|0;return`simple:${o.toString(16)}`}let n=0;for(let o=0;o<e.length;o++)n=(n<<5)-n+e[o]|0;return`simple:${n.toString(16)}`}class PN{constructor(){ut(this,"sender",null);ut(this,"transfers",new Map);ut(this,"progressListeners",[]);ut(this,"uploadCompleteListeners",[]);ut(this,"downloadCompleteListeners",[]);ut(this,"errorListeners",[])}setSender(n){this.sender=n}onProgress(n){return this.progressListeners.push(n),()=>{this.progressListeners=this.progressListeners.filter(o=>o!==n)}}onUploadComplete(n){return this.uploadCompleteListeners.push(n),()=>{this.uploadCompleteListeners=this.uploadCompleteListeners.filter(o=>o!==n)}}onDownloadComplete(n){return this.downloadCompleteListeners.push(n),()=>{this.downloadCompleteListeners=this.downloadCompleteListeners.filter(o=>o!==n)}}onError(n){return this.errorListeners.push(n),()=>{this.errorListeners=this.errorListeners.filter(o=>o!==n)}}async uploadImageBytes(n){const{bytes:o,filename:s,targetDeviceId:a,workspaceId:l,conversationId:u,message:f,mimeType:p}=n;if(!this.sender)return console.error("[BLOB] No sender configured"),null;try{const g=p??"application/octet-stream",v=Date.now(),x=IN(`${v}_${s}`);console.log(`[BLOB] Starting upload: ${x} (${o.length} bytes)`),rr.set(x,o);const w=Hh(),S=Math.ceil(o.length/Qs),E={blobId:w,filename:x,mimeType:g,totalSize:o.length,chunkSize:Qs,totalChunks:S,context:{type:"image_upload",workspaceId:l,conversationId:u,message:f},isUpload:!0,state:"uploading",processedChunks:0,chunks:[],bytes:o};return this.transfers.set(w,E),this.sender.send({type:"blob_start",to:[a],payload:{blobId:w,filename:x,mimeType:g,totalSize:o.length,chunkSize:Qs,totalChunks:S,encoding:"base64",context:E.context}}),await this.sendChunks(w,o,a),w}catch(g){return console.error("[BLOB] Upload error:",g),this.errorListeners.forEach(v=>v("",String(g))),null}}async sendChunks(n,o,s){const a=this.transfers.get(n);if(!a||!this.sender)return;for(let u=0;u<a.totalChunks;u++){const f=u*Qs,p=Math.min(f+Qs,o.length),g=o.slice(f,p);this.sender.send({type:"blob_chunk",to:[s],payload:{blobId:n,index:u,data:DN(g),size:g.length}}),a.processedChunks=u+1,this.progressListeners.forEach(v=>v(n,a.processedChunks,a.totalChunks)),await new Promise(v=>setTimeout(v,5))}const l=await AN(o);this.sender.send({type:"blob_end",to:[s],payload:{blobId:n,checksum:l,totalReceived:o.length}}),a.state="waitingAck"}requestFile(n){const{targetDeviceId:o,conversationId:s,filename:a,filePath:l}=n,u=rr.get(a);if(u){console.log(`[BLOB] Cache hit: ${a}`);const p={blobId:`cached_${a}`,filename:a,bytes:u};this.downloadCompleteListeners.forEach(g=>g(p));return}if(!this.sender){console.error("[BLOB] No sender configured");return}const f=Hh();console.log(`[BLOB] Requesting download: ${a}`),this.sender.send({type:"blob_request",to:[o],payload:{blobId:f,conversationId:s,filename:a,...l&&{localPath:l}}})}handleMessage(n){switch(n.type){case"blob_start":this.handleBlobStart(n);break;case"blob_chunk":this.handleBlobChunk(n);break;case"blob_end":this.handleBlobEnd(n);break;case"blob_upload_complete":this.handleBlobUploadComplete(n);break}}handleBlobStart(n){const o=n.payload;if(!o)return;const s=o.blobId,a=o.filename;if(rr.has(a)){console.log(`[BLOB] Already cached, skipping: ${a}`);return}const l={blobId:s,filename:a,mimeType:o.mimeType,totalSize:o.totalSize,chunkSize:o.chunkSize,totalChunks:o.totalChunks,context:o.context??{},isUpload:!1,state:"downloading",processedChunks:0,chunks:new Array(o.totalChunks).fill(new Uint8Array(0))};this.transfers.set(s,l),console.log(`[BLOB] Download started: ${a} (${l.totalChunks} chunks)`)}handleBlobChunk(n){const o=n.payload;if(!o)return;const s=o.blobId,a=this.transfers.get(s);if(!a)return;const l=o.index,u=o.data,f=Kh(u);a.chunks[l]=f,a.processedChunks++,this.progressListeners.forEach(p=>p(s,a.processedChunks,a.totalChunks))}handleBlobEnd(n){const o=n.payload;if(!o)return;const s=o.blobId,a=this.transfers.get(s);if(!a||a.isUpload)return;const l=a.chunks.filter(v=>v&&v.length>0),u=l.reduce((v,x)=>v+x.length,0),f=new Uint8Array(u);let p=0;for(const v of l)f.set(v,p),p+=v.length;rr.set(a.filename,f),a.bytes=f,a.state="completed",a.chunks=[];const g={blobId:s,filename:a.filename,bytes:f};this.downloadCompleteListeners.forEach(v=>v(g)),console.log(`[BLOB] Download complete: ${a.filename} (${f.length} bytes)`)}handleBlobUploadComplete(n){const o=n.payload;if(!o)return;const s=o.blobId,a=o.fileId??s,l=o.path,u=o.conversationId??0,f=o.thumbnail,p=this.transfers.get(s);if(p){if(p.state="completed",p.pylonPath=l,f){const v=f.replace(/^data:image\/\w+;base64,/,""),x=Kh(v);rr.set(`thumb_${p.filename}`,x)}const g={blobId:s,fileId:a,filename:p.filename,pylonPath:l,conversationId:u,thumbnailBase64:f};this.uploadCompleteListeners.forEach(v=>v(g)),console.log(`[BLOB] Upload complete: ${p.filename} -> ${l}`)}}getCachedImage(n){return rr.get(n)}hasCachedImage(n){return rr.has(n)}get cacheStats(){return rr.getStats()}getTransfer(n){return this.transfers.get(n)}cancelTransfer(n){const o=this.transfers.get(n);o&&(o.state="failed",o.error="Cancelled")}removeTransfer(n){this.transfers.delete(n)}dispose(){this.transfers.clear(),this.progressListeners=[],this.uploadCompleteListeners=[],this.downloadCompleteListeners=[],this.errorListeners=[]}}const Pt=new PN;function ON({message:e=" ..."}){return d.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/30",children:d.jsxs("div",{className:"rounded-xl bg-background px-8 py-6 shadow-lg text-center",children:[d.jsx(Wt,{className:"mx-auto h-8 w-8 animate-spin text-primary"}),d.jsx("p",{className:"mt-4 text-muted-foreground",children:e})]})})}const Tl=h.forwardRef(({className:e,...n},o)=>d.jsx("div",{ref:o,className:xe("rounded-xl border bg-card text-card-foreground shadow",e),...n}));Tl.displayName="Card";const Qv=h.forwardRef(({className:e,...n},o)=>d.jsx("div",{ref:o,className:xe("flex flex-col space-y-1.5 p-6",e),...n}));Qv.displayName="CardHeader";const Jv=h.forwardRef(({className:e,...n},o)=>d.jsx("h3",{ref:o,className:xe("font-semibold leading-none tracking-tight",e),...n}));Jv.displayName="CardTitle";const LN=h.forwardRef(({className:e,...n},o)=>d.jsx("p",{ref:o,className:xe("text-sm text-muted-foreground",e),...n}));LN.displayName="CardDescription";const Zv=h.forwardRef(({className:e,...n},o)=>d.jsx("div",{ref:o,className:xe("p-6 pt-0",e),...n}));Zv.displayName="CardContent";const FN=h.forwardRef(({className:e,...n},o)=>d.jsx("div",{ref:o,className:xe("flex items-center p-6 pt-0",e),...n}));FN.displayName="CardFooter";function zN(){const e=Uo(u=>u.currentAccount),n=Uo(u=>u.subscriptionType),o=Uo(u=>u.isAccountSwitching),s=Uo(u=>u.setAccountSwitching),a=u=>{u===e||o||(s(!0),CC(u))},l=u=>{if(!u)return"";switch(u){case"team":return"(Team)";case"max":return"(Max)";default:return`(${u})`}};return d.jsxs(Tl,{children:[d.jsx(Qv,{className:"pb-2",children:d.jsxs(Jv,{className:"flex items-center gap-2 text-sm",children:[d.jsx("span",{children:""}),""]})}),d.jsxs(Zv,{children:[d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsxs(Te,{variant:e==="linegames"?"default":"outline",size:"sm",className:xe("flex-1",e==="linegames"&&"bg-primary"),onClick:()=>a("linegames"),disabled:o,children:[o&&e!=="linegames"?d.jsx(Wt,{className:"h-4 w-4 animate-spin mr-1"}):null,"LineGames"]}),d.jsxs(Te,{variant:e==="personal"?"default":"outline",size:"sm",className:xe("flex-1",e==="personal"&&"bg-primary"),onClick:()=>a("personal"),disabled:o,children:[o&&e!=="personal"?d.jsx(Wt,{className:"h-4 w-4 animate-spin mr-1"}):null,"Personal"]})]}),d.jsx("div",{className:"text-center",children:e?d.jsxs("p",{className:"text-sm text-muted-foreground",children:[":"," ",d.jsx("span",{className:"font-medium text-foreground",children:e==="linegames"?"LineGames":"Personal"})," ",l(n)]}):d.jsx("p",{className:"text-sm text-muted-foreground",children:"   ..."})}),d.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"      "})]})]})}function $N(){return d.jsx("div",{className:"space-y-4",children:d.jsx(zN,{})})}function UN({open:e,onClose:n}){return d.jsx(Un,{open:e,onOpenChange:o=>!o&&n(),children:d.jsxs(wn,{className:"max-w-md max-h-[80vh] overflow-hidden flex flex-col",children:[d.jsx(Sn,{children:d.jsx(Cn,{children:"Settings"})}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:d.jsx($N,{})})]})})}const BN={"office-building-outline":AC,"home-outline":cb,monitor:od,pylon:od,desktop:pb};function Bd(e){return e?BN[e]??Ch:Ch}function ey(){const[e,n]=h.useState(!1),{isConnected:o}=Rd(),{connectedPylons:s}=st(),{getIcon:a}=Td(),l=()=>o?s.length===0?d.jsx(kb,{className:"h-5 w-5 text-muted-foreground mr-1"}):s.map(u=>{const f=Bd(a(u.deviceId));return d.jsx(f,{className:"h-5 w-5 text-primary ml-1"},u.deviceId)}):d.jsx(HC,{className:"h-5 w-5 text-destructive mr-1"});return d.jsxs(d.Fragment,{children:[d.jsxs("header",{className:"flex h-11 items-center justify-between bg-primary/20 px-4",children:[d.jsxs("div",{className:"flex items-baseline",children:[d.jsx("h1",{className:"text-lg font-semibold text-foreground",children:"Estelle"}),d.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:Kg.display})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex items-center mr-2",children:l()}),d.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>n(!0),children:d.jsx(Cb,{className:"h-5 w-5"})})]})]}),d.jsx(UN,{open:e,onClose:()=>n(!1)})]})}const ty=h.forwardRef(({className:e,...n},o)=>d.jsx("textarea",{className:xe("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:o,...n}));ty.displayName="Textarea";const WN={sm:"h-4 w-4 border-2",md:"h-6 w-6 border-2",lg:"h-8 w-8 border-3"};function ny({size:e="md",className:n}){return d.jsx("div",{className:xe("animate-spin rounded-full border-primary border-t-transparent",WN[e],n),role:"status","aria-label":"Loading"})}function Wd({open:e,onClose:n,onSubmit:o}){const[s,a]=h.useState(""),[l,u]=h.useState(!1),[f,p]=h.useState(null),g=async()=>{const x=s.trim();if(x){u(!0),p(null);try{o&&await o(x),a(""),n(),alert("  .")}catch(w){p(` : ${w}`)}finally{u(!1)}}},v=()=>{l||(a(""),p(null),n())};return d.jsx(Un,{open:e,onOpenChange:x=>!x&&v(),children:d.jsxs(wn,{className:"max-w-md",children:[d.jsxs(Sn,{children:[d.jsx(Cn,{children:" "}),d.jsx(Yo,{children:" "})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(ty,{placeholder:"  ?",value:s,onChange:x=>a(x.target.value),rows:4,disabled:l,autoFocus:!0}),d.jsx("p",{className:"text-xs text-muted-foreground",children:" /   ."}),f&&d.jsx("p",{className:"text-sm text-destructive",children:f})]}),d.jsxs(qo,{children:[d.jsx(Te,{variant:"outline",onClick:v,disabled:l,children:""}),d.jsx(Te,{variant:"destructive",onClick:g,disabled:l||!s.trim(),children:l?d.jsxs(d.Fragment,{children:[d.jsx(ny,{size:"sm",className:"mr-2"})," ..."]}):""})]})]})})}function VN({sidebar:e,main:n}){const[o,s]=h.useState(!1);return h.useEffect(()=>{const a=l=>{if(l.key==="`"&&!l.ctrlKey&&!l.altKey&&!l.metaKey){const u=l.target;if(u.tagName==="INPUT"||u.tagName==="TEXTAREA"||u.isContentEditable)return;l.preventDefault(),s(!0)}};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[]),d.jsxs("div",{className:"flex flex-col bg-background",style:{height:"var(--app-height, 100vh)"},children:[d.jsx(ey,{}),d.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[d.jsx("aside",{className:"w-64 shrink-0 border-r border-border",children:e}),d.jsx("main",{className:"flex-1 overflow-hidden",children:n})]}),d.jsx(Wd,{open:o,onClose:()=>s(!1)})]})}const Vd=h.createContext({openSidebar:()=>{},closeSidebar:()=>{}});function HN({sidebar:e,main:n}){const[o,s]=h.useState(0),[a,l]=h.useState(!1),{selectedConversation:u}=st(),f=h.useRef(0),p=h.useRef(null),g=h.useRef(null);h.useEffect(()=>{const S=(u==null?void 0:u.conversationId)??null,E=g.current;S&&S!==E&&s(1),g.current=S},[u==null?void 0:u.conversationId]);const v=h.useCallback(S=>{s(S)},[]),x=()=>{const S=Date.now();p.current&&S-p.current<400?(f.current++,f.current>=3&&(f.current=0,p.current=null,l(!0))):f.current=1,p.current=S},w={openSidebar:()=>v(0),closeSidebar:()=>v(1)};return d.jsx(Vd.Provider,{value:w,children:d.jsxs("div",{className:"flex flex-col bg-background",style:{height:"var(--app-height, 100vh)",paddingBottom:"env(safe-area-inset-bottom)"},onTouchStart:x,children:[d.jsx(ey,{}),d.jsx("div",{className:"flex-1 overflow-hidden relative",children:d.jsxs("div",{className:xe("flex h-full transition-transform duration-300 ease-out",o===1&&"-translate-x-1/2"),style:{width:"200%"},children:[d.jsx("div",{className:"w-1/2 h-full",children:e}),d.jsx("div",{className:"w-1/2 h-full",children:n})]})}),d.jsx(Wd,{open:a,onClose:()=>l(!1)})]})})}function KN({sidebar:e,main:n}){const{isDesktop:o,isTablet:s}=Ud();return o||s?d.jsx(VN,{sidebar:e,main:n}):d.jsx(HN,{sidebar:e,main:n})}function GN(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return h.useMemo(()=>s=>{n.forEach(a=>a(s))},n)}const Ml=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function rs(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function Hd(e){return"nodeType"in e}function Ot(e){var n,o;return e?rs(e)?e:Hd(e)&&(n=(o=e.ownerDocument)==null?void 0:o.defaultView)!=null?n:window:window}function Kd(e){const{Document:n}=Ot(e);return e instanceof n}function vi(e){return rs(e)?!1:e instanceof Ot(e).HTMLElement}function ry(e){return e instanceof Ot(e).SVGElement}function os(e){return e?rs(e)?e.document:Hd(e)?Kd(e)?e:vi(e)||ry(e)?e.ownerDocument:document:document:document}const Bn=Ml?h.useLayoutEffect:h.useEffect;function Gd(e){const n=h.useRef(e);return Bn(()=>{n.current=e}),h.useCallback(function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return n.current==null?void 0:n.current(...s)},[])}function qN(){const e=h.useRef(null),n=h.useCallback((s,a)=>{e.current=setInterval(s,a)},[]),o=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,o]}function ii(e,n){n===void 0&&(n=[e]);const o=h.useRef(e);return Bn(()=>{o.current!==e&&(o.current=e)},n),o}function yi(e,n){const o=h.useRef();return h.useMemo(()=>{const s=e(o.current);return o.current=s,s},[...n])}function pl(e){const n=Gd(e),o=h.useRef(null),s=h.useCallback(a=>{a!==o.current&&(n==null||n(a,o.current)),o.current=a},[]);return[o,s]}function ld(e){const n=h.useRef();return h.useEffect(()=>{n.current=e},[e]),n.current}let Bu={};function xi(e,n){return h.useMemo(()=>{if(n)return n;const o=Bu[e]==null?0:Bu[e]+1;return Bu[e]=o,e+"-"+o},[e,n])}function oy(e){return function(n){for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];return s.reduce((l,u)=>{const f=Object.entries(u);for(const[p,g]of f){const v=l[p];v!=null&&(l[p]=v+e*g)}return l},{...n})}}const Ho=oy(1),ai=oy(-1);function YN(e){return"clientX"in e&&"clientY"in e}function qd(e){if(!e)return!1;const{KeyboardEvent:n}=Ot(e.target);return n&&e instanceof n}function XN(e){if(!e)return!1;const{TouchEvent:n}=Ot(e.target);return n&&e instanceof n}function cd(e){if(XN(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:o}=e.touches[0];return{x:n,y:o}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:o}=e.changedTouches[0];return{x:n,y:o}}}return YN(e)?{x:e.clientX,y:e.clientY}:null}const Xo=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:o}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(o?Math.round(o):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:o}=e;return"scaleX("+n+") scaleY("+o+")"}},Transform:{toString(e){if(e)return[Xo.Translate.toString(e),Xo.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:o,easing:s}=e;return n+" "+o+"ms "+s}}}),Gh="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function QN(e){return e.matches(Gh)?e:e.querySelector(Gh)}const JN={display:"none"};function ZN(e){let{id:n,value:o}=e;return De.createElement("div",{id:n,style:JN},o)}function eR(e){let{id:n,announcement:o,ariaLiveType:s="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return De.createElement("div",{id:n,style:a,role:"status","aria-live":s,"aria-atomic":!0},o)}function tR(){const[e,n]=h.useState("");return{announce:h.useCallback(s=>{s!=null&&n(s)},[]),announcement:e}}const sy=h.createContext(null);function nR(e){const n=h.useContext(sy);h.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function rR(){const[e]=h.useState(()=>new Set),n=h.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[h.useCallback(s=>{let{type:a,event:l}=s;e.forEach(u=>{var f;return(f=u[a])==null?void 0:f.call(u,l)})},[e]),n]}const oR={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},sR={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:o}=e;return o?"Draggable item "+n.id+" was moved over droppable area "+o.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:o}=e;return o?"Draggable item "+n.id+" was dropped over droppable area "+o.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function iR(e){let{announcements:n=sR,container:o,hiddenTextDescribedById:s,screenReaderInstructions:a=oR}=e;const{announce:l,announcement:u}=tR(),f=xi("DndLiveRegion"),[p,g]=h.useState(!1);if(h.useEffect(()=>{g(!0)},[]),nR(h.useMemo(()=>({onDragStart(x){let{active:w}=x;l(n.onDragStart({active:w}))},onDragMove(x){let{active:w,over:S}=x;n.onDragMove&&l(n.onDragMove({active:w,over:S}))},onDragOver(x){let{active:w,over:S}=x;l(n.onDragOver({active:w,over:S}))},onDragEnd(x){let{active:w,over:S}=x;l(n.onDragEnd({active:w,over:S}))},onDragCancel(x){let{active:w,over:S}=x;l(n.onDragCancel({active:w,over:S}))}}),[l,n])),!p)return null;const v=De.createElement(De.Fragment,null,De.createElement(ZN,{id:s,value:a.draggable}),De.createElement(eR,{id:f,announcement:u}));return o?zr.createPortal(v,o):v}var tt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(tt||(tt={}));function ml(){}function Va(e,n){return h.useMemo(()=>({sensor:e,options:n??{}}),[e,n])}function qh(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return h.useMemo(()=>[...n].filter(s=>s!=null),[...n])}const bn=Object.freeze({x:0,y:0});function iy(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function ay(e,n){let{data:{value:o}}=e,{data:{value:s}}=n;return o-s}function aR(e,n){let{data:{value:o}}=e,{data:{value:s}}=n;return s-o}function Yh(e){let{left:n,top:o,height:s,width:a}=e;return[{x:n,y:o},{x:n+a,y:o},{x:n,y:o+s},{x:n+a,y:o+s}]}function ly(e,n){if(!e||e.length===0)return null;const[o]=e;return o[n]}function Xh(e,n,o){return n===void 0&&(n=e.left),o===void 0&&(o=e.top),{x:n+e.width*.5,y:o+e.height*.5}}const cy=e=>{let{collisionRect:n,droppableRects:o,droppableContainers:s}=e;const a=Xh(n,n.left,n.top),l=[];for(const u of s){const{id:f}=u,p=o.get(f);if(p){const g=iy(Xh(p),a);l.push({id:f,data:{droppableContainer:u,value:g}})}}return l.sort(ay)},lR=e=>{let{collisionRect:n,droppableRects:o,droppableContainers:s}=e;const a=Yh(n),l=[];for(const u of s){const{id:f}=u,p=o.get(f);if(p){const g=Yh(p),v=a.reduce((w,S,E)=>w+iy(g[E],S),0),x=Number((v/4).toFixed(4));l.push({id:f,data:{droppableContainer:u,value:x}})}}return l.sort(ay)};function cR(e,n){const o=Math.max(n.top,e.top),s=Math.max(n.left,e.left),a=Math.min(n.left+n.width,e.left+e.width),l=Math.min(n.top+n.height,e.top+e.height),u=a-s,f=l-o;if(s<a&&o<l){const p=n.width*n.height,g=e.width*e.height,v=u*f,x=v/(p+g-v);return Number(x.toFixed(4))}return 0}const uR=e=>{let{collisionRect:n,droppableRects:o,droppableContainers:s}=e;const a=[];for(const l of s){const{id:u}=l,f=o.get(u);if(f){const p=cR(f,n);p>0&&a.push({id:u,data:{droppableContainer:l,value:p}})}}return a.sort(aR)};function dR(e,n,o){return{...e,scaleX:n&&o?n.width/o.width:1,scaleY:n&&o?n.height/o.height:1}}function uy(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:bn}function fR(e){return function(o){for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return a.reduce((u,f)=>({...u,top:u.top+e*f.y,bottom:u.bottom+e*f.y,left:u.left+e*f.x,right:u.right+e*f.x}),{...o})}}const pR=fR(1);function mR(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function hR(e,n,o){const s=mR(n);if(!s)return e;const{scaleX:a,scaleY:l,x:u,y:f}=s,p=e.left-u-(1-a)*parseFloat(o),g=e.top-f-(1-l)*parseFloat(o.slice(o.indexOf(" ")+1)),v=a?e.width/a:e.width,x=l?e.height/l:e.height;return{width:v,height:x,top:g,right:p+v,bottom:g+x,left:p}}const gR={ignoreTransform:!1};function ss(e,n){n===void 0&&(n=gR);let o=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:g,transformOrigin:v}=Ot(e).getComputedStyle(e);g&&(o=hR(o,g,v))}const{top:s,left:a,width:l,height:u,bottom:f,right:p}=o;return{top:s,left:a,width:l,height:u,bottom:f,right:p}}function Qh(e){return ss(e,{ignoreTransform:!0})}function vR(e){const n=e.innerWidth,o=e.innerHeight;return{top:0,left:0,right:n,bottom:o,width:n,height:o}}function yR(e,n){return n===void 0&&(n=Ot(e).getComputedStyle(e)),n.position==="fixed"}function xR(e,n){n===void 0&&(n=Ot(e).getComputedStyle(e));const o=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const l=n[a];return typeof l=="string"?o.test(l):!1})}function Il(e,n){const o=[];function s(a){if(n!=null&&o.length>=n||!a)return o;if(Kd(a)&&a.scrollingElement!=null&&!o.includes(a.scrollingElement))return o.push(a.scrollingElement),o;if(!vi(a)||ry(a)||o.includes(a))return o;const l=Ot(e).getComputedStyle(a);return a!==e&&xR(a,l)&&o.push(a),yR(a,l)?o:s(a.parentNode)}return e?s(e):o}function dy(e){const[n]=Il(e,1);return n??null}function Wu(e){return!Ml||!e?null:rs(e)?e:Hd(e)?Kd(e)||e===os(e).scrollingElement?window:vi(e)?e:null:null}function fy(e){return rs(e)?e.scrollX:e.scrollLeft}function py(e){return rs(e)?e.scrollY:e.scrollTop}function ud(e){return{x:fy(e),y:py(e)}}var it;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(it||(it={}));function my(e){return!Ml||!e?!1:e===document.scrollingElement}function hy(e){const n={x:0,y:0},o=my(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-o.width,y:e.scrollHeight-o.height},a=e.scrollTop<=n.y,l=e.scrollLeft<=n.x,u=e.scrollTop>=s.y,f=e.scrollLeft>=s.x;return{isTop:a,isLeft:l,isBottom:u,isRight:f,maxScroll:s,minScroll:n}}const wR={x:.2,y:.2};function SR(e,n,o,s,a){let{top:l,left:u,right:f,bottom:p}=o;s===void 0&&(s=10),a===void 0&&(a=wR);const{isTop:g,isBottom:v,isLeft:x,isRight:w}=hy(e),S={x:0,y:0},E={x:0,y:0},b={height:n.height*a.y,width:n.width*a.x};return!g&&l<=n.top+b.height?(S.y=it.Backward,E.y=s*Math.abs((n.top+b.height-l)/b.height)):!v&&p>=n.bottom-b.height&&(S.y=it.Forward,E.y=s*Math.abs((n.bottom-b.height-p)/b.height)),!w&&f>=n.right-b.width?(S.x=it.Forward,E.x=s*Math.abs((n.right-b.width-f)/b.width)):!x&&u<=n.left+b.width&&(S.x=it.Backward,E.x=s*Math.abs((n.left+b.width-u)/b.width)),{direction:S,speed:E}}function CR(e){if(e===document.scrollingElement){const{innerWidth:l,innerHeight:u}=window;return{top:0,left:0,right:l,bottom:u,width:l,height:u}}const{top:n,left:o,right:s,bottom:a}=e.getBoundingClientRect();return{top:n,left:o,right:s,bottom:a,width:e.clientWidth,height:e.clientHeight}}function gy(e){return e.reduce((n,o)=>Ho(n,ud(o)),bn)}function bR(e){return e.reduce((n,o)=>n+fy(o),0)}function kR(e){return e.reduce((n,o)=>n+py(o),0)}function ER(e,n){if(n===void 0&&(n=ss),!e)return;const{top:o,left:s,bottom:a,right:l}=n(e);dy(e)&&(a<=0||l<=0||o>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const NR=[["x",["left","right"],bR],["y",["top","bottom"],kR]];class Yd{constructor(n,o){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Il(o),a=gy(s);this.rect={...n},this.width=n.width,this.height=n.height;for(const[l,u,f]of NR)for(const p of u)Object.defineProperty(this,p,{get:()=>{const g=f(s),v=a[l]-g;return this.rect[p]+v},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class ti{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(o=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...o)})},this.target=n}add(n,o,s){var a;(a=this.target)==null||a.addEventListener(n,o,s),this.listeners.push([n,o,s])}}function RR(e){const{EventTarget:n}=Ot(e);return e instanceof n?e:os(e)}function Vu(e,n){const o=Math.abs(e.x),s=Math.abs(e.y);return typeof n=="number"?Math.sqrt(o**2+s**2)>n:"x"in n&&"y"in n?o>n.x&&s>n.y:"x"in n?o>n.x:"y"in n?s>n.y:!1}var en;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(en||(en={}));function Jh(e){e.preventDefault()}function _R(e){e.stopPropagation()}var Re;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Re||(Re={}));const vy={start:[Re.Space,Re.Enter],cancel:[Re.Esc],end:[Re.Space,Re.Enter,Re.Tab]},jR=(e,n)=>{let{currentCoordinates:o}=n;switch(e.code){case Re.Right:return{...o,x:o.x+25};case Re.Left:return{...o,x:o.x-25};case Re.Down:return{...o,y:o.y+25};case Re.Up:return{...o,y:o.y-25}}};class hl{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:o}}=n;this.props=n,this.listeners=new ti(os(o)),this.windowListeners=new ti(Ot(o)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(en.Resize,this.handleCancel),this.windowListeners.add(en.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(en.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:o}=this.props,s=n.node.current;s&&ER(s),o(bn)}handleKeyDown(n){if(qd(n)){const{active:o,context:s,options:a}=this.props,{keyboardCodes:l=vy,coordinateGetter:u=jR,scrollBehavior:f="smooth"}=a,{code:p}=n;if(l.end.includes(p)){this.handleEnd(n);return}if(l.cancel.includes(p)){this.handleCancel(n);return}const{collisionRect:g}=s.current,v=g?{x:g.left,y:g.top}:bn;this.referenceCoordinates||(this.referenceCoordinates=v);const x=u(n,{active:o,context:s.current,currentCoordinates:v});if(x){const w=ai(x,v),S={x:0,y:0},{scrollableAncestors:E}=s.current;for(const b of E){const k=n.code,{isTop:N,isRight:R,isLeft:_,isBottom:I,maxScroll:D,minScroll:P}=hy(b),L=CR(b),M={x:Math.min(k===Re.Right?L.right-L.width/2:L.right,Math.max(k===Re.Right?L.left:L.left+L.width/2,x.x)),y:Math.min(k===Re.Down?L.bottom-L.height/2:L.bottom,Math.max(k===Re.Down?L.top:L.top+L.height/2,x.y))},H=k===Re.Right&&!R||k===Re.Left&&!_,Q=k===Re.Down&&!I||k===Re.Up&&!N;if(H&&M.x!==x.x){const F=b.scrollLeft+w.x,U=k===Re.Right&&F<=D.x||k===Re.Left&&F>=P.x;if(U&&!w.y){b.scrollTo({left:F,behavior:f});return}U?S.x=b.scrollLeft-F:S.x=k===Re.Right?b.scrollLeft-D.x:b.scrollLeft-P.x,S.x&&b.scrollBy({left:-S.x,behavior:f});break}else if(Q&&M.y!==x.y){const F=b.scrollTop+w.y,U=k===Re.Down&&F<=D.y||k===Re.Up&&F>=P.y;if(U&&!w.x){b.scrollTo({top:F,behavior:f});return}U?S.y=b.scrollTop-F:S.y=k===Re.Down?b.scrollTop-D.y:b.scrollTop-P.y,S.y&&b.scrollBy({top:-S.y,behavior:f});break}}this.handleMove(n,Ho(ai(x,this.referenceCoordinates),S))}}}handleMove(n,o){const{onMove:s}=this.props;n.preventDefault(),s(o)}handleEnd(n){const{onEnd:o}=this.props;n.preventDefault(),this.detach(),o()}handleCancel(n){const{onCancel:o}=this.props;n.preventDefault(),this.detach(),o()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}hl.activators=[{eventName:"onKeyDown",handler:(e,n,o)=>{let{keyboardCodes:s=vy,onActivation:a}=n,{active:l}=o;const{code:u}=e.nativeEvent;if(s.start.includes(u)){const f=l.activatorNode.current;return f&&e.target!==f?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function Zh(e){return!!(e&&"distance"in e)}function eg(e){return!!(e&&"delay"in e)}class Xd{constructor(n,o,s){var a;s===void 0&&(s=RR(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=o;const{event:l}=n,{target:u}=l;this.props=n,this.events=o,this.document=os(u),this.documentListeners=new ti(this.document),this.listeners=new ti(s),this.windowListeners=new ti(Ot(u)),this.initialCoordinates=(a=cd(l))!=null?a:bn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:o,bypassActivationConstraint:s}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(en.Resize,this.handleCancel),this.windowListeners.add(en.DragStart,Jh),this.windowListeners.add(en.VisibilityChange,this.handleCancel),this.windowListeners.add(en.ContextMenu,Jh),this.documentListeners.add(en.Keydown,this.handleKeydown),o){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(eg(o)){this.timeoutId=setTimeout(this.handleStart,o.delay),this.handlePending(o);return}if(Zh(o)){this.handlePending(o);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,o){const{active:s,onPending:a}=this.props;a(s,n,this.initialCoordinates,o)}handleStart(){const{initialCoordinates:n}=this,{onStart:o}=this.props;n&&(this.activated=!0,this.documentListeners.add(en.Click,_R,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(en.SelectionChange,this.removeTextSelection),o(n))}handleMove(n){var o;const{activated:s,initialCoordinates:a,props:l}=this,{onMove:u,options:{activationConstraint:f}}=l;if(!a)return;const p=(o=cd(n))!=null?o:bn,g=ai(a,p);if(!s&&f){if(Zh(f)){if(f.tolerance!=null&&Vu(g,f.tolerance))return this.handleCancel();if(Vu(g,f.distance))return this.handleStart()}if(eg(f)&&Vu(g,f.tolerance))return this.handleCancel();this.handlePending(f,g);return}n.cancelable&&n.preventDefault(),u(p)}handleEnd(){const{onAbort:n,onEnd:o}=this.props;this.detach(),this.activated||n(this.props.active),o()}handleCancel(){const{onAbort:n,onCancel:o}=this.props;this.detach(),this.activated||n(this.props.active),o()}handleKeydown(n){n.code===Re.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const TR={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class gl extends Xd{constructor(n){const{event:o}=n,s=os(o.target);super(n,TR,s)}}gl.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:o}=e,{onActivation:s}=n;return!o.isPrimary||o.button!==0?!1:(s==null||s({event:o}),!0)}}];const MR={move:{name:"mousemove"},end:{name:"mouseup"}};var dd;(function(e){e[e.RightClick=2]="RightClick"})(dd||(dd={}));class IR extends Xd{constructor(n){super(n,MR,os(n.event.target))}}IR.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:o}=e,{onActivation:s}=n;return o.button===dd.RightClick?!1:(s==null||s({event:o}),!0)}}];const Hu={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class DR extends Xd{constructor(n){super(n,Hu)}static setup(){return window.addEventListener(Hu.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(Hu.move.name,n)};function n(){}}}DR.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:o}=e,{onActivation:s}=n;const{touches:a}=o;return a.length>1?!1:(s==null||s({event:o}),!0)}}];var ni;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(ni||(ni={}));var vl;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(vl||(vl={}));function AR(e){let{acceleration:n,activator:o=ni.Pointer,canScroll:s,draggingRect:a,enabled:l,interval:u=5,order:f=vl.TreeOrder,pointerCoordinates:p,scrollableAncestors:g,scrollableAncestorRects:v,delta:x,threshold:w}=e;const S=OR({delta:x,disabled:!l}),[E,b]=qN(),k=h.useRef({x:0,y:0}),N=h.useRef({x:0,y:0}),R=h.useMemo(()=>{switch(o){case ni.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case ni.DraggableRect:return a}},[o,a,p]),_=h.useRef(null),I=h.useCallback(()=>{const P=_.current;if(!P)return;const L=k.current.x*N.current.x,M=k.current.y*N.current.y;P.scrollBy(L,M)},[]),D=h.useMemo(()=>f===vl.TreeOrder?[...g].reverse():g,[f,g]);h.useEffect(()=>{if(!l||!g.length||!R){b();return}for(const P of D){if((s==null?void 0:s(P))===!1)continue;const L=g.indexOf(P),M=v[L];if(!M)continue;const{direction:H,speed:Q}=SR(P,M,R,n,w);for(const F of["x","y"])S[F][H[F]]||(Q[F]=0,H[F]=0);if(Q.x>0||Q.y>0){b(),_.current=P,E(I,u),k.current=Q,N.current=H;return}}k.current={x:0,y:0},N.current={x:0,y:0},b()},[n,I,s,b,l,u,JSON.stringify(R),JSON.stringify(S),E,g,D,v,JSON.stringify(w)])}const PR={x:{[it.Backward]:!1,[it.Forward]:!1},y:{[it.Backward]:!1,[it.Forward]:!1}};function OR(e){let{delta:n,disabled:o}=e;const s=ld(n);return yi(a=>{if(o||!s||!a)return PR;const l={x:Math.sign(n.x-s.x),y:Math.sign(n.y-s.y)};return{x:{[it.Backward]:a.x[it.Backward]||l.x===-1,[it.Forward]:a.x[it.Forward]||l.x===1},y:{[it.Backward]:a.y[it.Backward]||l.y===-1,[it.Forward]:a.y[it.Forward]||l.y===1}}},[o,n,s])}function LR(e,n){const o=n!=null?e.get(n):void 0,s=o?o.node.current:null;return yi(a=>{var l;return n==null?null:(l=s??a)!=null?l:null},[s,n])}function FR(e,n){return h.useMemo(()=>e.reduce((o,s)=>{const{sensor:a}=s,l=a.activators.map(u=>({eventName:u.eventName,handler:n(u.handler,s)}));return[...o,...l]},[]),[e,n])}var li;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(li||(li={}));var fd;(function(e){e.Optimized="optimized"})(fd||(fd={}));const tg=new Map;function zR(e,n){let{dragging:o,dependencies:s,config:a}=n;const[l,u]=h.useState(null),{frequency:f,measure:p,strategy:g}=a,v=h.useRef(e),x=k(),w=ii(x),S=h.useCallback(function(N){N===void 0&&(N=[]),!w.current&&u(R=>R===null?N:R.concat(N.filter(_=>!R.includes(_))))},[w]),E=h.useRef(null),b=yi(N=>{if(x&&!o)return tg;if(!N||N===tg||v.current!==e||l!=null){const R=new Map;for(let _ of e){if(!_)continue;if(l&&l.length>0&&!l.includes(_.id)&&_.rect.current){R.set(_.id,_.rect.current);continue}const I=_.node.current,D=I?new Yd(p(I),I):null;_.rect.current=D,D&&R.set(_.id,D)}return R}return N},[e,l,o,x,p]);return h.useEffect(()=>{v.current=e},[e]),h.useEffect(()=>{x||S()},[o,x]),h.useEffect(()=>{l&&l.length>0&&u(null)},[JSON.stringify(l)]),h.useEffect(()=>{x||typeof f!="number"||E.current!==null||(E.current=setTimeout(()=>{S(),E.current=null},f))},[f,x,S,...s]),{droppableRects:b,measureDroppableContainers:S,measuringScheduled:l!=null};function k(){switch(g){case li.Always:return!1;case li.BeforeDragging:return o;default:return!o}}}function yy(e,n){return yi(o=>e?o||(typeof n=="function"?n(e):e):null,[n,e])}function $R(e,n){return yy(e,n)}function UR(e){let{callback:n,disabled:o}=e;const s=Gd(n),a=h.useMemo(()=>{if(o||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(s)},[s,o]);return h.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function Dl(e){let{callback:n,disabled:o}=e;const s=Gd(n),a=h.useMemo(()=>{if(o||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(s)},[o]);return h.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function BR(e){return new Yd(ss(e),e)}function ng(e,n,o){n===void 0&&(n=BR);const[s,a]=h.useState(null);function l(){a(p=>{if(!e)return null;if(e.isConnected===!1){var g;return(g=p??o)!=null?g:null}const v=n(e);return JSON.stringify(p)===JSON.stringify(v)?p:v})}const u=UR({callback(p){if(e)for(const g of p){const{type:v,target:x}=g;if(v==="childList"&&x instanceof HTMLElement&&x.contains(e)){l();break}}}}),f=Dl({callback:l});return Bn(()=>{l(),e?(f==null||f.observe(e),u==null||u.observe(document.body,{childList:!0,subtree:!0})):(f==null||f.disconnect(),u==null||u.disconnect())},[e]),s}function WR(e){const n=yy(e);return uy(e,n)}const rg=[];function VR(e){const n=h.useRef(e),o=yi(s=>e?s&&s!==rg&&e&&n.current&&e.parentNode===n.current.parentNode?s:Il(e):rg,[e]);return h.useEffect(()=>{n.current=e},[e]),o}function HR(e){const[n,o]=h.useState(null),s=h.useRef(e),a=h.useCallback(l=>{const u=Wu(l.target);u&&o(f=>f?(f.set(u,ud(u)),new Map(f)):null)},[]);return h.useEffect(()=>{const l=s.current;if(e!==l){u(l);const f=e.map(p=>{const g=Wu(p);return g?(g.addEventListener("scroll",a,{passive:!0}),[g,ud(g)]):null}).filter(p=>p!=null);o(f.length?new Map(f):null),s.current=e}return()=>{u(e),u(l)};function u(f){f.forEach(p=>{const g=Wu(p);g==null||g.removeEventListener("scroll",a)})}},[a,e]),h.useMemo(()=>e.length?n?Array.from(n.values()).reduce((l,u)=>Ho(l,u),bn):gy(e):bn,[e,n])}function og(e,n){n===void 0&&(n=[]);const o=h.useRef(null);return h.useEffect(()=>{o.current=null},n),h.useEffect(()=>{const s=e!==bn;s&&!o.current&&(o.current=e),!s&&o.current&&(o.current=null)},[e]),o.current?ai(e,o.current):bn}function KR(e){h.useEffect(()=>{if(!Ml)return;const n=e.map(o=>{let{sensor:s}=o;return s.setup==null?void 0:s.setup()});return()=>{for(const o of n)o==null||o()}},e.map(n=>{let{sensor:o}=n;return o}))}function GR(e,n){return h.useMemo(()=>e.reduce((o,s)=>{let{eventName:a,handler:l}=s;return o[a]=u=>{l(u,n)},o},{}),[e,n])}function xy(e){return h.useMemo(()=>e?vR(e):null,[e])}const sg=[];function qR(e,n){n===void 0&&(n=ss);const[o]=e,s=xy(o?Ot(o):null),[a,l]=h.useState(sg);function u(){l(()=>e.length?e.map(p=>my(p)?s:new Yd(n(p),p)):sg)}const f=Dl({callback:u});return Bn(()=>{f==null||f.disconnect(),u(),e.forEach(p=>f==null?void 0:f.observe(p))},[e]),a}function YR(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return vi(n)?n:e}function XR(e){let{measure:n}=e;const[o,s]=h.useState(null),a=h.useCallback(g=>{for(const{target:v}of g)if(vi(v)){s(x=>{const w=n(v);return x?{...x,width:w.width,height:w.height}:w});break}},[n]),l=Dl({callback:a}),u=h.useCallback(g=>{const v=YR(g);l==null||l.disconnect(),v&&(l==null||l.observe(v)),s(v?n(v):null)},[n,l]),[f,p]=pl(u);return h.useMemo(()=>({nodeRef:f,rect:o,setRef:p}),[o,f,p])}const QR=[{sensor:gl,options:{}},{sensor:hl,options:{}}],JR={current:{}},tl={draggable:{measure:Qh},droppable:{measure:Qh,strategy:li.WhileDragging,frequency:fd.Optimized},dragOverlay:{measure:ss}};class ri extends Map{get(n){var o;return n!=null&&(o=super.get(n))!=null?o:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:o}=n;return!o})}getNodeFor(n){var o,s;return(o=(s=this.get(n))==null?void 0:s.node.current)!=null?o:void 0}}const ZR={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new ri,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ml},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:tl,measureDroppableContainers:ml,windowRect:null,measuringScheduled:!1},e2={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ml,draggableNodes:new Map,over:null,measureDroppableContainers:ml},Al=h.createContext(e2),wy=h.createContext(ZR);function t2(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new ri}}}function n2(e,n){switch(n.type){case tt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case tt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case tt.DragEnd:case tt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case tt.RegisterDroppable:{const{element:o}=n,{id:s}=o,a=new ri(e.droppable.containers);return a.set(s,o),{...e,droppable:{...e.droppable,containers:a}}}case tt.SetDroppableDisabled:{const{id:o,key:s,disabled:a}=n,l=e.droppable.containers.get(o);if(!l||s!==l.key)return e;const u=new ri(e.droppable.containers);return u.set(o,{...l,disabled:a}),{...e,droppable:{...e.droppable,containers:u}}}case tt.UnregisterDroppable:{const{id:o,key:s}=n,a=e.droppable.containers.get(o);if(!a||s!==a.key)return e;const l=new ri(e.droppable.containers);return l.delete(o),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function r2(e){let{disabled:n}=e;const{active:o,activatorEvent:s,draggableNodes:a}=h.useContext(Al),l=ld(s),u=ld(o==null?void 0:o.id);return h.useEffect(()=>{if(!n&&!s&&l&&u!=null){if(!qd(l)||document.activeElement===l.target)return;const f=a.get(u);if(!f)return;const{activatorNode:p,node:g}=f;if(!p.current&&!g.current)return;requestAnimationFrame(()=>{for(const v of[p.current,g.current]){if(!v)continue;const x=QN(v);if(x){x.focus();break}}})}},[s,n,a,u,l]),null}function o2(e,n){let{transform:o,...s}=n;return e!=null&&e.length?e.reduce((a,l)=>l({transform:a,...s}),o):o}function s2(e){return h.useMemo(()=>({draggable:{...tl.draggable,...e==null?void 0:e.draggable},droppable:{...tl.droppable,...e==null?void 0:e.droppable},dragOverlay:{...tl.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function i2(e){let{activeNode:n,measure:o,initialRect:s,config:a=!0}=e;const l=h.useRef(!1),{x:u,y:f}=typeof a=="boolean"?{x:a,y:a}:a;Bn(()=>{if(!u&&!f||!n){l.current=!1;return}if(l.current||!s)return;const g=n==null?void 0:n.node.current;if(!g||g.isConnected===!1)return;const v=o(g),x=uy(v,s);if(u||(x.x=0),f||(x.y=0),l.current=!0,Math.abs(x.x)>0||Math.abs(x.y)>0){const w=dy(g);w&&w.scrollBy({top:x.y,left:x.x})}},[n,u,f,s,o])}const Sy=h.createContext({...bn,scaleX:1,scaleY:1});var Fr;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Fr||(Fr={}));const Cy=h.memo(function(n){var o,s,a,l;let{id:u,accessibility:f,autoScroll:p=!0,children:g,sensors:v=QR,collisionDetection:x=uR,measuring:w,modifiers:S,...E}=n;const b=h.useReducer(n2,void 0,t2),[k,N]=b,[R,_]=rR(),[I,D]=h.useState(Fr.Uninitialized),P=I===Fr.Initialized,{draggable:{active:L,nodes:M,translate:H},droppable:{containers:Q}}=k,F=L!=null?M.get(L):null,U=h.useRef({initial:null,translated:null}),q=h.useMemo(()=>{var Fe;return L!=null?{id:L,data:(Fe=F==null?void 0:F.data)!=null?Fe:JR,rect:U}:null},[L,F]),X=h.useRef(null),[K,Y]=h.useState(null),[ee,T]=h.useState(null),V=ii(E,Object.values(E)),J=xi("DndDescribedBy",u),A=h.useMemo(()=>Q.getEnabled(),[Q]),B=s2(w),{droppableRects:Z,measureDroppableContainers:oe,measuringScheduled:he}=zR(A,{dragging:P,dependencies:[H.x,H.y],config:B.droppable}),pe=LR(M,L),le=h.useMemo(()=>ee?cd(ee):null,[ee]),ge=mr(),ve=$R(pe,B.draggable.measure);i2({activeNode:L!=null?M.get(L):null,config:ge.layoutShiftCompensation,initialRect:ve,measure:B.draggable.measure});const ye=ng(pe,B.draggable.measure,ve),Qe=ng(pe?pe.parentElement:null),He=h.useRef({activatorEvent:null,active:null,activeNode:pe,collisionRect:null,collisions:null,droppableRects:Z,draggableNodes:M,draggingNode:null,draggingNodeRect:null,droppableContainers:Q,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),at=Q.getNodeFor((o=He.current.over)==null?void 0:o.id),pt=XR({measure:B.dragOverlay.measure}),rn=(s=pt.nodeRef.current)!=null?s:pe,on=P?(a=pt.rect)!=null?a:ye:null,ur=!!(pt.nodeRef.current&&pt.rect),Hr=WR(ur?null:ye),Ht=xy(rn?Ot(rn):null),Nt=VR(P?at??pe:null),sn=qR(Nt),dr=o2(S,{transform:{x:H.x-Hr.x,y:H.y-Hr.y,scaleX:1,scaleY:1},activatorEvent:ee,active:q,activeNodeRect:ye,containerNodeRect:Qe,draggingNodeRect:on,over:He.current.over,overlayNodeRect:pt.rect,scrollableAncestors:Nt,scrollableAncestorRects:sn,windowRect:Ht}),ls=le?Ho(le,H):null,cs=HR(Nt),Ei=og(cs),Ni=og(cs,[ye]),jn=Ho(dr,Ei),an=on?pR(on,dr):null,fr=q&&an?x({active:q,collisionRect:an,droppableRects:Z,droppableContainers:A,pointerCoordinates:ls}):null,pr=ly(fr,"id"),[Rt,Ri]=h.useState(null),_i=ur?dr:Ho(dr,Ni),ji=dR(_i,(l=Rt==null?void 0:Rt.rect)!=null?l:null,ye),us=h.useRef(null),po=h.useCallback((Fe,mt)=>{let{sensor:ht,options:ln}=mt;if(X.current==null)return;const Ct=M.get(X.current);if(!Ct)return;const gt=Fe.nativeEvent,_t=new ht({active:X.current,activeNode:Ct,event:gt,options:ln,context:He,onAbort(ze){if(!M.get(ze))return;const{onDragAbort:vt}=V.current,cn={id:ze};vt==null||vt(cn),R({type:"onDragAbort",event:cn})},onPending(ze,Kt,vt,cn){if(!M.get(ze))return;const{onDragPending:Tn}=V.current,Lt={id:ze,constraint:Kt,initialCoordinates:vt,offset:cn};Tn==null||Tn(Lt),R({type:"onDragPending",event:Lt})},onStart(ze){const Kt=X.current;if(Kt==null)return;const vt=M.get(Kt);if(!vt)return;const{onDragStart:cn}=V.current,un={activatorEvent:gt,active:{id:Kt,data:vt.data,rect:U}};zr.unstable_batchedUpdates(()=>{cn==null||cn(un),D(Fr.Initializing),N({type:tt.DragStart,initialCoordinates:ze,active:Kt}),R({type:"onDragStart",event:un}),Y(us.current),T(gt)})},onMove(ze){N({type:tt.DragMove,coordinates:ze})},onEnd:Kn(tt.DragEnd),onCancel:Kn(tt.DragCancel)});us.current=_t;function Kn(ze){return async function(){const{active:vt,collisions:cn,over:un,scrollAdjustedTranslate:Tn}=He.current;let Lt=null;if(vt&&Tn){const{cancelDrop:Gn}=V.current;Lt={activatorEvent:gt,active:vt,collisions:cn,delta:Tn,over:un},ze===tt.DragEnd&&typeof Gn=="function"&&await Promise.resolve(Gn(Lt))&&(ze=tt.DragCancel)}X.current=null,zr.unstable_batchedUpdates(()=>{N({type:ze}),D(Fr.Uninitialized),Ri(null),Y(null),T(null),us.current=null;const Gn=ze===tt.DragEnd?"onDragEnd":"onDragCancel";if(Lt){const ms=V.current[Gn];ms==null||ms(Lt),R({type:Gn,event:Lt})}})}}},[M]),ds=h.useCallback((Fe,mt)=>(ht,ln)=>{const Ct=ht.nativeEvent,gt=M.get(ln);if(X.current!==null||!gt||Ct.dndKit||Ct.defaultPrevented)return;const _t={active:gt};Fe(ht,mt.options,_t)===!0&&(Ct.dndKit={capturedBy:mt.sensor},X.current=ln,po(ht,mt))},[M,po]),mo=FR(v,ds);KR(v),Bn(()=>{ye&&I===Fr.Initializing&&D(Fr.Initialized)},[ye,I]),h.useEffect(()=>{const{onDragMove:Fe}=V.current,{active:mt,activatorEvent:ht,collisions:ln,over:Ct}=He.current;if(!mt||!ht)return;const gt={active:mt,activatorEvent:ht,collisions:ln,delta:{x:jn.x,y:jn.y},over:Ct};zr.unstable_batchedUpdates(()=>{Fe==null||Fe(gt),R({type:"onDragMove",event:gt})})},[jn.x,jn.y]),h.useEffect(()=>{const{active:Fe,activatorEvent:mt,collisions:ht,droppableContainers:ln,scrollAdjustedTranslate:Ct}=He.current;if(!Fe||X.current==null||!mt||!Ct)return;const{onDragOver:gt}=V.current,_t=ln.get(pr),Kn=_t&&_t.rect.current?{id:_t.id,rect:_t.rect.current,data:_t.data,disabled:_t.disabled}:null,ze={active:Fe,activatorEvent:mt,collisions:ht,delta:{x:Ct.x,y:Ct.y},over:Kn};zr.unstable_batchedUpdates(()=>{Ri(Kn),gt==null||gt(ze),R({type:"onDragOver",event:ze})})},[pr]),Bn(()=>{He.current={activatorEvent:ee,active:q,activeNode:pe,collisionRect:an,collisions:fr,droppableRects:Z,draggableNodes:M,draggingNode:rn,draggingNodeRect:on,droppableContainers:Q,over:Rt,scrollableAncestors:Nt,scrollAdjustedTranslate:jn},U.current={initial:on,translated:an}},[q,pe,fr,an,M,rn,on,Z,Q,Rt,Nt,jn]),AR({...ge,delta:H,draggingRect:an,pointerCoordinates:ls,scrollableAncestors:Nt,scrollableAncestorRects:sn});const fs=h.useMemo(()=>({active:q,activeNode:pe,activeNodeRect:ye,activatorEvent:ee,collisions:fr,containerNodeRect:Qe,dragOverlay:pt,draggableNodes:M,droppableContainers:Q,droppableRects:Z,over:Rt,measureDroppableContainers:oe,scrollableAncestors:Nt,scrollableAncestorRects:sn,measuringConfiguration:B,measuringScheduled:he,windowRect:Ht}),[q,pe,ye,ee,fr,Qe,pt,M,Q,Z,Rt,oe,Nt,sn,B,he,Ht]),ps=h.useMemo(()=>({activatorEvent:ee,activators:mo,active:q,activeNodeRect:ye,ariaDescribedById:{draggable:J},dispatch:N,draggableNodes:M,over:Rt,measureDroppableContainers:oe}),[ee,mo,q,ye,N,J,M,Rt,oe]);return De.createElement(sy.Provider,{value:_},De.createElement(Al.Provider,{value:ps},De.createElement(wy.Provider,{value:fs},De.createElement(Sy.Provider,{value:ji},g)),De.createElement(r2,{disabled:(f==null?void 0:f.restoreFocus)===!1})),De.createElement(iR,{...f,hiddenTextDescribedById:J}));function mr(){const Fe=(K==null?void 0:K.autoScrollEnabled)===!1,mt=typeof p=="object"?p.enabled===!1:p===!1,ht=P&&!Fe&&!mt;return typeof p=="object"?{...p,enabled:ht}:{enabled:ht}}}),a2=h.createContext(null),ig="button",l2="Draggable";function c2(e){let{id:n,data:o,disabled:s=!1,attributes:a}=e;const l=xi(l2),{activators:u,activatorEvent:f,active:p,activeNodeRect:g,ariaDescribedById:v,draggableNodes:x,over:w}=h.useContext(Al),{role:S=ig,roleDescription:E="draggable",tabIndex:b=0}=a??{},k=(p==null?void 0:p.id)===n,N=h.useContext(k?Sy:a2),[R,_]=pl(),[I,D]=pl(),P=GR(u,n),L=ii(o);Bn(()=>(x.set(n,{id:n,key:l,node:R,activatorNode:I,data:L}),()=>{const H=x.get(n);H&&H.key===l&&x.delete(n)}),[x,n]);const M=h.useMemo(()=>({role:S,tabIndex:b,"aria-disabled":s,"aria-pressed":k&&S===ig?!0:void 0,"aria-roledescription":E,"aria-describedby":v.draggable}),[s,S,b,k,E,v.draggable]);return{active:p,activatorEvent:f,activeNodeRect:g,attributes:M,isDragging:k,listeners:s?void 0:P,node:R,over:w,setNodeRef:_,setActivatorNodeRef:D,transform:N}}function u2(){return h.useContext(wy)}const d2="Droppable",f2={timeout:25};function p2(e){let{data:n,disabled:o=!1,id:s,resizeObserverConfig:a}=e;const l=xi(d2),{active:u,dispatch:f,over:p,measureDroppableContainers:g}=h.useContext(Al),v=h.useRef({disabled:o}),x=h.useRef(!1),w=h.useRef(null),S=h.useRef(null),{disabled:E,updateMeasurementsFor:b,timeout:k}={...f2,...a},N=ii(b??s),R=h.useCallback(()=>{if(!x.current){x.current=!0;return}S.current!=null&&clearTimeout(S.current),S.current=setTimeout(()=>{g(Array.isArray(N.current)?N.current:[N.current]),S.current=null},k)},[k]),_=Dl({callback:R,disabled:E||!u}),I=h.useCallback((M,H)=>{_&&(H&&(_.unobserve(H),x.current=!1),M&&_.observe(M))},[_]),[D,P]=pl(I),L=ii(n);return h.useEffect(()=>{!_||!D.current||(_.disconnect(),x.current=!1,_.observe(D.current))},[D,_]),h.useEffect(()=>(f({type:tt.RegisterDroppable,element:{id:s,key:l,disabled:o,node:D,rect:w,data:L}}),()=>f({type:tt.UnregisterDroppable,key:l,id:s})),[s]),h.useEffect(()=>{o!==v.current.disabled&&(f({type:tt.SetDroppableDisabled,id:s,key:l,disabled:o}),v.current.disabled=o)},[s,l,o,f]),{active:u,rect:w,isOver:(p==null?void 0:p.id)===s,node:D,over:p,setNodeRef:P}}function Pl(e,n,o){const s=e.slice();return s.splice(o<0?s.length+o:o,0,s.splice(n,1)[0]),s}function m2(e,n){return e.reduce((o,s,a)=>{const l=n.get(s);return l&&(o[a]=l),o},Array(e.length))}function Ha(e){return e!==null&&e>=0}function h2(e,n){if(e===n)return!0;if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++)if(e[o]!==n[o])return!1;return!0}function g2(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const by=e=>{let{rects:n,activeIndex:o,overIndex:s,index:a}=e;const l=Pl(n,s,o),u=n[a],f=l[a];return!f||!u?null:{x:f.left-u.left,y:f.top-u.top,scaleX:f.width/u.width,scaleY:f.height/u.height}},Ka={scaleX:1,scaleY:1},ky=e=>{var n;let{activeIndex:o,activeNodeRect:s,index:a,rects:l,overIndex:u}=e;const f=(n=l[o])!=null?n:s;if(!f)return null;if(a===o){const g=l[u];return g?{x:0,y:o<u?g.top+g.height-(f.top+f.height):g.top-f.top,...Ka}:null}const p=v2(l,a,o);return a>o&&a<=u?{x:0,y:-f.height-p,...Ka}:a<o&&a>=u?{x:0,y:f.height+p,...Ka}:{x:0,y:0,...Ka}};function v2(e,n,o){const s=e[n],a=e[n-1],l=e[n+1];return s?o<n?a?s.top-(a.top+a.height):l?l.top-(s.top+s.height):0:l?l.top-(s.top+s.height):a?s.top-(a.top+a.height):0:0}const Ey="Sortable",Ny=De.createContext({activeIndex:-1,containerId:Ey,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:by,disabled:{draggable:!1,droppable:!1}});function Ry(e){let{children:n,id:o,items:s,strategy:a=by,disabled:l=!1}=e;const{active:u,dragOverlay:f,droppableRects:p,over:g,measureDroppableContainers:v}=u2(),x=xi(Ey,o),w=f.rect!==null,S=h.useMemo(()=>s.map(P=>typeof P=="object"&&"id"in P?P.id:P),[s]),E=u!=null,b=u?S.indexOf(u.id):-1,k=g?S.indexOf(g.id):-1,N=h.useRef(S),R=!h2(S,N.current),_=k!==-1&&b===-1||R,I=g2(l);Bn(()=>{R&&E&&v(S)},[R,S,E,v]),h.useEffect(()=>{N.current=S},[S]);const D=h.useMemo(()=>({activeIndex:b,containerId:x,disabled:I,disableTransforms:_,items:S,overIndex:k,useDragOverlay:w,sortedRects:m2(S,p),strategy:a}),[b,x,I.draggable,I.droppable,_,S,k,p,w,a]);return De.createElement(Ny.Provider,{value:D},n)}const y2=e=>{let{id:n,items:o,activeIndex:s,overIndex:a}=e;return Pl(o,s,a).indexOf(n)},x2=e=>{let{containerId:n,isSorting:o,wasDragging:s,index:a,items:l,newIndex:u,previousItems:f,previousContainerId:p,transition:g}=e;return!g||!s||f!==l&&a===u?!1:o?!0:u!==a&&n===p},w2={duration:200,easing:"ease"},_y="transform",S2=Xo.Transition.toString({property:_y,duration:0,easing:"linear"}),C2={roleDescription:"sortable"};function b2(e){let{disabled:n,index:o,node:s,rect:a}=e;const[l,u]=h.useState(null),f=h.useRef(o);return Bn(()=>{if(!n&&o!==f.current&&s.current){const p=a.current;if(p){const g=ss(s.current,{ignoreTransform:!0}),v={x:p.left-g.left,y:p.top-g.top,scaleX:p.width/g.width,scaleY:p.height/g.height};(v.x||v.y)&&u(v)}}o!==f.current&&(f.current=o)},[n,o,s,a]),h.useEffect(()=>{l&&u(null)},[l]),l}function jy(e){let{animateLayoutChanges:n=x2,attributes:o,disabled:s,data:a,getNewIndex:l=y2,id:u,strategy:f,resizeObserverConfig:p,transition:g=w2}=e;const{items:v,containerId:x,activeIndex:w,disabled:S,disableTransforms:E,sortedRects:b,overIndex:k,useDragOverlay:N,strategy:R}=h.useContext(Ny),_=k2(s,S),I=v.indexOf(u),D=h.useMemo(()=>({sortable:{containerId:x,index:I,items:v},...a}),[x,a,I,v]),P=h.useMemo(()=>v.slice(v.indexOf(u)),[v,u]),{rect:L,node:M,isOver:H,setNodeRef:Q}=p2({id:u,data:D,disabled:_.droppable,resizeObserverConfig:{updateMeasurementsFor:P,...p}}),{active:F,activatorEvent:U,activeNodeRect:q,attributes:X,setNodeRef:K,listeners:Y,isDragging:ee,over:T,setActivatorNodeRef:V,transform:J}=c2({id:u,data:D,attributes:{...C2,...o},disabled:_.draggable}),A=GN(Q,K),B=!!F,Z=B&&!E&&Ha(w)&&Ha(k),oe=!N&&ee,he=oe&&Z?J:null,le=Z?he??(f??R)({rects:b,activeNodeRect:q,activeIndex:w,overIndex:k,index:I}):null,ge=Ha(w)&&Ha(k)?l({id:u,items:v,activeIndex:w,overIndex:k}):I,ve=F==null?void 0:F.id,ye=h.useRef({activeId:ve,items:v,newIndex:ge,containerId:x}),Qe=v!==ye.current.items,He=n({active:F,containerId:x,isDragging:ee,isSorting:B,id:u,index:I,items:v,newIndex:ye.current.newIndex,previousItems:ye.current.items,previousContainerId:ye.current.containerId,transition:g,wasDragging:ye.current.activeId!=null}),at=b2({disabled:!He,index:I,node:M,rect:L});return h.useEffect(()=>{B&&ye.current.newIndex!==ge&&(ye.current.newIndex=ge),x!==ye.current.containerId&&(ye.current.containerId=x),v!==ye.current.items&&(ye.current.items=v)},[B,ge,x,v]),h.useEffect(()=>{if(ve===ye.current.activeId)return;if(ve!=null&&ye.current.activeId==null){ye.current.activeId=ve;return}const rn=setTimeout(()=>{ye.current.activeId=ve},50);return()=>clearTimeout(rn)},[ve]),{active:F,activeIndex:w,attributes:X,data:D,rect:L,index:I,newIndex:ge,items:v,isOver:H,isSorting:B,isDragging:ee,listeners:Y,node:M,overIndex:k,over:T,setNodeRef:A,setActivatorNodeRef:V,setDroppableNodeRef:Q,setDraggableNodeRef:K,transform:at??le,transition:pt()};function pt(){if(at||Qe&&ye.current.newIndex===I)return S2;if(!(oe&&!qd(U)||!g)&&(B||He))return Xo.Transition.toString({...g,property:_y})}}function k2(e,n){var o,s;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(o=e==null?void 0:e.draggable)!=null?o:n.draggable,droppable:(s=e==null?void 0:e.droppable)!=null?s:n.droppable}}function yl(e){if(!e)return!1;const n=e.data.current;return!!(n&&"sortable"in n&&typeof n.sortable=="object"&&"containerId"in n.sortable&&"items"in n.sortable&&"index"in n.sortable)}const E2=[Re.Down,Re.Right,Re.Up,Re.Left],ag=(e,n)=>{let{context:{active:o,collisionRect:s,droppableRects:a,droppableContainers:l,over:u,scrollableAncestors:f}}=n;if(E2.includes(e.code)){if(e.preventDefault(),!o||!s)return;const p=[];l.getEnabled().forEach(x=>{if(!x||x!=null&&x.disabled)return;const w=a.get(x.id);if(w)switch(e.code){case Re.Down:s.top<w.top&&p.push(x);break;case Re.Up:s.top>w.top&&p.push(x);break;case Re.Left:s.left>w.left&&p.push(x);break;case Re.Right:s.left<w.left&&p.push(x);break}});const g=lR({collisionRect:s,droppableRects:a,droppableContainers:p});let v=ly(g,"id");if(v===(u==null?void 0:u.id)&&g.length>1&&(v=g[1].id),v!=null){const x=l.get(o.id),w=l.get(v),S=w?a.get(w.id):null,E=w==null?void 0:w.node.current;if(E&&S&&x&&w){const k=Il(E).some((P,L)=>f[L]!==P),N=Ty(x,w),R=N2(x,w),_=k||!N?{x:0,y:0}:{x:R?s.width-S.width:0,y:R?s.height-S.height:0},I={x:S.left,y:S.top};return _.x&&_.y?I:ai(I,_)}}}};function Ty(e,n){return!yl(e)||!yl(n)?!1:e.data.current.sortable.containerId===n.data.current.sortable.containerId}function N2(e,n){return!yl(e)||!yl(n)||!Ty(e,n)?!1:e.data.current.sortable.index<n.data.current.sortable.index}function or({expanded:e,children:n,duration:o=250,className:s}){const a=h.useRef(null),[l,u]=h.useState(e?"auto":0);return h.useEffect(()=>{var f,p;if(e){const g=((f=a.current)==null?void 0:f.scrollHeight)||0;u(g);const v=setTimeout(()=>u("auto"),o);return()=>clearTimeout(v)}else{const g=((p=a.current)==null?void 0:p.scrollHeight)||0;u(g),requestAnimationFrame(()=>{requestAnimationFrame(()=>u(0))})}},[e,o]),d.jsx("div",{ref:a,className:xe("overflow-hidden",s),style:{height:l==="auto"?"auto":l,opacity:e?1:0,transition:`height ${o}ms ease-in-out, opacity ${o}ms ease-in-out`},children:n})}const R2=500,_2=50;function My(e,n={}){const{delay:o=R2,onProgress:s,disabled:a=!1}=n,l=h.useRef(null),u=h.useRef(null),f=h.useRef(0),p=h.useCallback(()=>{l.current&&(clearTimeout(l.current),l.current=null),u.current&&(clearInterval(u.current),u.current=null)},[]),g=h.useCallback(()=>{p(),s&&s(0)},[p,s]),v=h.useCallback(()=>{a||(f.current=Date.now(),l.current=setTimeout(()=>{e(),p()},o),s&&(u.current=setInterval(()=>{const x=Date.now()-f.current,w=Math.min(x/o,1);s(w)},_2)))},[a,o,e,s,p]);return h.useEffect(()=>()=>{p()},[p]),h.useMemo(()=>({onMouseDown:v,onMouseUp:g,onMouseLeave:g,onTouchStart:v,onTouchEnd:g,onTouchMove:g}),[v,g])}function j2(e){switch(e){case"error":case"permission":case"waiting":return"bg-destructive";case"working":return"bg-yellow-500";case"unread":case"done":return"bg-green-500";case"idle":case"offline":default:return"bg-muted-foreground"}}function T2(e){return e==="working"||e==="waiting"||e==="permission"}const M2={sm:"h-1.5 w-1.5",md:"h-2 w-2",lg:"h-3 w-3"};function I2({status:e,size:n="md",className:o}){const s=j2(e),a=T2(e);return d.jsx("span",{className:xe("inline-block rounded-full",M2[n],s,a&&"animate-pulse",o)})}function D2(e,n){return e!=="idle"?e:n?"unread":"idle"}function Iy({workspaceName:e,conversation:n,isSelected:o,showWorkspaceName:s=!0,onPress:a}){const l=D2(n.status,n.unread);return d.jsxs("button",{onClick:a,className:xe("flex items-center justify-between w-full px-3 py-1.5 mx-1 rounded-lg text-left transition-colors",o?"bg-primary/20 text-gray-900":"hover:bg-accent/50"),children:[d.jsx("span",{className:xe("text-sm truncate",o&&"font-medium"),children:s?e:n.name}),d.jsx(I2,{status:l,size:"sm"})]})}const wi=h.forwardRef(({className:e,type:n,...o},s)=>d.jsx("input",{type:n,className:xe("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...o}));wi.displayName="Input";const Ga="C:\\WorkSpace",qa=" ";function Ku(e){if(!e.includes(qa))return qa;let n=2;for(;e.includes(`${qa} ${n}`);)n++;return`${qa} ${n}`}function A2({open:e,onClose:n,mode:o,workspace:s}){const{connectedPylons:a,getAllWorkspaces:l}=st(),u=a.map(K=>({pcId:K.deviceId,pcName:K.deviceName})),f=l().flatMap(({workspaces:K})=>K.map(Y=>Y.name)),p=()=>{if(o==="edit"&&s){const K=u.findIndex(Y=>Y.pcId===s.pylonId);return K>=0?K:0}return 0},[g,v]=h.useState(p),[x,w]=h.useState(o==="edit"&&(s==null?void 0:s.name)||""),[S,E]=h.useState(o==="edit"),[b,k]=h.useState({path:o==="edit"&&(s==null?void 0:s.workingDir)||Ga,folders:[],foldersWithChildren:[],isLoading:!1,error:null}),[N,R]=h.useState(0),_=u[g];h.useEffect(()=>{e&&(o==="edit"&&s?(v(p()),w(s.name),E(!0),I(s.workingDir)):(v(0),w(Ku(f)),E(!1),I(Ga)))},[e,o,s==null?void 0:s.workspaceId]),h.useEffect(()=>{const K=Y=>{const{path:ee,folders:T,foldersWithChildren:V,error:J}=Y.detail,A=ee||"";if(k({path:A,folders:T||[],foldersWithChildren:V||[],isLoading:!1,error:J||null}),!S&&A!==""){const B=A.split(/[/\\]/).pop()||"";B&&!B.endsWith(":")&&w(B)}};return window.addEventListener("folder_list_result",K),()=>{window.removeEventListener("folder_list_result",K)}},[S]);const I=h.useCallback(K=>{_&&(k(Y=>({...Y,isLoading:!0,error:null})),yC(_.pcId,K))},[_]),D=()=>{if(u.length>1&&o==="new"){const K=(g+1)%u.length;v(K),I(Ga),S||w(Ku(f))}},P=()=>{const K=b.path.split(/[/\\]/).filter(Boolean);if(K.length>1){K.pop();const Y=K.length===1&&K[0].endsWith(":")?`${K[0]}\\`:K.join("\\");I(Y)}else K.length===1&&I("")},L=K=>{if(K.isDrive&&K.path){I(K.path);return}const Y=`${b.path}\\${K.name}`;K.hasChildren?I(Y):(k(ee=>({...ee,path:Y})),S||w(K.name))},M=K=>{if(w(K),K===""){E(!1);const Y=b.path.split(/[/\\]/).pop()||"";Y&&!Y.endsWith(":")?w(Y):w(Ku(f))}else E(!0)},H=()=>{const K=prompt("   ");K&&_&&(xC(_.pcId,b.path,K),setTimeout(()=>I(b.path),500))},Q=()=>{!x.trim()||!_||(wC(_.pcId,x.trim(),b.path),X())},F=()=>{if(!x.trim()||!s)return;const K={};x.trim()!==s.name&&(K.name=x.trim()),b.path!==s.workingDir&&(K.workingDir=b.path),Object.keys(K).length>0&&cC(Number(s.workspaceId),K),X()},q=My(()=>{s&&(lC(Number(s.workspaceId)),X())},{delay:1e3,onProgress:R,disabled:o!=="edit"}),X=()=>{w(""),E(!1),R(0),n()};return u.length===0?d.jsx(Un,{open:e,onOpenChange:K=>!K&&X(),children:d.jsxs(wn,{className:"max-w-sm",children:[d.jsx(Sn,{children:d.jsx(Cn,{children:o==="new"?" ":" "})}),d.jsx("p",{className:"text-center text-muted-foreground py-6",children:" PC "})]})}):d.jsx(Un,{open:e,onOpenChange:K=>!K&&X(),children:d.jsxs(wn,{className:"max-w-md",children:[d.jsx(Sn,{children:d.jsx(Cn,{children:o==="new"?" ":" "})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Te,{variant:"outline",size:"icon",onClick:D,disabled:u.length<=1||o==="edit",title:_==null?void 0:_.pcName,children:d.jsx(od,{className:"h-4 w-4"})}),d.jsx(wi,{placeholder:" ",value:x,onChange:K=>M(K.target.value),className:"flex-1"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"flex-1 text-sm text-muted-foreground truncate",children:b.path===""?" ":b.path||" ..."}),d.jsx(Te,{variant:"ghost",size:"icon",onClick:P,disabled:b.path==="",children:d.jsx(TC,{className:"h-4 w-4"})})]}),d.jsx("div",{className:"max-h-48 overflow-y-auto border rounded-md",children:b.isLoading?d.jsx("div",{className:"flex items-center justify-center py-6",children:d.jsx(ny,{})}):b.error?d.jsx("div",{className:"flex items-center justify-center py-6",children:d.jsx("p",{className:"text-destructive text-sm",children:b.error})}):d.jsxs("div",{className:"divide-y divide-border",children:[b.foldersWithChildren.length>0?b.foldersWithChildren.map(K=>d.jsxs("button",{onClick:()=>L(K),className:"flex items-center gap-2 w-full px-3 py-2 text-sm hover:bg-accent/50 transition-colors",children:[K.isDrive?d.jsx(ab,{className:"h-4 w-4 text-muted-foreground"}):d.jsx(rd,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{className:"flex-1 text-left truncate",children:K.name}),K.hasChildren&&d.jsx(xn,{className:"h-4 w-4 text-muted-foreground"})]},K.name)):b.folders.map(K=>d.jsxs("button",{onClick:()=>L({name:K,hasChildren:!0}),className:"flex items-center gap-2 w-full px-3 py-2 text-sm hover:bg-accent/50 transition-colors",children:[d.jsx(rd,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{className:"flex-1 text-left truncate",children:K}),d.jsx(xn,{className:"h-4 w-4 text-muted-foreground"})]},K)),b.path!==""&&d.jsxs("button",{onClick:H,className:"flex items-center gap-2 w-full px-3 py-2 text-sm text-muted-foreground hover:bg-accent/50 transition-colors",children:[d.jsx(ob,{className:"h-4 w-4"}),d.jsx("span",{children:" "})]})]})})]}),d.jsx(qo,{children:o==="new"?d.jsx(Te,{onClick:Q,disabled:!x.trim(),children:""}):d.jsxs("div",{className:"flex gap-2 w-full",children:[d.jsx(Te,{onClick:F,disabled:!x.trim(),className:"flex-1",children:""}),d.jsxs(Te,{variant:"destructive",className:"relative overflow-hidden",...q,children:[N>0&&d.jsx("div",{className:"absolute inset-0 bg-destructive-foreground/20",style:{width:`${N*100}%`}}),d.jsx(Zg,{className:"h-4 w-4"})]})]})})]})})}function P2({open:e,workspaceId:n,workspaceName:o,onClose:s}){const[a,l]=h.useState("");h.useEffect(()=>{e&&l("")},[e]);const u=()=>{a.trim()&&(fC(Number(n),a.trim()),l(""),s())},f=()=>{l(""),s()},p=g=>{g.key==="Enter"&&a.trim()&&u()};return d.jsx(Un,{open:e,onOpenChange:g=>!g&&f(),children:d.jsxs(wn,{className:"max-w-sm",children:[d.jsxs(Sn,{children:[d.jsx(Cn,{children:" "}),d.jsxs(Yo,{children:[": ",o]})]}),d.jsx("div",{className:"py-2",children:d.jsx(wi,{placeholder:":  ,   ...",value:a,onChange:g=>l(g.target.value),onKeyDown:p,autoFocus:!0})}),d.jsxs(qo,{children:[d.jsx(Te,{variant:"outline",onClick:f,children:""}),d.jsx(Te,{onClick:u,disabled:!a.trim(),children:""})]})]})})}function O2({workspace:e,expanded:n,onSelect:o,onLongPress:s,dragHandleProps:a}){const[l,u]=h.useState(0),{getIcon:f}=Td(),p=f(e.pylonId),g=Bd(p),v=My(s,{delay:500,onProgress:u});return d.jsxs("div",{onClick:o,...v,className:"relative w-full px-3 py-2.5 text-left hover:bg-accent/50 transition-colors overflow-hidden cursor-pointer",children:[l>0&&d.jsx("div",{className:"absolute inset-0 bg-primary/15 transition-all duration-75",style:{width:`${l*100}%`}}),d.jsxs("div",{className:"relative flex items-center gap-2",children:[d.jsx("div",{...a==null?void 0:a.attributes,...a==null?void 0:a.listeners,className:"cursor-grab active:cursor-grabbing touch-none",onClick:x=>x.stopPropagation(),onMouseDown:x=>x.stopPropagation(),onPointerDown:x=>{var S;const w=(S=a==null?void 0:a.listeners)==null?void 0:S.onPointerDown;w==null||w(x),x.stopPropagation()},onTouchStart:x=>{var S;const w=(S=a==null?void 0:a.listeners)==null?void 0:S.onTouchStart;w==null||w(x),x.stopPropagation()},children:d.jsx(g,{className:"h-4 w-4 text-primary"})}),d.jsx("span",{className:"font-semibold text-sm",children:e.name}),d.jsx(xn,{className:xe("ml-auto h-4 w-4 text-muted-foreground transition-transform",n&&"rotate-90")})]}),d.jsx("p",{className:"relative text-xs text-muted-foreground mt-0.5 ml-6 truncate",children:e.workingDir})]})}function L2({conversation:e,workspaceName:n,workingDir:o,isSelected:s,onPress:a}){const{attributes:l,listeners:u,setNodeRef:f,transform:p,transition:g,isDragging:v}=jy({id:e.conversationId}),x={transform:Xo.Translate.toString(p),transition:g};return d.jsx("div",{ref:f,style:x,...l,...u,className:xe(v&&"opacity-50"),children:d.jsx(Iy,{workspaceName:n,workingDir:o,conversation:e,isSelected:s,showWorkspaceName:!1,onPress:a})})}function F2({workspace:e,expanded:n,selectedConvInWorkspace:o,onSelect:s,onLongPress:a,onConversationSelect:l,onNewConversation:u,isSelectedConversation:f,closeSidebar:p,onConversationDragEnd:g,conversationSensors:v}){const{attributes:x,listeners:w,setNodeRef:S,transform:E,transition:b,isDragging:k}=jy({id:e.workspaceId}),N={transform:Xo.Translate.toString(E),transition:b},R=h.useCallback(_=>{const{active:I,over:D}=_;if(D&&I.id!==D.id){const P=e.conversations,L=P.findIndex(H=>H.conversationId===I.id),M=P.findIndex(H=>H.conversationId===D.id);if(L!==-1&&M!==-1){const Q=Pl(P,L,M).map(F=>F.conversationId);g(e.workspaceId,Q)}}},[e.workspaceId,e.conversations,g]);return d.jsxs(Tl,{ref:S,style:N,className:xe("overflow-hidden transition-colors",n?"bg-card border-border":"bg-card/50",k&&"opacity-50 shadow-lg"),children:[d.jsx(O2,{workspace:e,expanded:n,onSelect:s,onLongPress:a,dragHandleProps:{attributes:x,listeners:w}}),!n&&o&&d.jsx("div",{className:"pb-1.5",children:d.jsx(Iy,{workspaceName:e.name,workingDir:e.workingDir,conversation:o,isSelected:!0,showWorkspaceName:!1,onPress:()=>p()})}),d.jsx(or,{expanded:n,children:d.jsxs("div",{className:"pb-1.5",children:[e.conversations.length>0?d.jsx(Cy,{sensors:v,collisionDetection:cy,onDragEnd:R,children:d.jsx(Ry,{items:e.conversations.map(_=>_.conversationId),strategy:ky,children:e.conversations.map(_=>d.jsx(L2,{conversation:_,workspaceName:e.name,workingDir:e.workingDir,isSelected:f(_.conversationId),onPress:()=>l(_)},_.conversationId))})}):d.jsx("p",{className:"px-3 pb-0.5 text-xs text-muted-foreground italic",children:" "}),d.jsxs("button",{onClick:u,className:"flex items-center gap-2 w-full px-3 py-2 mx-1 text-xs text-muted-foreground hover:text-foreground hover:bg-accent/50 rounded-md transition-colors",children:[d.jsx(Md,{className:"h-4 w-4"})," "]})]})})]})}function z2(){const[e,n]=h.useState(null),[o,s]=h.useState(null),[a,l]=h.useState(null),[u,f]=h.useState(()=>{try{const F=localStorage.getItem("estelle:expandedWorkspaces");return F?new Set(JSON.parse(F)):new Set}catch{return new Set}}),{getAllWorkspaces:p,selectedConversation:g,selectConversation:v,reorderWorkspaces:x,reorderConversations:w}=st(),S=qh(Va(gl,{activationConstraint:{distance:8}}),Va(hl,{coordinateGetter:ag})),E=qh(Va(gl,{activationConstraint:{distance:8}}),Va(hl,{coordinateGetter:ag})),{closeSidebar:b}=h.useContext(Vd),N=p().flatMap(({pylonId:F,workspaces:U})=>U.map(q=>({...q,pylonId:F})));h.useEffect(()=>{if(u.size===0&&N.length>0){const F=g?N.find(X=>X.workspaceId===g.workspaceId):null,U=(F==null?void 0:F.workspaceId)??N[0].workspaceId,q=new Set([U]);f(q),localStorage.setItem("estelle:expandedWorkspaces",JSON.stringify([...q]))}},[N,g,u.size]);const R=F=>u.has(F),_=h.useCallback(F=>{f(U=>{const q=new Set(U);return q.has(F)?q.delete(F):q.add(F),localStorage.setItem("estelle:expandedWorkspaces",JSON.stringify([...q])),q})},[]),I=F=>(g==null?void 0:g.conversationId)===F,D=h.useCallback(F=>{s({workspaceId:F.workspaceId,pylonId:F.pylonId,name:F.name,workingDir:F.workingDir}),n("edit")},[]),P=h.useCallback(()=>{s(null),n("new")},[]),L=h.useCallback(()=>{n(null),s(null)},[]),M=h.useCallback(F=>{const{active:U,over:q}=F;if(q&&U.id!==q.id){const X=N.findIndex(Y=>Y.workspaceId===U.id),K=N.findIndex(Y=>Y.workspaceId===q.id);if(X!==-1&&K!==-1){const Y=N[X],ee=N[K];if(Y.pylonId===ee.pylonId){const T=Y.pylonId,V=N.filter(oe=>oe.pylonId===T),J=V.findIndex(oe=>oe.workspaceId===U.id),A=V.findIndex(oe=>oe.workspaceId===q.id),Z=Pl(V,J,A).map(oe=>Number(oe.workspaceId));x(T,Z.map(String)),uC(Z)}}}},[N,x]),H=h.useCallback((F,U)=>{v(F.pylonId,U.conversationId),Ye.getState().setCurrentConversation(U.conversationId),Gg(U.conversationId),b()},[v,b]),Q=h.useCallback((F,U)=>{const q=N.find(X=>X.workspaceId===F);q&&(w(q.pylonId,F,U),dC(Number(F),U))},[N,w]);return d.jsxs("div",{className:"flex h-full flex-col bg-background",children:[d.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:[d.jsx(Cy,{sensors:S,collisionDetection:cy,onDragEnd:M,children:d.jsx(Ry,{items:N.map(F=>F.workspaceId),strategy:ky,children:N.map(F=>{const U=R(F.workspaceId),q=U?null:F.conversations.find(X=>I(X.conversationId));return d.jsx(F2,{workspace:F,expanded:U,selectedConvInWorkspace:q,onSelect:()=>_(F.workspaceId),onLongPress:()=>D(F),onConversationSelect:X=>H(F,X),onNewConversation:()=>{l({workspaceId:F.workspaceId,workspaceName:F.name})},isSelectedConversation:I,closeSidebar:b,onConversationDragEnd:Q,conversationSensors:E},F.workspaceId)})})}),N.length===0&&d.jsxs(Tl,{className:"p-6 text-center",children:[d.jsx(rd,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),d.jsx("p",{className:"text-muted-foreground",children:"  "})]}),d.jsxs("button",{onClick:P,className:"flex items-center gap-2 w-full px-3 py-2.5 rounded-xl border border-dashed border-border text-muted-foreground hover:text-foreground hover:border-foreground/50 transition-colors",children:[d.jsx(Md,{className:"h-4 w-4"})," "]})]}),d.jsx(A2,{open:e!==null,onClose:L,mode:e||"new",workspace:o||void 0}),d.jsx(P2,{open:a!==null,workspaceId:(a==null?void 0:a.workspaceId)??"",workspaceName:(a==null?void 0:a.workspaceName)??"",onClose:()=>l(null)})]})}function lg(e){let n=e;return n=n.replace(/^mcp[-_]/i,""),n=n.replace(/[-_]mcp$/i,""),n=n.replace(/^[^a-zA-Z-]+/,"").replace(/[^a-zA-Z-]+$/,""),n||(n=e),n.charAt(0).toUpperCase()+n.slice(1)}function Dy(e){if(!e.startsWith("mcp__"))return{isMcp:!1,serverName:"",toolName:e};const n=e.slice(5),o=n.indexOf("__");return o===-1?{isMcp:!0,serverName:lg(n),toolName:""}:{isMcp:!0,serverName:lg(n.slice(0,o)),toolName:n.slice(o+2)}}function pd(e,n){if(!n)return{desc:e,cmd:""};switch(e){case"Bash":return{desc:n.description||"Run command",cmd:n.command||""};case"Read":return{desc:"Read file",cmd:n.file_path||""};case"Edit":return{desc:"Edit file",cmd:n.file_path||""};case"Write":return{desc:"Write file",cmd:n.file_path||""};case"Glob":{const o=n.path;return{desc:o?`Search in ${o}`:"Search files",cmd:n.pattern||""}}case"Grep":{const o=n.path;return{desc:o?`Search in ${o}`:"Search content",cmd:n.pattern||""}}case"WebFetch":return{desc:"Fetch URL",cmd:n.url||""};case"WebSearch":return{desc:"Web search",cmd:n.query||""};case"Task":{const o=n.prompt||"";return{desc:n.description||"Run task",cmd:o.length>100?o.substring(0,100)+"...":o}}case"TodoWrite":{const o=n.todos;return{desc:"Update todos",cmd:`${Array.isArray(o)?o.length:0} items`}}case"ToolSearch":return{desc:n.query||"",cmd:""};default:{const o=Dy(e);if(o.isMcp)return $2(o.serverName,o.toolName,n);const s=Object.values(n).find(a=>typeof a=="string");return{desc:e,cmd:s&&s.length>80?s.substring(0,80)+"...":s||""}}}}function $2(e,n,o){if(e==="estelle-mcp")switch(n){case"send_file":return{desc:"send file",cmd:o.path||""};case"link_doc":return{desc:"link document",cmd:o.path||""};case"unlink_doc":return{desc:"unlink document",cmd:o.path||""};case"list_docs":return{desc:"list documents",cmd:""};case"deploy":return{desc:"deploy",cmd:o.target||""}}const s=n.replace(/_/g," "),a=Object.values(o).find(l=>typeof l=="string");return{desc:s,cmd:a&&a.length>80?a.substring(0,80)+"...":a||""}}function cg(e){return e.replace(/<system-reminder>[\s\S]*?<\/system-reminder>/g,"").trim()}function U2(e,n){const o=e.split(`
`),s=n.split(`
`),a=o.length,l=s.length,u=Array(a+1).fill(null).map(()=>Array(l+1).fill(0));for(let v=1;v<=a;v++)for(let x=1;x<=l;x++)o[v-1]===s[x-1]?u[v][x]=u[v-1][x-1]+1:u[v][x]=Math.max(u[v-1][x],u[v][x-1]);let f=a,p=l;const g=[];for(;f>0||p>0;)f>0&&p>0&&o[f-1]===s[p-1]?(g.push({type:"same",text:o[f-1]}),f--,p--):p>0&&(f===0||u[f][p-1]>=u[f-1][p])?(g.push({type:"add",text:s[p-1]}),p--):(g.push({type:"remove",text:o[f-1]}),f--);return g.reverse()}function Gu(e){const o=e.replace(/\\/g,"/").split("/");return o[o.length-1]||e}function B2(e,n,o,s,a){const{isComplete:l,success:u,statusIcon:f,statusColor:p,borderColor:g,isExpanded:v,setIsExpanded:x,onFileClick:w}=a,S=n.replace(/_/g," ");o&&Object.values(o).find(N=>typeof N=="string");let E=null;if(n==="send_file"&&typeof s=="string")try{const N=JSON.parse(s);N!=null&&N.success&&(N!=null&&N.file)&&(E=N.file)}catch{}const b=(N,R)=>N!=null&&N.startsWith("image/")?"":N==="text/markdown"||R!=null&&R.endsWith(".md")?"":"",k=N=>!N||N<=0?"":N<1024?`${N} B`:N<1024*1024?`${(N/1024).toFixed(1)} KB`:`${(N/(1024*1024)).toFixed(1)} MB`;return d.jsxs("div",{className:xe("my-0.5 ml-2 rounded border border-l-2 bg-card overflow-hidden max-w-[400px]",g),style:{borderLeftColor:l?u?"#22c55e":"#ef4444":"#eab308"},children:[d.jsxs("button",{onClick:()=>x(!v),className:"w-full flex items-center px-2 py-1 hover:bg-muted/50 transition-colors",children:[d.jsx("span",{className:p,children:f}),d.jsx(Mb,{className:"ml-1.5 h-3.5 w-3.5"}),d.jsx("span",{className:"ml-0.5 text-sm font-medium",children:e}),d.jsx("span",{className:"flex-1 ml-1.5 text-xs text-muted-foreground truncate text-left",children:S}),v?d.jsx(On,{className:"h-3.5 w-3.5 text-muted-foreground"}):d.jsx(xn,{className:"h-3.5 w-3.5 text-muted-foreground"})]}),n==="send_file"&&E&&d.jsxs("button",{onClick:()=>w==null?void 0:w(E),className:"w-full flex items-center gap-1.5 px-2 py-1 border-t border-border/50 hover:bg-accent/30 transition-colors",children:[d.jsx("span",{className:"text-sm",children:b(E.mimeType,E.filename)}),d.jsx("span",{className:"text-xs truncate flex-1 text-left",children:E.description||E.filename}),E.filename&&E.description&&d.jsx("span",{className:"text-[10px] text-muted-foreground/60 truncate max-w-[80px]",children:E.filename}),d.jsx("span",{className:"text-[10px] text-muted-foreground/60 shrink-0",children:k(E.size)})]}),d.jsx(or,{expanded:v,children:d.jsxs("div",{className:"border-t border-border px-2 py-1",children:[o&&d.jsxs("div",{className:"mb-1",children:[d.jsx("p",{className:"text-[10px] text-muted-foreground/50 mb-0.5",children:"Input:"}),d.jsx("p",{className:"text-xs text-muted-foreground select-text whitespace-pre-wrap break-all",children:JSON.stringify(o,null,2)})]}),l&&s!==void 0&&d.jsxs("div",{className:"bg-muted p-1.5 rounded",children:[d.jsx("p",{className:"text-[10px] text-muted-foreground/50 mb-0.5",children:"Output:"}),d.jsx("p",{className:"text-xs opacity-80 select-text whitespace-pre-wrap break-all",children:typeof s=="string"?s:JSON.stringify(s,null,2)})]})]})})]})}function W2({toolName:e,toolInput:n,toolOutput:o,isComplete:s,success:a,elapsedSeconds:l,childTools:u,onMcpFileClick:f}){const[p,g]=h.useState(!1),[v,x]=h.useState(null),[w,S]=h.useState(new Set),E=h.useRef(0);h.useEffect(()=>{if(e!=="Task"||!u)return;const M=u.length,H=E.current;if(M>H&&H>0){const Q=u.reduce((U,q)=>U.timestamp>q.timestamp?U:q);S(new Set([Q.id]));const F=setTimeout(()=>{S(new Set)},300);return E.current=M,()=>clearTimeout(F)}E.current=M},[e,u]);const b=()=>s?a?{icon:d.jsx(ao,{className:"h-3.5 w-3.5"}),color:"text-green-500",borderColor:"border-green-500/30"}:{icon:d.jsx(Go,{className:"h-3.5 w-3.5"}),color:"text-red-500",borderColor:"border-red-500/30"}:{icon:d.jsx(bh,{className:"h-3.5 w-3.5"}),color:"text-yellow-500",borderColor:"border-yellow-500/30"},{icon:k,color:N,borderColor:R}=b(),{desc:_,cmd:I}=pd(e,n),D=typeof o=="string"?cg(o):o;if(e==="AskUserQuestion"){const M=n==null?void 0:n.questions,H=Array.isArray(M)?M:M&&typeof M=="object"?Object.values(M):[],Q=H.length,F=typeof D=="string"?D.replace(/^User has answered your questions: /,"").replace(/\. You can now continue.*$/,""):"",U={},q=F.matchAll(/"([^"]+)"="([^"]+)"/g);for(const X of q)U[X[1]]=X[2];if(Q<=1){const X=H[0],K=(X==null?void 0:X.question)||"Question",Y=(X==null?void 0:X.header)||(X==null?void 0:X.question)||"Question",ee=U[Y]||(s?F:"");return d.jsx("div",{className:xe("my-0.5 ml-2 rounded border border-l-2 bg-card overflow-hidden max-w-[400px]",R),style:{borderLeftColor:s?a?"#22c55e":"#ef4444":"#eab308"},children:d.jsx("div",{className:"px-2 py-1",children:d.jsxs("div",{className:"flex items-start gap-1.5",children:[d.jsx("span",{className:xe(N,"mt-0.5 shrink-0"),children:k}),d.jsxs("p",{className:"text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:K}),ee&&d.jsxs("span",{className:"ml-1 text-foreground",children:[" ",ee]})]})]})})})}return d.jsx("div",{className:xe("my-0.5 ml-2 rounded border border-l-2 bg-card overflow-hidden max-w-[400px]",R),style:{borderLeftColor:s?a?"#22c55e":"#ef4444":"#eab308"},children:d.jsx("div",{className:"px-2 py-1 space-y-0.5",children:H.map((X,K)=>{const Y=X.question||`Q${K+1}`,ee=X.header||X.question||`Q${K+1}`,T=U[ee];return d.jsxs("div",{className:"flex items-start gap-1.5",children:[K===0&&d.jsx("span",{className:xe(N,"mt-0.5 shrink-0"),children:k}),K!==0&&d.jsx("span",{className:"w-3.5 shrink-0"}),d.jsxs("p",{className:"text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:Y}),T&&d.jsxs("span",{className:"ml-1",children:[" ",T]})]})]},K)})})})}if(e==="TodoWrite"){const M=n==null?void 0:n.todos,H=Array.isArray(M)?M:M&&typeof M=="object"?Object.values(M):[],Q=H.length,F=U=>{switch(U){case"completed":return d.jsx(zb,{className:"h-3.5 w-3.5 text-green-500"});case"in_progress":return d.jsx(WC,{className:"h-3.5 w-3.5 text-yellow-500"});default:return d.jsx(Jg,{className:"h-3.5 w-3.5 text-muted-foreground"})}};return d.jsxs("div",{className:xe("my-0.5 ml-2 rounded border border-l-2 bg-card overflow-hidden max-w-[400px]",R),style:{borderLeftColor:s?a?"#22c55e":"#ef4444":"#eab308"},children:[d.jsxs("button",{onClick:()=>g(!p),className:"w-full flex items-center px-2 py-1 hover:bg-muted/50 transition-colors",children:[d.jsx("span",{className:N,children:k}),d.jsx("span",{className:"ml-1.5 text-sm font-medium",children:"TodoWrite"}),d.jsxs("span",{className:"flex-1 ml-1.5 text-xs text-muted-foreground truncate text-left",children:[Q," items"]}),p?d.jsx(On,{className:"h-3.5 w-3.5 text-muted-foreground"}):d.jsx(xn,{className:"h-3.5 w-3.5 text-muted-foreground"})]}),d.jsx(or,{expanded:p,children:d.jsx("div",{className:"bg-muted p-2 rounded-b",children:H.length>0?H.map((U,q)=>d.jsxs("div",{className:"flex items-start mb-1 last:mb-0",children:[d.jsx("div",{className:"mx-1",children:F(U.status)}),d.jsx("span",{className:xe("flex-1 ml-1 text-xs",U.status==="in_progress"?"opacity-90":"opacity-50",U.status==="completed"&&"line-through"),children:U.status==="in_progress"&&U.activeForm?U.activeForm:U.content||U.subject||JSON.stringify(U)})]},q)):d.jsx("span",{className:"text-xs text-muted-foreground",children:JSON.stringify(n,null,2)})})})]})}const P=Dy(e);if(P.isMcp)return B2(P.serverName,P.toolName,n,D,{isComplete:s,success:a,statusIcon:k,statusColor:N,borderColor:R,isExpanded:p,setIsExpanded:g,onFileClick:f});const L=(M,H,Q,F=!0)=>d.jsxs("div",{className:xe("my-0.5 ml-2 rounded border border-l-2 bg-card overflow-hidden max-w-[400px]",R),style:{borderLeftColor:s?a?"#22c55e":"#ef4444":"#eab308"},children:[d.jsxs("button",{onClick:()=>g(!p),className:"w-full flex items-center px-2 py-1 hover:bg-muted/50 transition-colors",children:[d.jsx("span",{className:N,children:k}),d.jsx("span",{className:"ml-1.5 text-sm font-medium",children:M}),d.jsx("span",{className:"flex-1 ml-1.5 text-xs text-muted-foreground truncate text-left",children:H}),p?d.jsx(On,{className:"h-3.5 w-3.5 text-muted-foreground"}):d.jsx(xn,{className:"h-3.5 w-3.5 text-muted-foreground"})]}),d.jsx(or,{expanded:p,children:d.jsxs("div",{className:"border-t border-border",children:[Q&&d.jsx("p",{className:"px-2 py-1 text-xs text-muted-foreground select-text",children:Q}),F&&s&&D!==void 0&&d.jsx("div",{className:"bg-muted p-2 rounded-b",children:d.jsx("p",{className:"text-xs opacity-80 select-text whitespace-pre-wrap break-all",children:typeof D=="string"?D.length>500?D.substring(0,500)+"...":D:JSON.stringify(D,null,2)})})]})})]});if(e==="Bash"){const M=(n==null?void 0:n.description)||"",H=(n==null?void 0:n.command)||"";return L("Bash",M||H.split(`
`)[0],H)}if(e==="Grep"){const M=(n==null?void 0:n.pattern)||"",H=(n==null?void 0:n.path)||"";return L("Grep",M,H)}if(e==="Glob"){const M=(n==null?void 0:n.pattern)||"",H=(n==null?void 0:n.path)||"";return L("Glob",M,H)}if(e==="Task"){const M=(n==null?void 0:n.description)||"",H=(n==null?void 0:n.prompt)||"",Q=(n==null?void 0:n.subagent_type)||"",F=H.length>300?H.substring(0,300)+"...":H,U=u?[...u].sort((Y,ee)=>ee.timestamp-Y.timestamp):[],q=U.slice(0,3),X=[...U].reverse(),K=(Y,ee=!1)=>{const T=Y.isComplete?Y.success?{icon:d.jsx(ao,{className:"h-3 w-3"}),color:"text-green-500"}:{icon:d.jsx(Go,{className:"h-3 w-3"}),color:"text-red-500"}:{icon:d.jsx(bh,{className:"h-3 w-3"}),color:"text-yellow-500"},V=pd(Y.toolName,Y.toolInput),J=v===Y.id,A=w.has(Y.id),B=typeof Y.toolOutput=="string"?cg(Y.toolOutput):Y.toolOutput;return d.jsxs("div",{className:xe("border-l-2 bg-muted/30 rounded-r overflow-hidden transition-all duration-300",A&&"animate-in slide-in-from-left-2 fade-in",Y.isComplete?Y.success?"border-green-500/50":"border-red-500/50":"border-yellow-500/50"),children:[d.jsxs("button",{onClick:Z=>{Z.stopPropagation(),x(J?null:Y.id)},className:"w-full flex items-center gap-1 px-1.5 py-0.5 hover:bg-muted/50 transition-colors",children:[d.jsx("span",{className:T.color,children:T.icon}),d.jsx("span",{className:"text-xs font-medium",children:Y.toolName}),d.jsx("span",{className:"flex-1 text-xs text-muted-foreground truncate text-left ml-1",children:V.desc}),J?d.jsx(On,{className:"h-3 w-3 text-muted-foreground shrink-0"}):d.jsx(xn,{className:"h-3 w-3 text-muted-foreground shrink-0"})]}),d.jsx(or,{expanded:J,children:d.jsxs("div",{className:"px-1.5 py-1 bg-muted/50 text-xs",children:[V.cmd&&d.jsx("p",{className:"text-muted-foreground/70 mb-1 break-all",children:V.cmd}),Y.isComplete&&B!==void 0&&d.jsx("p",{className:"opacity-70 select-text whitespace-pre-wrap break-all",children:typeof B=="string"?B.length>300?B.substring(0,300)+"...":B:JSON.stringify(B,null,2)})]})})]},Y.id)};return d.jsxs("div",{className:xe("my-0.5 ml-2 rounded border border-l-2 bg-card overflow-hidden max-w-[400px]",R),style:{borderLeftColor:s?a?"#22c55e":"#ef4444":"#eab308"},children:[d.jsxs("button",{onClick:()=>g(!p),className:"w-full flex items-center px-2 py-1 hover:bg-muted/50 transition-colors",children:[d.jsx("span",{className:N,children:k}),d.jsx("span",{className:"ml-1.5 text-sm font-medium",children:"Task"}),d.jsx("span",{className:"flex-1 ml-1.5 text-xs text-muted-foreground truncate text-left",children:M}),p?d.jsx(On,{className:"h-3.5 w-3.5 text-muted-foreground"}):d.jsx(xn,{className:"h-3.5 w-3.5 text-muted-foreground"})]}),!p&&!s&&q.length>0&&d.jsxs("div",{className:"px-2 pb-1.5 space-y-0.5",children:[U.length>3&&d.jsxs("p",{className:"text-xs text-muted-foreground/50 pl-1",children:["+",U.length-3," more..."]}),[...q].reverse().map(Y=>K(Y,!0))]}),d.jsx(or,{expanded:p,children:d.jsxs("div",{className:"border-t border-border",children:[d.jsxs("div",{className:"px-2 py-1",children:[Q&&d.jsxs("p",{className:"text-xs text-muted-foreground/70 mb-0.5",children:["[",Q,"]"]}),d.jsx("p",{className:"text-xs text-muted-foreground select-text whitespace-pre-wrap",children:F})]}),X.length>0&&d.jsxs("div",{className:"px-2 py-1 space-y-0.5 border-t border-border/50",children:[d.jsxs("p",{className:"text-xs text-muted-foreground/50 mb-0.5",children:["  (",X.length,")"]}),X.map(Y=>K(Y))]}),s&&D!==void 0&&d.jsx("div",{className:"bg-muted p-2 rounded-b",children:d.jsx("p",{className:"text-xs opacity-80 select-text whitespace-pre-wrap break-all",children:typeof D=="string"?D.length>500?D.substring(0,500)+"...":D:JSON.stringify(D,null,2)})})]})})]})}if(e==="Read"){const M=(n==null?void 0:n.file_path)||"",H=Gu(M);return L("Read",H,M)}if(e==="Write"){const M=(n==null?void 0:n.file_path)||"",H=(n==null?void 0:n.content)||"",Q=Gu(M);return d.jsxs("div",{className:xe("my-0.5 ml-2 rounded border border-l-2 bg-card overflow-hidden max-w-[400px]",R),style:{borderLeftColor:s?a?"#22c55e":"#ef4444":"#eab308"},children:[d.jsxs("button",{onClick:()=>g(!p),className:"w-full flex items-center px-2 py-1 hover:bg-muted/50 transition-colors",children:[d.jsx("span",{className:N,children:k}),d.jsx("span",{className:"ml-1.5 text-sm font-medium",children:"Write"}),d.jsx("span",{className:"flex-1 ml-1.5 text-xs text-muted-foreground truncate text-left",children:Q}),p?d.jsx(On,{className:"h-3.5 w-3.5 text-muted-foreground"}):d.jsx(xn,{className:"h-3.5 w-3.5 text-muted-foreground"})]}),d.jsx(or,{expanded:p,children:d.jsxs("div",{className:"border-t border-border",children:[d.jsx("p",{className:"px-2 py-1 text-xs text-muted-foreground/50 truncate select-text",children:M}),H&&d.jsx("div",{className:"bg-muted p-2 rounded-b",children:d.jsx("p",{className:"text-xs opacity-80 select-text whitespace-pre-wrap",children:H.length>500?H.substring(0,500)+"...":H})})]})})]})}if(e==="Edit"){const M=(n==null?void 0:n.file_path)||"",H=(n==null?void 0:n.old_string)||"",Q=(n==null?void 0:n.new_string)||"",F=Gu(M);return d.jsxs("div",{className:xe("my-0.5 ml-2 rounded border border-l-2 bg-card overflow-hidden max-w-[400px]",R),style:{borderLeftColor:s?a?"#22c55e":"#ef4444":"#eab308"},children:[d.jsxs("button",{onClick:()=>g(!p),className:"w-full flex items-center px-2 py-1 hover:bg-muted/50 transition-colors",children:[d.jsx("span",{className:N,children:k}),d.jsx("span",{className:"ml-1.5 text-sm font-medium",children:"Edit"}),d.jsx("span",{className:"flex-1 ml-1.5 text-xs text-muted-foreground truncate text-left",children:F}),p?d.jsx(On,{className:"h-3.5 w-3.5 text-muted-foreground"}):d.jsx(xn,{className:"h-3.5 w-3.5 text-muted-foreground"})]}),d.jsx(or,{expanded:p,children:d.jsxs("div",{className:"border-t border-border",children:[d.jsx("p",{className:"px-2 py-1 text-xs text-muted-foreground/50 truncate select-text",children:M}),d.jsx("div",{className:"bg-muted p-2 rounded-b",children:(()=>{const U=U2(H,Q),q=20,X=U.slice(0,q),K=U.length>q;return d.jsxs(d.Fragment,{children:[X.map((Y,ee)=>{const T=Y.type==="remove",V=Y.type==="add",J=T?"-":V?"+":" ";return d.jsxs("div",{className:"flex py-px",children:[d.jsx("span",{className:xe("w-4 text-center text-xs",T?"text-red-500":V?"text-green-500":"opacity-30"),children:J}),d.jsx("span",{className:xe("flex-1 text-xs select-text",T?"text-red-500":V?"text-green-500":"opacity-50"),children:Y.text})]},ee)}),K&&d.jsx("span",{className:"text-xs opacity-40 pl-4",children:`... (+${U.length-q} lines)`})]})})()})]})})]})}return d.jsxs("div",{className:xe("my-0.5 ml-2 rounded border border-l-2 bg-card overflow-hidden max-w-[400px]",R),style:{borderLeftColor:s?a?"#22c55e":"#ef4444":"#eab308"},children:[d.jsxs("button",{onClick:()=>g(!p),className:"w-full flex items-center px-2 py-1 hover:bg-muted/50 transition-colors",children:[d.jsx("span",{className:N,children:k}),d.jsx("span",{className:"ml-1.5 text-sm font-medium",children:e}),d.jsx("span",{className:"flex-1 ml-2 text-xs text-muted-foreground truncate text-left",children:_}),p?d.jsx(On,{className:"h-3.5 w-3.5 text-muted-foreground"}):d.jsx(xn,{className:"h-3.5 w-3.5 text-muted-foreground"})]}),I&&!p&&d.jsx("div",{className:"px-2 pb-1",children:d.jsx("p",{className:"text-xs text-muted-foreground/50 truncate",children:I})}),d.jsx(or,{expanded:p,children:d.jsxs("div",{className:"px-2 pb-2 border-t border-border mt-1 pt-1",children:[I&&d.jsx("p",{className:"text-xs mb-2 select-text",children:I}),n&&d.jsxs("div",{className:"mb-2",children:[d.jsx("p",{className:"text-xs text-muted-foreground/50 mb-0.5",children:"Input:"}),d.jsx("p",{className:"text-xs text-muted-foreground/70 select-text whitespace-pre-wrap",children:JSON.stringify(n,null,2)})]}),s&&D!==void 0&&d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-muted-foreground/50 mb-0.5",children:"Output:"}),d.jsx("p",{className:"text-xs text-muted-foreground/70 select-text whitespace-pre-wrap",children:typeof D=="string"?D.length>500?D.substring(0,500)+"...":D:JSON.stringify(D,null,2)})]})]})})]})}function Ay({message:e,onImagePress:n,childTools:o,onMcpFileClick:s}){const a=e.role==="user"&&e.type==="text",l=e.type==="tool_start",u=e.type==="tool_complete",f=e.type==="error",p=e.type==="user_response";if(l||u){const g=e,v=e.type==="tool_complete"?e.output||e.error:void 0,x=e.type==="tool_complete"?e.success:void 0,w=e.type==="tool_start"?e.elapsedSeconds:void 0,S=g.parentToolUseId;return d.jsx("div",{className:xe(S&&"ml-4"),children:d.jsx(W2,{toolName:g.toolName,toolInput:g.toolInput,toolOutput:v,isComplete:u,success:x,elapsedSeconds:w,childTools:g.toolName==="Task"?o:void 0,onMcpFileClick:s})})}if(f){const g=e;return d.jsx("div",{className:"my-0.5 ml-2 pl-1.5 pr-2 py-1 rounded border-l-2 border-destructive bg-card max-w-[90%]",children:d.jsx("p",{className:"text-sm text-destructive select-text",children:g.content})})}if(p){const g=e,v=g.responseType==="permission",x=v?"":"",w=v?" ":" ";return d.jsxs("div",{className:"my-0.5 ml-2 pl-1.5 pr-2 py-1 rounded border-l-2 border-green-500 bg-card max-w-[90%]",children:[d.jsxs("div",{className:"flex items-center mb-0.5",children:[d.jsx("span",{className:"text-xs text-green-500 mr-1",children:x}),d.jsx("span",{className:"text-xs text-muted-foreground",children:w})]}),d.jsx("p",{className:"text-sm select-text",children:g.response})]})}if(a){const g=e;return d.jsx("div",{className:"my-0.5 ml-2 pl-1.5 pr-2 py-1 rounded border-l-2 border-primary bg-muted max-w-[90%] w-fit",children:d.jsx(V2,{content:g.content,attachments:g.attachments,onImagePress:n})})}if(e.role==="assistant"&&e.type==="text"){const g=e;return d.jsx("div",{className:"my-0.5 ml-2 pl-1.5 pr-2 border-l-2 border-transparent max-w-[90%]",children:d.jsx("p",{className:"text-sm opacity-85 leading-relaxed select-text whitespace-pre-wrap break-words",children:g.content})})}return null}function V2({content:e,attachments:n,onImagePress:o}){const s=n&&n.length>0,a=e.trim().length>0;return d.jsxs("div",{children:[s&&d.jsx("div",{className:"flex flex-wrap gap-1",children:n.map((l,u)=>{const f=l.path||"";return d.jsx(H2,{uri:f,filename:l.filename,thumbnail:l.thumbnail,onPress:()=>o==null?void 0:o(f)},u)})}),s&&a&&d.jsx("div",{className:"h-1"}),a&&d.jsx("p",{className:"text-sm select-text whitespace-pre-wrap break-words",children:e})]})}function H2({uri:e,filename:n,thumbnail:o,onPress:s}){return o&&o.length>0?d.jsx("button",{onClick:s,className:"focus:outline-none",children:d.jsx("img",{src:o,alt:n||"attachment",className:"w-16 h-16 rounded-lg object-cover"})}):d.jsxs("div",{className:"w-16 h-16 rounded-lg bg-muted flex flex-col items-center justify-center border border-border cursor-pointer",onClick:s,children:[d.jsx("span",{className:"text-2xl",children:""}),n&&d.jsx("span",{className:"mt-0.5 text-xs text-muted-foreground truncate max-w-full px-1",children:n.length>10?n.slice(0,8)+"...":n})]})}function K2({text:e}){return d.jsx("div",{className:"my-0.5 ml-2 pl-1.5 pr-2 border-l-2 border-transparent max-w-[90%]",children:d.jsxs("p",{className:"text-sm opacity-85 leading-relaxed select-text whitespace-pre-wrap",children:[e,d.jsx("span",{className:"text-primary animate-pulse",children:""})]})})}function G2({blobId:e,message:n}){const{uploads:o,getProgress:s}=ol(),a=o[e],l=s(e),{attachedImages:u}=jd(),f=u.find(w=>w.id===e);if(!a)return null;const p=a.status==="completed",g=a.status==="failed",v=a.status==="uploading",x=g?"border-destructive":p?"border-green-500":"border-primary";return d.jsx("div",{className:"my-1 max-w-[90%]",children:d.jsxs("div",{className:xe("px-3 py-2 rounded border-l-2 bg-card shadow-sm",x),children:[d.jsxs("div",{className:"flex items-start",children:[d.jsx(q2,{uri:f==null?void 0:f.uri,filename:a.filename}),d.jsxs("div",{className:"flex-1 ml-3 min-w-0",children:[d.jsx("p",{className:"text-sm truncate",children:a.filename}),d.jsxs("div",{className:"mt-1",children:[g&&d.jsx("p",{className:"text-xs text-destructive",children:" "}),p&&d.jsx("p",{className:"text-xs text-green-500",children:" "}),v&&d.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ... ",l,"%"]})]})]})]}),v&&d.jsx("div",{className:"mt-2",children:d.jsx("div",{className:"h-1 bg-muted rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${l}%`}})})}),n&&n.trim().length>0&&d.jsx("p",{className:"text-sm mt-2 leading-5",children:n})]})})}function q2({uri:e,filename:n}){const o=rr.get(n);if(e)return d.jsx("img",{src:e,alt:n,className:"w-16 h-16 rounded object-cover"});if(o){const s=btoa(Array.from(o).map(l=>String.fromCharCode(l)).join("")),a=Y2(n);return d.jsx("img",{src:`data:${a};base64,${s}`,alt:n,className:"w-16 h-16 rounded object-cover"})}return d.jsx("div",{className:"w-16 h-16 rounded bg-muted flex items-center justify-center border border-border",children:d.jsx("span",{className:"text-xl",children:""})})}function Y2(e){var o;switch((o=e.split(".").pop())==null?void 0:o.toLowerCase()){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";case"webp":return"image/webp";default:return"image/jpeg"}}function Py({durationMs:e,inputTokens:n,outputTokens:o}){const s=f=>{if(f<1e3)return`${f}ms`;const p=f/1e3;if(p>=60){const g=Math.floor(p/60),v=Math.floor(p%60);return`${g}m ${v}s`}return`${p.toFixed(1)}s`},a=f=>f>=1e3?`${(f/1e3).toFixed(1)}k`:f.toString(),l=n!==void 0&&n>0||o!==void 0&&o>0;return e!==void 0||l?d.jsxs("div",{className:"my-0.5 mx-2 px-2 py-1 bg-muted rounded-xl flex items-center self-start",children:[e!==void 0&&d.jsx("span",{className:"text-xs text-muted-foreground/70",children:s(e)}),e!==void 0&&l&&d.jsx("span",{className:"mx-2 text-xs text-muted-foreground/40",children:"|"}),n!==void 0&&n>0&&d.jsxs("span",{className:"text-xs text-muted-foreground/60",children:[a(n),""]}),n!==void 0&&n>0&&o!==void 0&&o>0&&d.jsx("span",{className:"w-1"}),o!==void 0&&o>0&&d.jsxs("span",{className:"text-xs text-muted-foreground/60",children:[a(o),""]})]}):null}function X2({message:e,color:n="default"}){const o=n==="error";return d.jsxs("div",{className:"my-4 flex items-center",children:[d.jsx("div",{className:xe("flex-1 h-px opacity-50",o?"bg-destructive":"bg-border")}),d.jsx("span",{className:xe("mx-3 text-xs",o?"text-destructive":"text-muted-foreground"),children:e}),d.jsx("div",{className:xe("flex-1 h-px opacity-50",o?"bg-destructive":"bg-border")})]})}function Oy({reason:e}){return d.jsx(X2,{message:V1(e),color:"error"})}const Q2={image:"",markdown:"",text:""};function Ly({file:e,onDownload:n,onOpen:o}){const s=Y1(v=>v.getStatus(e.filename)),a=s==="downloading",l=s==="downloaded",u=s==="failed",f=Q2[e.fileType]??"",p=e.description||e.filename,g=()=>{l?o==null||o():a||n==null||n()};return d.jsxs("button",{onClick:g,className:"my-0.5 ml-2 pl-1.5 pr-2 py-1 rounded border-l-2 border-blue-500 bg-card flex items-center gap-1.5 max-w-[400px] text-left hover:bg-accent/30 transition-colors",children:[d.jsx("span",{className:"text-sm shrink-0",children:f}),d.jsx("span",{className:"text-sm truncate",children:p}),d.jsxs("span",{className:"ml-auto shrink-0",children:[a&&d.jsx(Wt,{className:"h-3.5 w-3.5 animate-spin text-primary"}),l&&d.jsx(ao,{className:"h-3.5 w-3.5 text-green-500"}),u&&d.jsx(Xg,{className:"h-3.5 w-3.5 text-destructive"}),!a&&!l&&!u&&d.jsx(JC,{className:"h-3.5 w-3.5 text-muted-foreground"})]})]})}function J2({startTime:e}={}){const n=hi(),o=(n==null?void 0:n.workStartTime)??null,s=(n==null?void 0:n.realtimeUsage)??null,a=e??o,[l,u]=h.useState(0);h.useEffect(()=>{if(!a)return;const x=setInterval(()=>{u(Math.floor((Date.now()-a)/1e3))},1e3);return()=>clearInterval(x)},[a]);const f=x=>x>=1e3?`${(x/1e3).toFixed(1)}k`:x.toString(),p=x=>{if(x>=60){const w=Math.floor(x/60),S=x%60;return`${w}m ${S}s`}return`${x}s`},v=(()=>{if(!s)return null;const{lastUpdateType:x,inputTokens:w,outputTokens:S}=s;return x==="output"&&S>0?`${f(S)}`:w>0?`${f(w)}`:null})();return d.jsx("div",{className:"px-2 py-1 flex items-center justify-start",children:d.jsxs("div",{className:"px-3 py-1 bg-muted rounded-full flex items-center",children:[d.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500 animate-pulse"}),d.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:p(l)}),v&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"ml-2 text-xs text-muted-foreground/40",children:"|"}),d.jsx("span",{className:"ml-2 text-xs text-muted-foreground/60",children:v})]})]})})}function Z2({data:e,filename:n}){const[o,s]=h.useState(!1),a=e.startsWith("data:")||e.startsWith("file:")||e.startsWith("http")?e:`data:image/png;base64,${e}`;return o?d.jsxs("div",{className:"flex-1 bg-card flex flex-col items-center justify-center",children:[d.jsx("span",{className:"text-4xl mb-3",children:""}),d.jsx("p",{className:"text-muted-foreground",children:"   "}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n})]}):d.jsx("div",{className:"flex-1 bg-card overflow-auto flex items-center justify-center p-4",children:d.jsx("img",{src:a,alt:n,className:"max-w-full max-h-full object-contain",onError:()=>s(!0)})})}function e_({content:e,filename:n}){return d.jsx("div",{className:"flex-1 bg-card overflow-auto",children:d.jsx("div",{className:"p-4",children:d.jsx("pre",{className:"font-mono text-sm leading-6 opacity-80 whitespace-pre-wrap select-text",children:e})})})}function t_({content:e,filename:n}){const o=h.useMemo(()=>n_(e),[e]);return d.jsx("div",{className:"flex-1 bg-card overflow-auto",children:d.jsx("div",{className:"p-4",children:o.map((s,a)=>d.jsx(r_,{element:s},a))})})}function n_(e){const n=e.split(`
`),o=[];let s=!1,a="",l="";for(let u=0;u<n.length;u++){const f=n[u];if(f.startsWith("```")){s?(o.push({type:"code_block",content:a.trim(),language:l}),a="",l="",s=!1):(s=!0,l=f.slice(3).trim());continue}if(s){a+=f+`
`;continue}if(!f.trim()){o.push({type:"empty",content:""});continue}if(/^(-{3,}|\*{3,}|_{3,})$/.test(f.trim())){o.push({type:"hr",content:""});continue}const p=f.match(/^####\s+(.+)/);if(p){o.push({type:"h4",content:p[1]});continue}const g=f.match(/^###\s+(.+)/);if(g){o.push({type:"h3",content:g[1]});continue}const v=f.match(/^##\s+(.+)/);if(v){o.push({type:"h2",content:v[1]});continue}const x=f.match(/^#\s+(.+)/);if(x){o.push({type:"h1",content:x[1]});continue}const w=f.match(/^>\s*(.+)/);if(w){o.push({type:"blockquote",content:w[1]});continue}const S=f.match(/^[-*]\s+(.+)/);if(S){o.push({type:"list_item",content:S[1]});continue}const E=f.match(/^\d+\.\s+(.+)/);if(E){o.push({type:"ordered_list_item",content:E[1]});continue}o.push({type:"paragraph",content:f})}return o}function r_({element:e}){switch(e.type){case"h1":return d.jsx("h1",{className:"text-2xl font-bold mt-4 mb-2",children:Or(e.content)});case"h2":return d.jsx("h2",{className:"text-xl font-semibold mt-3 mb-2",children:Or(e.content)});case"h3":return d.jsx("h3",{className:"text-lg font-semibold mt-3 mb-1",children:Or(e.content)});case"h4":return d.jsx("h4",{className:"text-base font-medium mt-2 mb-1",children:Or(e.content)});case"paragraph":return d.jsx("p",{className:"leading-6 mb-2 opacity-80 select-text",children:Or(e.content)});case"code_block":return d.jsxs("div",{className:"bg-muted p-3 rounded-lg my-2 border border-border",children:[e.language&&d.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:e.language}),d.jsx("pre",{className:"font-mono text-sm select-text whitespace-pre-wrap",children:e.content})]});case"blockquote":return d.jsx("div",{className:"border-l-2 border-primary pl-3 my-2",children:d.jsx("p",{className:"italic opacity-80 select-text",children:Or(e.content)})});case"list_item":return d.jsxs("div",{className:"flex ml-2 mb-1",children:[d.jsx("span",{className:"text-primary mr-2",children:""}),d.jsx("p",{className:"flex-1 opacity-80 select-text",children:Or(e.content)})]});case"ordered_list_item":return d.jsxs("div",{className:"flex ml-2 mb-1",children:[d.jsx("span",{className:"text-primary mr-2",children:"-"}),d.jsx("p",{className:"flex-1 opacity-80 select-text",children:Or(e.content)})]});case"hr":return d.jsx("hr",{className:"my-4 border-border"});case"empty":return d.jsx("div",{className:"h-2"});default:return null}}function Or(e){const n=[];let o=e,s=0;for(;o.includes("**");){const f=o.indexOf("**"),p=o.indexOf("**",f+2);if(p===-1)break;f>0&&n.push(o.slice(0,f)),n.push(d.jsx("strong",{children:o.slice(f+2,p)},s++)),o=o.slice(p+2)}let a=o;const l=[];for(;a.includes("*");){const f=a.indexOf("*"),p=a.indexOf("*",f+1);if(p===-1)break;f>0&&l.push(a.slice(0,f)),l.push(d.jsx("em",{children:a.slice(f+1,p)},s++)),a=a.slice(p+1)}l.length>0?(l.push(a),n.push(...l)):o&&n.push(o);const u=[];for(const f of n)if(typeof f=="string"&&f.includes("`")){let p=f;for(;p.includes("`");){const g=p.indexOf("`"),v=p.indexOf("`",g+1);if(v===-1){u.push(p),p="";break}g>0&&u.push(p.slice(0,g)),u.push(d.jsx("code",{className:"bg-muted px-1 rounded text-primary font-mono",children:p.slice(g+1,v)},s++)),p=p.slice(v+1)}p&&u.push(p)}else u.push(f);return u.length>0?u:e}const o_=e=>e<=0?"":e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`,ug={image:"",markdown:""};function Fy({open:e,onClose:n,file:o,content:s}){var g;const a=((g=o.mimeType)==null?void 0:g.startsWith("image/"))||/\.(png|jpg|jpeg|gif|webp|bmp)$/i.test(o.filename),l=o.mimeType==="text/markdown"||/\.(md|markdown)$/i.test(o.filename),u=a?ug.image:l?ug.markdown:"",f=o_(o.size),p=()=>s===null?d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center py-12",children:[d.jsx(Wt,{className:"h-8 w-8 animate-spin text-primary"}),d.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:" ..."})]}):a?d.jsx(Z2,{data:s,filename:o.filename}):l?d.jsx(t_,{content:s,filename:o.filename}):d.jsx(e_,{content:s,filename:o.filename});return d.jsx(Un,{open:e,onOpenChange:v=>!v&&n(),children:d.jsxs(wn,{className:"max-w-[90vw] max-h-[85vh] w-full flex flex-col",children:[d.jsx(Sn,{className:"pr-8",children:d.jsxs(Cn,{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-2xl shrink-0",children:u}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"text-sm font-medium truncate",children:o.filename}),d.jsxs("div",{className:"flex items-center gap-1.5",children:[o.description&&d.jsx("span",{className:"text-xs text-muted-foreground truncate",children:o.description}),o.description&&f&&d.jsx("span",{className:"text-[10px] text-muted-foreground/40",children:""}),f&&d.jsx("span",{className:"text-[10px] text-muted-foreground/60 shrink-0",children:f})]})]})]})}),d.jsx("div",{className:"flex-1 min-h-[300px] border-t border-border overflow-auto",children:p()})]})})}function s_({isLoadingHistory:e=!1,hasMoreHistory:n=!1,onLoadMoreHistory:o}){const s=hi(),a=(s==null?void 0:s.messages)??[],l=(s==null?void 0:s.textBuffer)??"",u=(s==null?void 0:s.workStartTime)??null,f=(s==null?void 0:s.status)??"idle",{uploads:p}=ol(),{selectedConversation:g}=st(),v=h.useRef(null),[x,w]=h.useState(!1),[S,E]=h.useState(null),b=Object.values(p).filter(F=>F.status==="uploading"),{childToolsMap:k,parentToolIds:N}=h.useMemo(()=>{const F=new Map,U=new Set;return a.forEach(q=>{if(q.type==="tool_start"||q.type==="tool_complete"){const X=q,K=X.parentToolUseId;if(K){U.add(q.id);const Y={id:q.id,toolName:X.toolName,toolInput:X.toolInput,toolOutput:q.type==="tool_complete"?q.output||q.error:void 0,isComplete:q.type==="tool_complete",success:q.type==="tool_complete"?q.success:void 0,timestamp:q.timestamp},ee=F.get(K)||[],T=ee.findIndex(V=>V.id===Y.id);T>=0?ee[T]=Y:ee.push(Y),F.set(K,ee)}}}),{childToolsMap:F,parentToolIds:U}},[a]),R=h.useCallback(F=>{const{filename:U,path:q}=F,X=g==null?void 0:g.pylonId,K=g==null?void 0:g.conversationId;if(!X||!K)return;const Y=Pt.getCachedImage(U);if(Y){_(U,Y,F);return}E({filename:U,size:0,mimeType:F.thumbnail?"image/":void 0,description:F.description,content:null});const ee=Pt.onDownloadComplete(T=>{T.filename===U&&(ee(),_(U,T.bytes,F))});Pt.requestFile({targetDeviceId:X,conversationId:K,filename:U,filePath:q})},[g]),_=h.useCallback((F,U,q)=>{var T;const X=((T=F.split(".").pop())==null?void 0:T.toLowerCase())||"",K=/^(png|jpg|jpeg|gif|webp|bmp|svg)$/.test(X),Y=/^(txt|md|markdown|json|js|ts|tsx|jsx|css|html|xml|yaml|yml|toml|ini|cfg|log|csv|sh|bat|ps1|py|rb|go|rs|java|c|cpp|h|hpp)$/.test(X);let ee;if(K){const J={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",svg:"image/svg+xml"}[X]||"image/png";let A="";for(let B=0;B<U.length;B++)A+=String.fromCharCode(U[B]);ee=`data:${J};base64,${btoa(A)}`}else Y?ee=new TextDecoder("utf-8").decode(U):ee=`  (${U.length} bytes)`;E({filename:F,size:U.length,mimeType:q.thumbnail?"image/"+X:void 0,description:q.description,content:ee})},[]),I=h.useCallback(F=>{const U=g==null?void 0:g.pylonId,q=g==null?void 0:g.conversationId;if(!U||!q)return;const{filename:X,path:K,mimeType:Y,size:ee,description:T}=F,V=Pt.getCachedImage(X);if(V){_(X,V,{filename:X,path:K,description:T??void 0});return}E({filename:X,size:ee,mimeType:Y,description:T??void 0,content:null});const J=Pt.onDownloadComplete(A=>{A.filename===X&&(J(),_(X,A.bytes,{filename:X,path:K,description:T??void 0}))});console.log("[MCP File Click] Requesting file download:",{pylonId:U,conversationId:q,filename:X,filePath:K}),Pt.requestFile({targetDeviceId:U,conversationId:q,filename:X,filePath:K})},[g,_]),P=h.useCallback(()=>{const F=[];return u&&F.push({type:"working",data:u,key:"working-indicator"}),l&&F.push({type:"streaming",data:l,key:"streaming-bubble"}),b.forEach(q=>{F.push({type:"uploading",data:q,key:`upload-${q.blobId}`})}),[...a].reverse().forEach((q,X)=>{N.has(q.id)||F.push({type:"message",data:q,key:q.id||`msg-${X}`})}),(e||n)&&F.push({type:"loading",data:e,key:"loading-indicator"}),F},[a,l,u,b,e,n,N])(),L=h.useCallback(()=>{const F=v.current;if(!F)return;const{scrollTop:U,scrollHeight:q,clientHeight:X}=F;q+U-X<100&&n&&!e&&(o==null||o()),w(U<-200)},[n,e,o]),M=h.useCallback(()=>{var F;(F=v.current)==null||F.scrollTo({top:0,behavior:"smooth"})},[]);h.useEffect(()=>{!x&&a.length>0&&setTimeout(()=>{var F;(F=v.current)==null||F.scrollTo({top:0,behavior:"smooth"})},100)},[a.length,l,x]);const H=F=>{switch(F.type){case"working":return d.jsx("div",{className:"mb-1",children:d.jsx(J2,{startTime:F.data})},F.key);case"streaming":return d.jsx("div",{className:"mb-1",children:d.jsx(K2,{text:F.data})},F.key);case"uploading":const U=F.data;return d.jsx("div",{className:"mb-1",children:d.jsx(G2,{blobId:U.blobId})},F.key);case"message":const q=F.data;return d.jsx("div",{className:"mb-1",children:Q(q)},F.key);case"loading":const X=F.data;return d.jsx("div",{className:"py-3 flex justify-center",children:X?d.jsx(Wt,{className:"h-4 w-4 animate-spin text-muted-foreground"}):d.jsx("span",{className:"text-xs text-muted-foreground",children:"   "})},F.key);default:return null}},Q=F=>{switch(F.type){case"result":{const U=F;return d.jsx(Py,{durationMs:U.resultInfo.durationMs,inputTokens:U.resultInfo.inputTokens,outputTokens:U.resultInfo.outputTokens,cacheReadTokens:U.resultInfo.cacheReadTokens})}case"aborted":{const U=F;return d.jsx(Oy,{reason:U.reason})}case"file_attachment":{const U=F,q={filename:U.file.filename,path:U.file.path,description:U.file.description};return d.jsx(Ly,{file:U.file,onDownload:()=>R(q),onOpen:()=>R(q)})}default:{const U=F.type==="tool_start"||F.type==="tool_complete"?k.get(F.id):void 0,q=F;return d.jsx(Ay,{message:F,childTools:U,onImagePress:X=>{var Y;const K=(Y=q.attachments)==null?void 0:Y.find(ee=>ee.path===X);K&&R(K)},onMcpFileClick:I})}}};return P.length===0?f==="working"?d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-background",children:[d.jsx(Wt,{className:"h-8 w-8 animate-spin text-primary"}),d.jsx("span",{className:"mt-4 text-muted-foreground",children:"  ..."})]}):e?d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-background",children:[d.jsx(Wt,{className:"h-8 w-8 animate-spin text-primary"}),d.jsx("span",{className:"mt-4 text-muted-foreground",children:"   ..."})]}):d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center bg-background",children:[d.jsx("span",{className:"text-lg text-muted-foreground",children:" ."}),d.jsx("span",{className:"mt-2 text-sm text-muted-foreground",children:"     ."})]}):d.jsxs("div",{className:"flex-1 relative bg-background overflow-hidden",children:[d.jsx("div",{ref:v,className:"h-full overflow-y-auto flex flex-col-reverse p-4",onScroll:L,children:P.map(H)}),x&&d.jsx(Te,{variant:"secondary",size:"icon",onClick:M,className:"absolute right-4 bottom-4 rounded-full shadow-lg",children:d.jsx(On,{className:"h-5 w-5"})}),S&&d.jsx(Fy,{open:!0,onClose:()=>E(null),file:S,content:S.content})]})}function i_({request:e,onAllow:n,onDeny:o}){const{desc:s,cmd:a}=pd(e.toolName,e.toolInput);return d.jsx("div",{className:"py-2 bg-yellow-500/10",children:d.jsxs("div",{className:"my-0.5 ml-5 rounded border border-l-2 border-yellow-500 bg-card overflow-hidden max-w-[400px]",children:[d.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1",children:[d.jsx("span",{className:"text-xs font-medium text-yellow-600 dark:text-yellow-400",children:" "}),d.jsx("span",{className:"font-medium",children:e.toolName}),d.jsx("span",{className:"flex-1 text-xs text-muted-foreground truncate text-left",children:s})]}),a&&d.jsx("p",{className:"px-2 pb-2 text-xs text-muted-foreground select-text break-all",children:a}),d.jsxs("div",{className:"flex gap-2 px-2 py-2",children:[d.jsx(Te,{onClick:n,size:"sm",tabIndex:-1,className:"flex-1 bg-green-500 hover:bg-green-600 text-white",children:""}),d.jsx(Te,{variant:"outline",size:"sm",onClick:o,tabIndex:-1,className:"flex-1 text-destructive border-destructive hover:bg-destructive hover:text-destructive-foreground",children:""})]})]})})}function a_({request:e,onAnswer:n}){const{questions:o}=e,[s,a]=h.useState(0),[l,u]=h.useState({}),[f,p]=h.useState({}),[g,v]=h.useState(""),x=o[s],w=(x==null?void 0:x.multiSelect)===!0,S=l[s]||[],E=f[s],b=o.every((D,P)=>{const L=l[P]||[],M=f[P];return L.length>0||!!M}),k=()=>{const D=o.findIndex((P,L)=>{if(L<=s)return!1;const M=l[L]||[],H=f[L];return M.length===0&&!H});D!==-1&&a(D)},N=D=>{w?u(P=>{const L=P[s]||[];return L.indexOf(D)===-1?{...P,[s]:[...L,D]}:{...P,[s]:L.filter(H=>H!==D)}}):(u(P=>({...P,[s]:[D]})),p(P=>({...P,[s]:""})),k())},R=()=>{const D=g.trim();D&&(p(P=>({...P,[s]:D})),w||(u(P=>({...P,[s]:[]})),k()),v(""))},_=()=>{p(D=>({...D,[s]:""}))},I=()=>{if(!b)return;const D=o.map((P,L)=>{const M=l[L]||[],H=f[L],F=(H?[...M,H]:M).join(", ");return`"${P.header||P.question}"="${F}"`}).join(", ");n==null||n(D)};return d.jsxs("div",{className:"p-3 bg-blue-500/10",children:[d.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[o.map((D,P)=>{const L=s===P,M=l[P]||[],H=f[P],Q=M.length>0||!!H;return d.jsxs("button",{onClick:()=>a(P),className:xe("px-3 py-1 text-sm rounded-t border-b-2 transition-colors flex items-center gap-1",L?"border-blue-500 text-blue-600 dark:text-blue-400 bg-background":"border-transparent hover:bg-muted/50",Q&&!L&&"text-green-600 dark:text-green-400"),children:[Q&&d.jsx(ao,{className:"h-3 w-3"}),D.header||`Q${P+1}`]},P)}),d.jsx("div",{className:"flex-1"}),d.jsxs(Te,{size:"sm",onClick:I,disabled:!b,className:"shrink-0",children:[d.jsx(Qg,{className:"h-4 w-4 mr-1"}),""]})]}),x&&d.jsxs("div",{className:"space-y-3",children:[d.jsxs("p",{className:"text-sm",children:[x.question,w&&d.jsx("span",{className:"ml-1 text-xs text-muted-foreground",children:"( )"})]}),x.options.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2",children:x.options.map((D,P)=>{const L=S.includes(D);return d.jsxs("button",{onClick:()=>N(D),className:xe("px-3 py-1.5 text-sm rounded-full border transition-colors flex items-center gap-1",L?"border-blue-500 bg-blue-500/20 text-blue-600 dark:text-blue-400":"border-border hover:bg-muted"),children:[L&&d.jsx(ao,{className:"h-3 w-3"}),D]},P)})}),E&&d.jsx("div",{className:"flex flex-wrap gap-2",children:d.jsxs("button",{onClick:_,className:"px-3 py-1.5 text-sm rounded-full border border-blue-500 bg-blue-500/20 text-blue-600 dark:text-blue-400 flex items-center gap-1",children:[E,d.jsx(Go,{className:"h-3 w-3"})]})}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(wi,{placeholder:" ...",value:g,onChange:D=>v(D.target.value),onKeyDown:D=>{D.key==="Enter"&&R()},className:"flex-1"}),g.trim()&&d.jsx(Te,{variant:"ghost",onClick:R,children:""})]})]})]})}function l_(){const{selectedConversation:e}=st(),n=e==null?void 0:e.conversationId,o=hi(),s=(o==null?void 0:o.pendingRequests)??[];if(s.length===0)return null;const a=s[0],l=()=>{n&&(wh(n,a.toolUseId,"allow"),Ye.getState().removePendingRequest(n,a.toolUseId))},u=()=>{n&&(wh(n,a.toolUseId,"deny"),Ye.getState().removePendingRequest(n,a.toolUseId))},f=p=>{n&&(gC(n,a.toolUseId,p),Ye.getState().removePendingRequest(n,a.toolUseId))};return d.jsx("div",{className:"border-t border-border",children:a.type==="permission"?d.jsx(i_,{request:a,onAllow:l,onDeny:u}):d.jsx(a_,{request:a,onAnswer:f})})}function zy(e){const n=e+"CollectionProvider",[o,s]=ns(n),[a,l]=o(n,{collectionRef:{current:null},itemMap:new Map}),u=b=>{const{scope:k,children:N}=b,R=De.useRef(null),_=De.useRef(new Map).current;return d.jsx(a,{scope:k,itemMap:_,collectionRef:R,children:N})};u.displayName=n;const f=e+"CollectionSlot",p=si(f),g=De.forwardRef((b,k)=>{const{scope:N,children:R}=b,_=l(f,N),I=ft(k,_.collectionRef);return d.jsx(p,{ref:I,children:R})});g.displayName=f;const v=e+"CollectionItemSlot",x="data-radix-collection-item",w=si(v),S=De.forwardRef((b,k)=>{const{scope:N,children:R,..._}=b,I=De.useRef(null),D=ft(k,I),P=l(v,N);return De.useEffect(()=>(P.itemMap.set(I,{ref:I,..._}),()=>void P.itemMap.delete(I))),d.jsx(w,{[x]:"",ref:D,children:R})});S.displayName=v;function E(b){const k=l(e+"CollectionConsumer",b);return De.useCallback(()=>{const R=k.collectionRef.current;if(!R)return[];const _=Array.from(R.querySelectorAll(`[${x}]`));return Array.from(k.itemMap.values()).sort((P,L)=>_.indexOf(P.ref.current)-_.indexOf(L.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:u,Slot:g,ItemSlot:S},E,s]}var c_=h.createContext(void 0);function $y(e){const n=h.useContext(c_);return e||n||"ltr"}const u_=["top","right","bottom","left"],Ur=Math.min,Bt=Math.max,xl=Math.round,Ya=Math.floor,zn=e=>({x:e,y:e}),d_={left:"right",right:"left",bottom:"top",top:"bottom"},f_={start:"end",end:"start"};function md(e,n,o){return Bt(e,Ur(n,o))}function lr(e,n){return typeof e=="function"?e(n):e}function cr(e){return e.split("-")[0]}function is(e){return e.split("-")[1]}function Qd(e){return e==="x"?"y":"x"}function Jd(e){return e==="y"?"height":"width"}const p_=new Set(["top","bottom"]);function Fn(e){return p_.has(cr(e))?"y":"x"}function Zd(e){return Qd(Fn(e))}function m_(e,n,o){o===void 0&&(o=!1);const s=is(e),a=Zd(e),l=Jd(a);let u=a==="x"?s===(o?"end":"start")?"right":"left":s==="start"?"bottom":"top";return n.reference[l]>n.floating[l]&&(u=wl(u)),[u,wl(u)]}function h_(e){const n=wl(e);return[hd(e),n,hd(n)]}function hd(e){return e.replace(/start|end/g,n=>f_[n])}const dg=["left","right"],fg=["right","left"],g_=["top","bottom"],v_=["bottom","top"];function y_(e,n,o){switch(e){case"top":case"bottom":return o?n?fg:dg:n?dg:fg;case"left":case"right":return n?g_:v_;default:return[]}}function x_(e,n,o,s){const a=is(e);let l=y_(cr(e),o==="start",s);return a&&(l=l.map(u=>u+"-"+a),n&&(l=l.concat(l.map(hd)))),l}function wl(e){return e.replace(/left|right|bottom|top/g,n=>d_[n])}function w_(e){return{top:0,right:0,bottom:0,left:0,...e}}function Uy(e){return typeof e!="number"?w_(e):{top:e,right:e,bottom:e,left:e}}function Sl(e){const{x:n,y:o,width:s,height:a}=e;return{width:s,height:a,top:o,left:n,right:n+s,bottom:o+a,x:n,y:o}}function pg(e,n,o){let{reference:s,floating:a}=e;const l=Fn(n),u=Zd(n),f=Jd(u),p=cr(n),g=l==="y",v=s.x+s.width/2-a.width/2,x=s.y+s.height/2-a.height/2,w=s[f]/2-a[f]/2;let S;switch(p){case"top":S={x:v,y:s.y-a.height};break;case"bottom":S={x:v,y:s.y+s.height};break;case"right":S={x:s.x+s.width,y:x};break;case"left":S={x:s.x-a.width,y:x};break;default:S={x:s.x,y:s.y}}switch(is(n)){case"start":S[u]-=w*(o&&g?-1:1);break;case"end":S[u]+=w*(o&&g?-1:1);break}return S}async function S_(e,n){var o;n===void 0&&(n={});const{x:s,y:a,platform:l,rects:u,elements:f,strategy:p}=e,{boundary:g="clippingAncestors",rootBoundary:v="viewport",elementContext:x="floating",altBoundary:w=!1,padding:S=0}=lr(n,e),E=Uy(S),k=f[w?x==="floating"?"reference":"floating":x],N=Sl(await l.getClippingRect({element:(o=await(l.isElement==null?void 0:l.isElement(k)))==null||o?k:k.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:g,rootBoundary:v,strategy:p})),R=x==="floating"?{x:s,y:a,width:u.floating.width,height:u.floating.height}:u.reference,_=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),I=await(l.isElement==null?void 0:l.isElement(_))?await(l.getScale==null?void 0:l.getScale(_))||{x:1,y:1}:{x:1,y:1},D=Sl(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:R,offsetParent:_,strategy:p}):R);return{top:(N.top-D.top+E.top)/I.y,bottom:(D.bottom-N.bottom+E.bottom)/I.y,left:(N.left-D.left+E.left)/I.x,right:(D.right-N.right+E.right)/I.x}}const C_=async(e,n,o)=>{const{placement:s="bottom",strategy:a="absolute",middleware:l=[],platform:u}=o,f=l.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(n));let g=await u.getElementRects({reference:e,floating:n,strategy:a}),{x:v,y:x}=pg(g,s,p),w=s,S={},E=0;for(let k=0;k<f.length;k++){var b;const{name:N,fn:R}=f[k],{x:_,y:I,data:D,reset:P}=await R({x:v,y:x,initialPlacement:s,placement:w,strategy:a,middlewareData:S,rects:g,platform:{...u,detectOverflow:(b=u.detectOverflow)!=null?b:S_},elements:{reference:e,floating:n}});v=_??v,x=I??x,S={...S,[N]:{...S[N],...D}},P&&E<=50&&(E++,typeof P=="object"&&(P.placement&&(w=P.placement),P.rects&&(g=P.rects===!0?await u.getElementRects({reference:e,floating:n,strategy:a}):P.rects),{x:v,y:x}=pg(g,w,p)),k=-1)}return{x:v,y:x,placement:w,strategy:a,middlewareData:S}},b_=e=>({name:"arrow",options:e,async fn(n){const{x:o,y:s,placement:a,rects:l,platform:u,elements:f,middlewareData:p}=n,{element:g,padding:v=0}=lr(e,n)||{};if(g==null)return{};const x=Uy(v),w={x:o,y:s},S=Zd(a),E=Jd(S),b=await u.getDimensions(g),k=S==="y",N=k?"top":"left",R=k?"bottom":"right",_=k?"clientHeight":"clientWidth",I=l.reference[E]+l.reference[S]-w[S]-l.floating[E],D=w[S]-l.reference[S],P=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let L=P?P[_]:0;(!L||!await(u.isElement==null?void 0:u.isElement(P)))&&(L=f.floating[_]||l.floating[E]);const M=I/2-D/2,H=L/2-b[E]/2-1,Q=Ur(x[N],H),F=Ur(x[R],H),U=Q,q=L-b[E]-F,X=L/2-b[E]/2+M,K=md(U,X,q),Y=!p.arrow&&is(a)!=null&&X!==K&&l.reference[E]/2-(X<U?Q:F)-b[E]/2<0,ee=Y?X<U?X-U:X-q:0;return{[S]:w[S]+ee,data:{[S]:K,centerOffset:X-K-ee,...Y&&{alignmentOffset:ee}},reset:Y}}}),k_=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var o,s;const{placement:a,middlewareData:l,rects:u,initialPlacement:f,platform:p,elements:g}=n,{mainAxis:v=!0,crossAxis:x=!0,fallbackPlacements:w,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:b=!0,...k}=lr(e,n);if((o=l.arrow)!=null&&o.alignmentOffset)return{};const N=cr(a),R=Fn(f),_=cr(f)===f,I=await(p.isRTL==null?void 0:p.isRTL(g.floating)),D=w||(_||!b?[wl(f)]:h_(f)),P=E!=="none";!w&&P&&D.push(...x_(f,b,E,I));const L=[f,...D],M=await p.detectOverflow(n,k),H=[];let Q=((s=l.flip)==null?void 0:s.overflows)||[];if(v&&H.push(M[N]),x){const X=m_(a,u,I);H.push(M[X[0]],M[X[1]])}if(Q=[...Q,{placement:a,overflows:H}],!H.every(X=>X<=0)){var F,U;const X=(((F=l.flip)==null?void 0:F.index)||0)+1,K=L[X];if(K&&(!(x==="alignment"?R!==Fn(K):!1)||Q.every(T=>Fn(T.placement)===R?T.overflows[0]>0:!0)))return{data:{index:X,overflows:Q},reset:{placement:K}};let Y=(U=Q.filter(ee=>ee.overflows[0]<=0).sort((ee,T)=>ee.overflows[1]-T.overflows[1])[0])==null?void 0:U.placement;if(!Y)switch(S){case"bestFit":{var q;const ee=(q=Q.filter(T=>{if(P){const V=Fn(T.placement);return V===R||V==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(V=>V>0).reduce((V,J)=>V+J,0)]).sort((T,V)=>T[1]-V[1])[0])==null?void 0:q[0];ee&&(Y=ee);break}case"initialPlacement":Y=f;break}if(a!==Y)return{reset:{placement:Y}}}return{}}}};function mg(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function hg(e){return u_.some(n=>e[n]>=0)}const E_=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:o,platform:s}=n,{strategy:a="referenceHidden",...l}=lr(e,n);switch(a){case"referenceHidden":{const u=await s.detectOverflow(n,{...l,elementContext:"reference"}),f=mg(u,o.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:hg(f)}}}case"escaped":{const u=await s.detectOverflow(n,{...l,altBoundary:!0}),f=mg(u,o.floating);return{data:{escapedOffsets:f,escaped:hg(f)}}}default:return{}}}}},By=new Set(["left","top"]);async function N_(e,n){const{placement:o,platform:s,elements:a}=e,l=await(s.isRTL==null?void 0:s.isRTL(a.floating)),u=cr(o),f=is(o),p=Fn(o)==="y",g=By.has(u)?-1:1,v=l&&p?-1:1,x=lr(n,e);let{mainAxis:w,crossAxis:S,alignmentAxis:E}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return f&&typeof E=="number"&&(S=f==="end"?E*-1:E),p?{x:S*v,y:w*g}:{x:w*g,y:S*v}}const R_=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var o,s;const{x:a,y:l,placement:u,middlewareData:f}=n,p=await N_(n,e);return u===((o=f.offset)==null?void 0:o.placement)&&(s=f.arrow)!=null&&s.alignmentOffset?{}:{x:a+p.x,y:l+p.y,data:{...p,placement:u}}}}},__=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:o,y:s,placement:a,platform:l}=n,{mainAxis:u=!0,crossAxis:f=!1,limiter:p={fn:N=>{let{x:R,y:_}=N;return{x:R,y:_}}},...g}=lr(e,n),v={x:o,y:s},x=await l.detectOverflow(n,g),w=Fn(cr(a)),S=Qd(w);let E=v[S],b=v[w];if(u){const N=S==="y"?"top":"left",R=S==="y"?"bottom":"right",_=E+x[N],I=E-x[R];E=md(_,E,I)}if(f){const N=w==="y"?"top":"left",R=w==="y"?"bottom":"right",_=b+x[N],I=b-x[R];b=md(_,b,I)}const k=p.fn({...n,[S]:E,[w]:b});return{...k,data:{x:k.x-o,y:k.y-s,enabled:{[S]:u,[w]:f}}}}}},j_=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:o,y:s,placement:a,rects:l,middlewareData:u}=n,{offset:f=0,mainAxis:p=!0,crossAxis:g=!0}=lr(e,n),v={x:o,y:s},x=Fn(a),w=Qd(x);let S=v[w],E=v[x];const b=lr(f,n),k=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(p){const _=w==="y"?"height":"width",I=l.reference[w]-l.floating[_]+k.mainAxis,D=l.reference[w]+l.reference[_]-k.mainAxis;S<I?S=I:S>D&&(S=D)}if(g){var N,R;const _=w==="y"?"width":"height",I=By.has(cr(a)),D=l.reference[x]-l.floating[_]+(I&&((N=u.offset)==null?void 0:N[x])||0)+(I?0:k.crossAxis),P=l.reference[x]+l.reference[_]+(I?0:((R=u.offset)==null?void 0:R[x])||0)-(I?k.crossAxis:0);E<D?E=D:E>P&&(E=P)}return{[w]:S,[x]:E}}}},T_=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){var o,s;const{placement:a,rects:l,platform:u,elements:f}=n,{apply:p=()=>{},...g}=lr(e,n),v=await u.detectOverflow(n,g),x=cr(a),w=is(a),S=Fn(a)==="y",{width:E,height:b}=l.floating;let k,N;x==="top"||x==="bottom"?(k=x,N=w===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(N=x,k=w==="end"?"top":"bottom");const R=b-v.top-v.bottom,_=E-v.left-v.right,I=Ur(b-v[k],R),D=Ur(E-v[N],_),P=!n.middlewareData.shift;let L=I,M=D;if((o=n.middlewareData.shift)!=null&&o.enabled.x&&(M=_),(s=n.middlewareData.shift)!=null&&s.enabled.y&&(L=R),P&&!w){const Q=Bt(v.left,0),F=Bt(v.right,0),U=Bt(v.top,0),q=Bt(v.bottom,0);S?M=E-2*(Q!==0||F!==0?Q+F:Bt(v.left,v.right)):L=b-2*(U!==0||q!==0?U+q:Bt(v.top,v.bottom))}await p({...n,availableWidth:M,availableHeight:L});const H=await u.getDimensions(f.floating);return E!==H.width||b!==H.height?{reset:{rects:!0}}:{}}}};function Ol(){return typeof window<"u"}function as(e){return Wy(e)?(e.nodeName||"").toLowerCase():"#document"}function Vt(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function Hn(e){var n;return(n=(Wy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function Wy(e){return Ol()?e instanceof Node||e instanceof Vt(e).Node:!1}function kn(e){return Ol()?e instanceof Element||e instanceof Vt(e).Element:!1}function Wn(e){return Ol()?e instanceof HTMLElement||e instanceof Vt(e).HTMLElement:!1}function gg(e){return!Ol()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Vt(e).ShadowRoot}const M_=new Set(["inline","contents"]);function Si(e){const{overflow:n,overflowX:o,overflowY:s,display:a}=En(e);return/auto|scroll|overlay|hidden|clip/.test(n+s+o)&&!M_.has(a)}const I_=new Set(["table","td","th"]);function D_(e){return I_.has(as(e))}const A_=[":popover-open",":modal"];function Ll(e){return A_.some(n=>{try{return e.matches(n)}catch{return!1}})}const P_=["transform","translate","scale","rotate","perspective"],O_=["transform","translate","scale","rotate","perspective","filter"],L_=["paint","layout","strict","content"];function ef(e){const n=tf(),o=kn(e)?En(e):e;return P_.some(s=>o[s]?o[s]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!n&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!n&&(o.filter?o.filter!=="none":!1)||O_.some(s=>(o.willChange||"").includes(s))||L_.some(s=>(o.contain||"").includes(s))}function F_(e){let n=Br(e);for(;Wn(n)&&!Qo(n);){if(ef(n))return n;if(Ll(n))return null;n=Br(n)}return null}function tf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const z_=new Set(["html","body","#document"]);function Qo(e){return z_.has(as(e))}function En(e){return Vt(e).getComputedStyle(e)}function Fl(e){return kn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Br(e){if(as(e)==="html")return e;const n=e.assignedSlot||e.parentNode||gg(e)&&e.host||Hn(e);return gg(n)?n.host:n}function Vy(e){const n=Br(e);return Qo(n)?e.ownerDocument?e.ownerDocument.body:e.body:Wn(n)&&Si(n)?n:Vy(n)}function ci(e,n,o){var s;n===void 0&&(n=[]),o===void 0&&(o=!0);const a=Vy(e),l=a===((s=e.ownerDocument)==null?void 0:s.body),u=Vt(a);if(l){const f=gd(u);return n.concat(u,u.visualViewport||[],Si(a)?a:[],f&&o?ci(f):[])}return n.concat(a,ci(a,[],o))}function gd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Hy(e){const n=En(e);let o=parseFloat(n.width)||0,s=parseFloat(n.height)||0;const a=Wn(e),l=a?e.offsetWidth:o,u=a?e.offsetHeight:s,f=xl(o)!==l||xl(s)!==u;return f&&(o=l,s=u),{width:o,height:s,$:f}}function nf(e){return kn(e)?e:e.contextElement}function Ko(e){const n=nf(e);if(!Wn(n))return zn(1);const o=n.getBoundingClientRect(),{width:s,height:a,$:l}=Hy(n);let u=(l?xl(o.width):o.width)/s,f=(l?xl(o.height):o.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const $_=zn(0);function Ky(e){const n=Vt(e);return!tf()||!n.visualViewport?$_:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function U_(e,n,o){return n===void 0&&(n=!1),!o||n&&o!==Vt(e)?!1:n}function co(e,n,o,s){n===void 0&&(n=!1),o===void 0&&(o=!1);const a=e.getBoundingClientRect(),l=nf(e);let u=zn(1);n&&(s?kn(s)&&(u=Ko(s)):u=Ko(e));const f=U_(l,o,s)?Ky(l):zn(0);let p=(a.left+f.x)/u.x,g=(a.top+f.y)/u.y,v=a.width/u.x,x=a.height/u.y;if(l){const w=Vt(l),S=s&&kn(s)?Vt(s):s;let E=w,b=gd(E);for(;b&&s&&S!==E;){const k=Ko(b),N=b.getBoundingClientRect(),R=En(b),_=N.left+(b.clientLeft+parseFloat(R.paddingLeft))*k.x,I=N.top+(b.clientTop+parseFloat(R.paddingTop))*k.y;p*=k.x,g*=k.y,v*=k.x,x*=k.y,p+=_,g+=I,E=Vt(b),b=gd(E)}}return Sl({width:v,height:x,x:p,y:g})}function zl(e,n){const o=Fl(e).scrollLeft;return n?n.left+o:co(Hn(e)).left+o}function Gy(e,n){const o=e.getBoundingClientRect(),s=o.left+n.scrollLeft-zl(e,o),a=o.top+n.scrollTop;return{x:s,y:a}}function B_(e){let{elements:n,rect:o,offsetParent:s,strategy:a}=e;const l=a==="fixed",u=Hn(s),f=n?Ll(n.floating):!1;if(s===u||f&&l)return o;let p={scrollLeft:0,scrollTop:0},g=zn(1);const v=zn(0),x=Wn(s);if((x||!x&&!l)&&((as(s)!=="body"||Si(u))&&(p=Fl(s)),Wn(s))){const S=co(s);g=Ko(s),v.x=S.x+s.clientLeft,v.y=S.y+s.clientTop}const w=u&&!x&&!l?Gy(u,p):zn(0);return{width:o.width*g.x,height:o.height*g.y,x:o.x*g.x-p.scrollLeft*g.x+v.x+w.x,y:o.y*g.y-p.scrollTop*g.y+v.y+w.y}}function W_(e){return Array.from(e.getClientRects())}function V_(e){const n=Hn(e),o=Fl(e),s=e.ownerDocument.body,a=Bt(n.scrollWidth,n.clientWidth,s.scrollWidth,s.clientWidth),l=Bt(n.scrollHeight,n.clientHeight,s.scrollHeight,s.clientHeight);let u=-o.scrollLeft+zl(e);const f=-o.scrollTop;return En(s).direction==="rtl"&&(u+=Bt(n.clientWidth,s.clientWidth)-a),{width:a,height:l,x:u,y:f}}const vg=25;function H_(e,n){const o=Vt(e),s=Hn(e),a=o.visualViewport;let l=s.clientWidth,u=s.clientHeight,f=0,p=0;if(a){l=a.width,u=a.height;const v=tf();(!v||v&&n==="fixed")&&(f=a.offsetLeft,p=a.offsetTop)}const g=zl(s);if(g<=0){const v=s.ownerDocument,x=v.body,w=getComputedStyle(x),S=v.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,E=Math.abs(s.clientWidth-x.clientWidth-S);E<=vg&&(l-=E)}else g<=vg&&(l+=g);return{width:l,height:u,x:f,y:p}}const K_=new Set(["absolute","fixed"]);function G_(e,n){const o=co(e,!0,n==="fixed"),s=o.top+e.clientTop,a=o.left+e.clientLeft,l=Wn(e)?Ko(e):zn(1),u=e.clientWidth*l.x,f=e.clientHeight*l.y,p=a*l.x,g=s*l.y;return{width:u,height:f,x:p,y:g}}function yg(e,n,o){let s;if(n==="viewport")s=H_(e,o);else if(n==="document")s=V_(Hn(e));else if(kn(n))s=G_(n,o);else{const a=Ky(e);s={x:n.x-a.x,y:n.y-a.y,width:n.width,height:n.height}}return Sl(s)}function qy(e,n){const o=Br(e);return o===n||!kn(o)||Qo(o)?!1:En(o).position==="fixed"||qy(o,n)}function q_(e,n){const o=n.get(e);if(o)return o;let s=ci(e,[],!1).filter(f=>kn(f)&&as(f)!=="body"),a=null;const l=En(e).position==="fixed";let u=l?Br(e):e;for(;kn(u)&&!Qo(u);){const f=En(u),p=ef(u);!p&&f.position==="fixed"&&(a=null),(l?!p&&!a:!p&&f.position==="static"&&!!a&&K_.has(a.position)||Si(u)&&!p&&qy(e,u))?s=s.filter(v=>v!==u):a=f,u=Br(u)}return n.set(e,s),s}function Y_(e){let{element:n,boundary:o,rootBoundary:s,strategy:a}=e;const u=[...o==="clippingAncestors"?Ll(n)?[]:q_(n,this._c):[].concat(o),s],f=u[0],p=u.reduce((g,v)=>{const x=yg(n,v,a);return g.top=Bt(x.top,g.top),g.right=Ur(x.right,g.right),g.bottom=Ur(x.bottom,g.bottom),g.left=Bt(x.left,g.left),g},yg(n,f,a));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function X_(e){const{width:n,height:o}=Hy(e);return{width:n,height:o}}function Q_(e,n,o){const s=Wn(n),a=Hn(n),l=o==="fixed",u=co(e,!0,l,n);let f={scrollLeft:0,scrollTop:0};const p=zn(0);function g(){p.x=zl(a)}if(s||!s&&!l)if((as(n)!=="body"||Si(a))&&(f=Fl(n)),s){const S=co(n,!0,l,n);p.x=S.x+n.clientLeft,p.y=S.y+n.clientTop}else a&&g();l&&!s&&a&&g();const v=a&&!s&&!l?Gy(a,f):zn(0),x=u.left+f.scrollLeft-p.x-v.x,w=u.top+f.scrollTop-p.y-v.y;return{x,y:w,width:u.width,height:u.height}}function qu(e){return En(e).position==="static"}function xg(e,n){if(!Wn(e)||En(e).position==="fixed")return null;if(n)return n(e);let o=e.offsetParent;return Hn(e)===o&&(o=o.ownerDocument.body),o}function Yy(e,n){const o=Vt(e);if(Ll(e))return o;if(!Wn(e)){let a=Br(e);for(;a&&!Qo(a);){if(kn(a)&&!qu(a))return a;a=Br(a)}return o}let s=xg(e,n);for(;s&&D_(s)&&qu(s);)s=xg(s,n);return s&&Qo(s)&&qu(s)&&!ef(s)?o:s||F_(e)||o}const J_=async function(e){const n=this.getOffsetParent||Yy,o=this.getDimensions,s=await o(e.floating);return{reference:Q_(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Z_(e){return En(e).direction==="rtl"}const ej={convertOffsetParentRelativeRectToViewportRelativeRect:B_,getDocumentElement:Hn,getClippingRect:Y_,getOffsetParent:Yy,getElementRects:J_,getClientRects:W_,getDimensions:X_,getScale:Ko,isElement:kn,isRTL:Z_};function Xy(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function tj(e,n){let o=null,s;const a=Hn(e);function l(){var f;clearTimeout(s),(f=o)==null||f.disconnect(),o=null}function u(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),l();const g=e.getBoundingClientRect(),{left:v,top:x,width:w,height:S}=g;if(f||n(),!w||!S)return;const E=Ya(x),b=Ya(a.clientWidth-(v+w)),k=Ya(a.clientHeight-(x+S)),N=Ya(v),_={rootMargin:-E+"px "+-b+"px "+-k+"px "+-N+"px",threshold:Bt(0,Ur(1,p))||1};let I=!0;function D(P){const L=P[0].intersectionRatio;if(L!==p){if(!I)return u();L?u(!1,L):s=setTimeout(()=>{u(!1,1e-7)},1e3)}L===1&&!Xy(g,e.getBoundingClientRect())&&u(),I=!1}try{o=new IntersectionObserver(D,{..._,root:a.ownerDocument})}catch{o=new IntersectionObserver(D,_)}o.observe(e)}return u(!0),l}function nj(e,n,o,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=s,g=nf(e),v=a||l?[...g?ci(g):[],...ci(n)]:[];v.forEach(N=>{a&&N.addEventListener("scroll",o,{passive:!0}),l&&N.addEventListener("resize",o)});const x=g&&f?tj(g,o):null;let w=-1,S=null;u&&(S=new ResizeObserver(N=>{let[R]=N;R&&R.target===g&&S&&(S.unobserve(n),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var _;(_=S)==null||_.observe(n)})),o()}),g&&!p&&S.observe(g),S.observe(n));let E,b=p?co(e):null;p&&k();function k(){const N=co(e);b&&!Xy(b,N)&&o(),b=N,E=requestAnimationFrame(k)}return o(),()=>{var N;v.forEach(R=>{a&&R.removeEventListener("scroll",o),l&&R.removeEventListener("resize",o)}),x==null||x(),(N=S)==null||N.disconnect(),S=null,p&&cancelAnimationFrame(E)}}const rj=R_,oj=__,sj=k_,ij=T_,aj=E_,wg=b_,lj=j_,cj=(e,n,o)=>{const s=new Map,a={platform:ej,...o},l={...a.platform,_c:s};return C_(e,n,{...a,platform:l})};var uj=typeof document<"u",dj=function(){},nl=uj?h.useLayoutEffect:dj;function Cl(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let o,s,a;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(o=e.length,o!==n.length)return!1;for(s=o;s--!==0;)if(!Cl(e[s],n[s]))return!1;return!0}if(a=Object.keys(e),o=a.length,o!==Object.keys(n).length)return!1;for(s=o;s--!==0;)if(!{}.hasOwnProperty.call(n,a[s]))return!1;for(s=o;s--!==0;){const l=a[s];if(!(l==="_owner"&&e.$$typeof)&&!Cl(e[l],n[l]))return!1}return!0}return e!==e&&n!==n}function Qy(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Sg(e,n){const o=Qy(e);return Math.round(n*o)/o}function Yu(e){const n=h.useRef(e);return nl(()=>{n.current=e}),n}function fj(e){e===void 0&&(e={});const{placement:n="bottom",strategy:o="absolute",middleware:s=[],platform:a,elements:{reference:l,floating:u}={},transform:f=!0,whileElementsMounted:p,open:g}=e,[v,x]=h.useState({x:0,y:0,strategy:o,placement:n,middlewareData:{},isPositioned:!1}),[w,S]=h.useState(s);Cl(w,s)||S(s);const[E,b]=h.useState(null),[k,N]=h.useState(null),R=h.useCallback(T=>{T!==P.current&&(P.current=T,b(T))},[]),_=h.useCallback(T=>{T!==L.current&&(L.current=T,N(T))},[]),I=l||E,D=u||k,P=h.useRef(null),L=h.useRef(null),M=h.useRef(v),H=p!=null,Q=Yu(p),F=Yu(a),U=Yu(g),q=h.useCallback(()=>{if(!P.current||!L.current)return;const T={placement:n,strategy:o,middleware:w};F.current&&(T.platform=F.current),cj(P.current,L.current,T).then(V=>{const J={...V,isPositioned:U.current!==!1};X.current&&!Cl(M.current,J)&&(M.current=J,zr.flushSync(()=>{x(J)}))})},[w,n,o,F,U]);nl(()=>{g===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,x(T=>({...T,isPositioned:!1})))},[g]);const X=h.useRef(!1);nl(()=>(X.current=!0,()=>{X.current=!1}),[]),nl(()=>{if(I&&(P.current=I),D&&(L.current=D),I&&D){if(Q.current)return Q.current(I,D,q);q()}},[I,D,q,Q,H]);const K=h.useMemo(()=>({reference:P,floating:L,setReference:R,setFloating:_}),[R,_]),Y=h.useMemo(()=>({reference:I,floating:D}),[I,D]),ee=h.useMemo(()=>{const T={position:o,left:0,top:0};if(!Y.floating)return T;const V=Sg(Y.floating,v.x),J=Sg(Y.floating,v.y);return f?{...T,transform:"translate("+V+"px, "+J+"px)",...Qy(Y.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:V,top:J}},[o,f,Y.floating,v.x,v.y]);return h.useMemo(()=>({...v,update:q,refs:K,elements:Y,floatingStyles:ee}),[v,q,K,Y,ee])}const pj=e=>{function n(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){const{element:s,padding:a}=typeof e=="function"?e(o):e;return s&&n(s)?s.current!=null?wg({element:s.current,padding:a}).fn(o):{}:s?wg({element:s,padding:a}).fn(o):{}}}},mj=(e,n)=>({...rj(e),options:[e,n]}),hj=(e,n)=>({...oj(e),options:[e,n]}),gj=(e,n)=>({...lj(e),options:[e,n]}),vj=(e,n)=>({...sj(e),options:[e,n]}),yj=(e,n)=>({...ij(e),options:[e,n]}),xj=(e,n)=>({...aj(e),options:[e,n]}),wj=(e,n)=>({...pj(e),options:[e,n]});var Sj="Arrow",Jy=h.forwardRef((e,n)=>{const{children:o,width:s=10,height:a=5,...l}=e;return d.jsx(Xe.svg,{...l,ref:n,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?o:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});Jy.displayName=Sj;var Cj=Jy;function bj(e){const[n,o]=h.useState(void 0);return $r(()=>{if(e){o({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let u,f;if("borderBoxSize"in l){const p=l.borderBoxSize,g=Array.isArray(p)?p[0]:p;u=g.inlineSize,f=g.blockSize}else u=e.offsetWidth,f=e.offsetHeight;o({width:u,height:f})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else o(void 0)},[e]),n}var rf="Popper",[Zy,ex]=ns(rf),[kj,tx]=Zy(rf),nx=e=>{const{__scopePopper:n,children:o}=e,[s,a]=h.useState(null);return d.jsx(kj,{scope:n,anchor:s,onAnchorChange:a,children:o})};nx.displayName=rf;var rx="PopperAnchor",ox=h.forwardRef((e,n)=>{const{__scopePopper:o,virtualRef:s,...a}=e,l=tx(rx,o),u=h.useRef(null),f=ft(n,u),p=h.useRef(null);return h.useEffect(()=>{const g=p.current;p.current=(s==null?void 0:s.current)||u.current,g!==p.current&&l.onAnchorChange(p.current)}),s?null:d.jsx(Xe.div,{...a,ref:f})});ox.displayName=rx;var of="PopperContent",[Ej,Nj]=Zy(of),sx=h.forwardRef((e,n)=>{var le,ge,ve,ye,Qe,He;const{__scopePopper:o,side:s="bottom",sideOffset:a=0,align:l="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:p=!0,collisionBoundary:g=[],collisionPadding:v=0,sticky:x="partial",hideWhenDetached:w=!1,updatePositionStrategy:S="optimized",onPlaced:E,...b}=e,k=tx(of,o),[N,R]=h.useState(null),_=ft(n,at=>R(at)),[I,D]=h.useState(null),P=bj(I),L=(P==null?void 0:P.width)??0,M=(P==null?void 0:P.height)??0,H=s+(l!=="center"?"-"+l:""),Q=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},F=Array.isArray(g)?g:[g],U=F.length>0,q={padding:Q,boundary:F.filter(_j),altBoundary:U},{refs:X,floatingStyles:K,placement:Y,isPositioned:ee,middlewareData:T}=fj({strategy:"fixed",placement:H,whileElementsMounted:(...at)=>nj(...at,{animationFrame:S==="always"}),elements:{reference:k.anchor},middleware:[mj({mainAxis:a+M,alignmentAxis:u}),p&&hj({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?gj():void 0,...q}),p&&vj({...q}),yj({...q,apply:({elements:at,rects:pt,availableWidth:rn,availableHeight:on})=>{const{width:ur,height:Hr}=pt.reference,Ht=at.floating.style;Ht.setProperty("--radix-popper-available-width",`${rn}px`),Ht.setProperty("--radix-popper-available-height",`${on}px`),Ht.setProperty("--radix-popper-anchor-width",`${ur}px`),Ht.setProperty("--radix-popper-anchor-height",`${Hr}px`)}}),I&&wj({element:I,padding:f}),jj({arrowWidth:L,arrowHeight:M}),w&&xj({strategy:"referenceHidden",...q})]}),[V,J]=lx(Y),A=ar(E);$r(()=>{ee&&(A==null||A())},[ee,A]);const B=(le=T.arrow)==null?void 0:le.x,Z=(ge=T.arrow)==null?void 0:ge.y,oe=((ve=T.arrow)==null?void 0:ve.centerOffset)!==0,[he,pe]=h.useState();return $r(()=>{N&&pe(window.getComputedStyle(N).zIndex)},[N]),d.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:ee?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(ye=T.transformOrigin)==null?void 0:ye.x,(Qe=T.transformOrigin)==null?void 0:Qe.y].join(" "),...((He=T.hide)==null?void 0:He.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(Ej,{scope:o,placedSide:V,onArrowChange:D,arrowX:B,arrowY:Z,shouldHideArrow:oe,children:d.jsx(Xe.div,{"data-side":V,"data-align":J,...b,ref:_,style:{...b.style,animation:ee?void 0:"none"}})})})});sx.displayName=of;var ix="PopperArrow",Rj={top:"bottom",right:"left",bottom:"top",left:"right"},ax=h.forwardRef(function(n,o){const{__scopePopper:s,...a}=n,l=Nj(ix,s),u=Rj[l.placedSide];return d.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:d.jsx(Cj,{...a,ref:o,style:{...a.style,display:"block"}})})});ax.displayName=ix;function _j(e){return e!==null}var jj=e=>({name:"transformOrigin",options:e,fn(n){var k,N,R;const{placement:o,rects:s,middlewareData:a}=n,u=((k=a.arrow)==null?void 0:k.centerOffset)!==0,f=u?0:e.arrowWidth,p=u?0:e.arrowHeight,[g,v]=lx(o),x={start:"0%",center:"50%",end:"100%"}[v],w=(((N=a.arrow)==null?void 0:N.x)??0)+f/2,S=(((R=a.arrow)==null?void 0:R.y)??0)+p/2;let E="",b="";return g==="bottom"?(E=u?x:`${w}px`,b=`${-p}px`):g==="top"?(E=u?x:`${w}px`,b=`${s.floating.height+p}px`):g==="right"?(E=`${-p}px`,b=u?x:`${S}px`):g==="left"&&(E=`${s.floating.width+p}px`,b=u?x:`${S}px`),{data:{x:E,y:b}}}});function lx(e){const[n,o="center"]=e.split("-");return[n,o]}var Tj=nx,Mj=ox,Ij=sx,Dj=ax,Xu="rovingFocusGroup.onEntryFocus",Aj={bubbles:!1,cancelable:!0},Ci="RovingFocusGroup",[vd,cx,Pj]=zy(Ci),[Oj,ux]=ns(Ci,[Pj]),[Lj,Fj]=Oj(Ci),dx=h.forwardRef((e,n)=>d.jsx(vd.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(vd.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(zj,{...e,ref:n})})}));dx.displayName=Ci;var zj=h.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:o,orientation:s,loop:a=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:p,onEntryFocus:g,preventScrollOnEntryFocus:v=!1,...x}=e,w=h.useRef(null),S=ft(n,w),E=$y(l),[b,k]=Dd({prop:u,defaultProp:f??null,onChange:p,caller:Ci}),[N,R]=h.useState(!1),_=ar(g),I=cx(o),D=h.useRef(!1),[P,L]=h.useState(0);return h.useEffect(()=>{const M=w.current;if(M)return M.addEventListener(Xu,_),()=>M.removeEventListener(Xu,_)},[_]),d.jsx(Lj,{scope:o,orientation:s,dir:E,loop:a,currentTabStopId:b,onItemFocus:h.useCallback(M=>k(M),[k]),onItemShiftTab:h.useCallback(()=>R(!0),[]),onFocusableItemAdd:h.useCallback(()=>L(M=>M+1),[]),onFocusableItemRemove:h.useCallback(()=>L(M=>M-1),[]),children:d.jsx(Xe.div,{tabIndex:N||P===0?-1:0,"data-orientation":s,...x,ref:S,style:{outline:"none",...e.style},onMouseDown:Ee(e.onMouseDown,()=>{D.current=!0}),onFocus:Ee(e.onFocus,M=>{const H=!D.current;if(M.target===M.currentTarget&&H&&!N){const Q=new CustomEvent(Xu,Aj);if(M.currentTarget.dispatchEvent(Q),!Q.defaultPrevented){const F=I().filter(Y=>Y.focusable),U=F.find(Y=>Y.active),q=F.find(Y=>Y.id===b),K=[U,q,...F].filter(Boolean).map(Y=>Y.ref.current);mx(K,v)}}D.current=!1}),onBlur:Ee(e.onBlur,()=>R(!1))})})}),fx="RovingFocusGroupItem",px=h.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:o,focusable:s=!0,active:a=!1,tabStopId:l,children:u,...f}=e,p=Wo(),g=l||p,v=Fj(fx,o),x=v.currentTabStopId===g,w=cx(o),{onFocusableItemAdd:S,onFocusableItemRemove:E,currentTabStopId:b}=v;return h.useEffect(()=>{if(s)return S(),()=>E()},[s,S,E]),d.jsx(vd.ItemSlot,{scope:o,id:g,focusable:s,active:a,children:d.jsx(Xe.span,{tabIndex:x?0:-1,"data-orientation":v.orientation,...f,ref:n,onMouseDown:Ee(e.onMouseDown,k=>{s?v.onItemFocus(g):k.preventDefault()}),onFocus:Ee(e.onFocus,()=>v.onItemFocus(g)),onKeyDown:Ee(e.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){v.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const N=Bj(k,v.orientation,v.dir);if(N!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let _=w().filter(I=>I.focusable).map(I=>I.ref.current);if(N==="last")_.reverse();else if(N==="prev"||N==="next"){N==="prev"&&_.reverse();const I=_.indexOf(k.currentTarget);_=v.loop?Wj(_,I+1):_.slice(I+1)}setTimeout(()=>mx(_))}}),children:typeof u=="function"?u({isCurrentTabStop:x,hasTabStop:b!=null}):u})})});px.displayName=fx;var $j={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Uj(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Bj(e,n,o){const s=Uj(e.key,o);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return $j[s]}function mx(e,n=!1){const o=document.activeElement;for(const s of e)if(s===o||(s.focus({preventScroll:n}),document.activeElement!==o))return}function Wj(e,n){return e.map((o,s)=>e[(n+s)%e.length])}var Vj=dx,Hj=px,yd=["Enter"," "],Kj=["ArrowDown","PageUp","Home"],hx=["ArrowUp","PageDown","End"],Gj=[...Kj,...hx],qj={ltr:[...yd,"ArrowRight"],rtl:[...yd,"ArrowLeft"]},Yj={ltr:["ArrowLeft"],rtl:["ArrowRight"]},bi="Menu",[ui,Xj,Qj]=zy(bi),[uo,gx]=ns(bi,[Qj,ex,ux]),$l=ex(),vx=ux(),[Jj,fo]=uo(bi),[Zj,ki]=uo(bi),yx=e=>{const{__scopeMenu:n,open:o=!1,children:s,dir:a,onOpenChange:l,modal:u=!0}=e,f=$l(n),[p,g]=h.useState(null),v=h.useRef(!1),x=ar(l),w=$y(a);return h.useEffect(()=>{const S=()=>{v.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>v.current=!1;return document.addEventListener("keydown",S,{capture:!0}),()=>{document.removeEventListener("keydown",S,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),d.jsx(Tj,{...f,children:d.jsx(Jj,{scope:n,open:o,onOpenChange:x,content:p,onContentChange:g,children:d.jsx(Zj,{scope:n,onClose:h.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:v,dir:w,modal:u,children:s})})})};yx.displayName=bi;var eT="MenuAnchor",sf=h.forwardRef((e,n)=>{const{__scopeMenu:o,...s}=e,a=$l(o);return d.jsx(Mj,{...a,...s,ref:n})});sf.displayName=eT;var af="MenuPortal",[tT,xx]=uo(af,{forceMount:void 0}),wx=e=>{const{__scopeMenu:n,forceMount:o,children:s,container:a}=e,l=fo(af,n);return d.jsx(tT,{scope:n,forceMount:o,children:d.jsx(Vr,{present:o||l.open,children:d.jsx(Od,{asChild:!0,container:a,children:s})})})};wx.displayName=af;var tn="MenuContent",[nT,lf]=uo(tn),Sx=h.forwardRef((e,n)=>{const o=xx(tn,e.__scopeMenu),{forceMount:s=o.forceMount,...a}=e,l=fo(tn,e.__scopeMenu),u=ki(tn,e.__scopeMenu);return d.jsx(ui.Provider,{scope:e.__scopeMenu,children:d.jsx(Vr,{present:s||l.open,children:d.jsx(ui.Slot,{scope:e.__scopeMenu,children:u.modal?d.jsx(rT,{...a,ref:n}):d.jsx(oT,{...a,ref:n})})})})}),rT=h.forwardRef((e,n)=>{const o=fo(tn,e.__scopeMenu),s=h.useRef(null),a=ft(n,s);return h.useEffect(()=>{const l=s.current;if(l)return _v(l)},[]),d.jsx(cf,{...e,ref:a,trapFocus:o.open,disableOutsidePointerEvents:o.open,disableOutsideScroll:!0,onFocusOutside:Ee(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>o.onOpenChange(!1)})}),oT=h.forwardRef((e,n)=>{const o=fo(tn,e.__scopeMenu);return d.jsx(cf,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>o.onOpenChange(!1)})}),sT=si("MenuContent.ScrollLock"),cf=h.forwardRef((e,n)=>{const{__scopeMenu:o,loop:s=!1,trapFocus:a,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:f,onEntryFocus:p,onEscapeKeyDown:g,onPointerDownOutside:v,onFocusOutside:x,onInteractOutside:w,onDismiss:S,disableOutsideScroll:E,...b}=e,k=fo(tn,o),N=ki(tn,o),R=$l(o),_=vx(o),I=Xj(o),[D,P]=h.useState(null),L=h.useRef(null),M=ft(n,L,k.onContentChange),H=h.useRef(0),Q=h.useRef(""),F=h.useRef(0),U=h.useRef(null),q=h.useRef("right"),X=h.useRef(0),K=E?Ld:h.Fragment,Y=E?{as:sT,allowPinchZoom:!0}:void 0,ee=V=>{var le,ge;const J=Q.current+V,A=I().filter(ve=>!ve.disabled),B=document.activeElement,Z=(le=A.find(ve=>ve.ref.current===B))==null?void 0:le.textValue,oe=A.map(ve=>ve.textValue),he=vT(oe,J,Z),pe=(ge=A.find(ve=>ve.textValue===he))==null?void 0:ge.ref.current;(function ve(ye){Q.current=ye,window.clearTimeout(H.current),ye!==""&&(H.current=window.setTimeout(()=>ve(""),1e3))})(J),pe&&setTimeout(()=>pe.focus())};h.useEffect(()=>()=>window.clearTimeout(H.current),[]),xv();const T=h.useCallback(V=>{var A,B;return q.current===((A=U.current)==null?void 0:A.side)&&xT(V,(B=U.current)==null?void 0:B.area)},[]);return d.jsx(nT,{scope:o,searchRef:Q,onItemEnter:h.useCallback(V=>{T(V)&&V.preventDefault()},[T]),onItemLeave:h.useCallback(V=>{var J;T(V)||((J=L.current)==null||J.focus(),P(null))},[T]),onTriggerLeave:h.useCallback(V=>{T(V)&&V.preventDefault()},[T]),pointerGraceTimerRef:F,onPointerGraceIntentChange:h.useCallback(V=>{U.current=V},[]),children:d.jsx(K,{...Y,children:d.jsx(Pd,{asChild:!0,trapped:a,onMountAutoFocus:Ee(l,V=>{var J;V.preventDefault(),(J=L.current)==null||J.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:d.jsx(Ad,{asChild:!0,disableOutsidePointerEvents:f,onEscapeKeyDown:g,onPointerDownOutside:v,onFocusOutside:x,onInteractOutside:w,onDismiss:S,children:d.jsx(Vj,{asChild:!0,..._,dir:N.dir,orientation:"vertical",loop:s,currentTabStopId:D,onCurrentTabStopIdChange:P,onEntryFocus:Ee(p,V=>{N.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(Ij,{role:"menu","aria-orientation":"vertical","data-state":Lx(k.open),"data-radix-menu-content":"",dir:N.dir,...R,...b,ref:M,style:{outline:"none",...b.style},onKeyDown:Ee(b.onKeyDown,V=>{const A=V.target.closest("[data-radix-menu-content]")===V.currentTarget,B=V.ctrlKey||V.altKey||V.metaKey,Z=V.key.length===1;A&&(V.key==="Tab"&&V.preventDefault(),!B&&Z&&ee(V.key));const oe=L.current;if(V.target!==oe||!Gj.includes(V.key))return;V.preventDefault();const pe=I().filter(le=>!le.disabled).map(le=>le.ref.current);hx.includes(V.key)&&pe.reverse(),hT(pe)}),onBlur:Ee(e.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(H.current),Q.current="")}),onPointerMove:Ee(e.onPointerMove,di(V=>{const J=V.target,A=X.current!==V.clientX;if(V.currentTarget.contains(J)&&A){const B=V.clientX>X.current?"right":"left";q.current=B,X.current=V.clientX}}))})})})})})})});Sx.displayName=tn;var iT="MenuGroup",uf=h.forwardRef((e,n)=>{const{__scopeMenu:o,...s}=e;return d.jsx(Xe.div,{role:"group",...s,ref:n})});uf.displayName=iT;var aT="MenuLabel",Cx=h.forwardRef((e,n)=>{const{__scopeMenu:o,...s}=e;return d.jsx(Xe.div,{...s,ref:n})});Cx.displayName=aT;var bl="MenuItem",Cg="menu.itemSelect",Ul=h.forwardRef((e,n)=>{const{disabled:o=!1,onSelect:s,...a}=e,l=h.useRef(null),u=ki(bl,e.__scopeMenu),f=lf(bl,e.__scopeMenu),p=ft(n,l),g=h.useRef(!1),v=()=>{const x=l.current;if(!o&&x){const w=new CustomEvent(Cg,{bubbles:!0,cancelable:!0});x.addEventListener(Cg,S=>s==null?void 0:s(S),{once:!0}),hv(x,w),w.defaultPrevented?g.current=!1:u.onClose()}};return d.jsx(bx,{...a,ref:p,disabled:o,onClick:Ee(e.onClick,v),onPointerDown:x=>{var w;(w=e.onPointerDown)==null||w.call(e,x),g.current=!0},onPointerUp:Ee(e.onPointerUp,x=>{var w;g.current||(w=x.currentTarget)==null||w.click()}),onKeyDown:Ee(e.onKeyDown,x=>{const w=f.searchRef.current!=="";o||w&&x.key===" "||yd.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});Ul.displayName=bl;var bx=h.forwardRef((e,n)=>{const{__scopeMenu:o,disabled:s=!1,textValue:a,...l}=e,u=lf(bl,o),f=vx(o),p=h.useRef(null),g=ft(n,p),[v,x]=h.useState(!1),[w,S]=h.useState("");return h.useEffect(()=>{const E=p.current;E&&S((E.textContent??"").trim())},[l.children]),d.jsx(ui.ItemSlot,{scope:o,disabled:s,textValue:a??w,children:d.jsx(Hj,{asChild:!0,...f,focusable:!s,children:d.jsx(Xe.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...l,ref:g,onPointerMove:Ee(e.onPointerMove,di(E=>{s?u.onItemLeave(E):(u.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(e.onPointerLeave,di(E=>u.onItemLeave(E))),onFocus:Ee(e.onFocus,()=>x(!0)),onBlur:Ee(e.onBlur,()=>x(!1))})})})}),lT="MenuCheckboxItem",kx=h.forwardRef((e,n)=>{const{checked:o=!1,onCheckedChange:s,...a}=e;return d.jsx(jx,{scope:e.__scopeMenu,checked:o,children:d.jsx(Ul,{role:"menuitemcheckbox","aria-checked":kl(o)?"mixed":o,...a,ref:n,"data-state":ff(o),onSelect:Ee(a.onSelect,()=>s==null?void 0:s(kl(o)?!0:!o),{checkForDefaultPrevented:!1})})})});kx.displayName=lT;var Ex="MenuRadioGroup",[cT,uT]=uo(Ex,{value:void 0,onValueChange:()=>{}}),Nx=h.forwardRef((e,n)=>{const{value:o,onValueChange:s,...a}=e,l=ar(s);return d.jsx(cT,{scope:e.__scopeMenu,value:o,onValueChange:l,children:d.jsx(uf,{...a,ref:n})})});Nx.displayName=Ex;var Rx="MenuRadioItem",_x=h.forwardRef((e,n)=>{const{value:o,...s}=e,a=uT(Rx,e.__scopeMenu),l=o===a.value;return d.jsx(jx,{scope:e.__scopeMenu,checked:l,children:d.jsx(Ul,{role:"menuitemradio","aria-checked":l,...s,ref:n,"data-state":ff(l),onSelect:Ee(s.onSelect,()=>{var u;return(u=a.onValueChange)==null?void 0:u.call(a,o)},{checkForDefaultPrevented:!1})})})});_x.displayName=Rx;var df="MenuItemIndicator",[jx,dT]=uo(df,{checked:!1}),Tx=h.forwardRef((e,n)=>{const{__scopeMenu:o,forceMount:s,...a}=e,l=dT(df,o);return d.jsx(Vr,{present:s||kl(l.checked)||l.checked===!0,children:d.jsx(Xe.span,{...a,ref:n,"data-state":ff(l.checked)})})});Tx.displayName=df;var fT="MenuSeparator",Mx=h.forwardRef((e,n)=>{const{__scopeMenu:o,...s}=e;return d.jsx(Xe.div,{role:"separator","aria-orientation":"horizontal",...s,ref:n})});Mx.displayName=fT;var pT="MenuArrow",Ix=h.forwardRef((e,n)=>{const{__scopeMenu:o,...s}=e,a=$l(o);return d.jsx(Dj,{...a,...s,ref:n})});Ix.displayName=pT;var mT="MenuSub",[$M,Dx]=uo(mT),Zs="MenuSubTrigger",Ax=h.forwardRef((e,n)=>{const o=fo(Zs,e.__scopeMenu),s=ki(Zs,e.__scopeMenu),a=Dx(Zs,e.__scopeMenu),l=lf(Zs,e.__scopeMenu),u=h.useRef(null),{pointerGraceTimerRef:f,onPointerGraceIntentChange:p}=l,g={__scopeMenu:e.__scopeMenu},v=h.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return h.useEffect(()=>v,[v]),h.useEffect(()=>{const x=f.current;return()=>{window.clearTimeout(x),p(null)}},[f,p]),d.jsx(sf,{asChild:!0,...g,children:d.jsx(bx,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":a.contentId,"data-state":Lx(o.open),...e,ref:gi(n,a.onTriggerChange),onClick:x=>{var w;(w=e.onClick)==null||w.call(e,x),!(e.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),o.open||o.onOpenChange(!0))},onPointerMove:Ee(e.onPointerMove,di(x=>{l.onItemEnter(x),!x.defaultPrevented&&!e.disabled&&!o.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{o.onOpenChange(!0),v()},100))})),onPointerLeave:Ee(e.onPointerLeave,di(x=>{var S,E;v();const w=(S=o.content)==null?void 0:S.getBoundingClientRect();if(w){const b=(E=o.content)==null?void 0:E.dataset.side,k=b==="right",N=k?-5:5,R=w[k?"left":"right"],_=w[k?"right":"left"];l.onPointerGraceIntentChange({area:[{x:x.clientX+N,y:x.clientY},{x:R,y:w.top},{x:_,y:w.top},{x:_,y:w.bottom},{x:R,y:w.bottom}],side:b}),window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(x),x.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(e.onKeyDown,x=>{var S;const w=l.searchRef.current!=="";e.disabled||w&&x.key===" "||qj[s.dir].includes(x.key)&&(o.onOpenChange(!0),(S=o.content)==null||S.focus(),x.preventDefault())})})})});Ax.displayName=Zs;var Px="MenuSubContent",Ox=h.forwardRef((e,n)=>{const o=xx(tn,e.__scopeMenu),{forceMount:s=o.forceMount,...a}=e,l=fo(tn,e.__scopeMenu),u=ki(tn,e.__scopeMenu),f=Dx(Px,e.__scopeMenu),p=h.useRef(null),g=ft(n,p);return d.jsx(ui.Provider,{scope:e.__scopeMenu,children:d.jsx(Vr,{present:s||l.open,children:d.jsx(ui.Slot,{scope:e.__scopeMenu,children:d.jsx(cf,{id:f.contentId,"aria-labelledby":f.triggerId,...a,ref:g,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{var x;u.isUsingKeyboardRef.current&&((x=p.current)==null||x.focus()),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Ee(e.onFocusOutside,v=>{v.target!==f.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:Ee(e.onEscapeKeyDown,v=>{u.onClose(),v.preventDefault()}),onKeyDown:Ee(e.onKeyDown,v=>{var S;const x=v.currentTarget.contains(v.target),w=Yj[u.dir].includes(v.key);x&&w&&(l.onOpenChange(!1),(S=f.trigger)==null||S.focus(),v.preventDefault())})})})})})});Ox.displayName=Px;function Lx(e){return e?"open":"closed"}function kl(e){return e==="indeterminate"}function ff(e){return kl(e)?"indeterminate":e?"checked":"unchecked"}function hT(e){const n=document.activeElement;for(const o of e)if(o===n||(o.focus(),document.activeElement!==n))return}function gT(e,n){return e.map((o,s)=>e[(n+s)%e.length])}function vT(e,n,o){const a=n.length>1&&Array.from(n).every(g=>g===n[0])?n[0]:n,l=o?e.indexOf(o):-1;let u=gT(e,Math.max(l,0));a.length===1&&(u=u.filter(g=>g!==o));const p=u.find(g=>g.toLowerCase().startsWith(a.toLowerCase()));return p!==o?p:void 0}function yT(e,n){const{x:o,y:s}=e;let a=!1;for(let l=0,u=n.length-1;l<n.length;u=l++){const f=n[l],p=n[u],g=f.x,v=f.y,x=p.x,w=p.y;v>s!=w>s&&o<(x-g)*(s-v)/(w-v)+g&&(a=!a)}return a}function xT(e,n){if(!n)return!1;const o={x:e.clientX,y:e.clientY};return yT(o,n)}function di(e){return n=>n.pointerType==="mouse"?e(n):void 0}var wT=yx,ST=sf,CT=wx,bT=Sx,kT=uf,ET=Cx,NT=Ul,RT=kx,_T=Nx,jT=_x,TT=Tx,MT=Mx,IT=Ix,DT=Ax,AT=Ox,Bl="DropdownMenu",[PT]=ns(Bl,[gx]),Et=gx(),[OT,Fx]=PT(Bl),zx=e=>{const{__scopeDropdownMenu:n,children:o,dir:s,open:a,defaultOpen:l,onOpenChange:u,modal:f=!0}=e,p=Et(n),g=h.useRef(null),[v,x]=Dd({prop:a,defaultProp:l??!1,onChange:u,caller:Bl});return d.jsx(OT,{scope:n,triggerId:Wo(),triggerRef:g,contentId:Wo(),open:v,onOpenChange:x,onOpenToggle:h.useCallback(()=>x(w=>!w),[x]),modal:f,children:d.jsx(wT,{...p,open:v,onOpenChange:x,dir:s,modal:f,children:o})})};zx.displayName=Bl;var $x="DropdownMenuTrigger",Ux=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,disabled:s=!1,...a}=e,l=Fx($x,o),u=Et(o);return d.jsx(ST,{asChild:!0,...u,children:d.jsx(Xe.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:gi(n,l.triggerRef),onPointerDown:Ee(e.onPointerDown,f=>{!s&&f.button===0&&f.ctrlKey===!1&&(l.onOpenToggle(),l.open||f.preventDefault())}),onKeyDown:Ee(e.onKeyDown,f=>{s||(["Enter"," "].includes(f.key)&&l.onOpenToggle(),f.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(f.key)&&f.preventDefault())})})})});Ux.displayName=$x;var LT="DropdownMenuPortal",Bx=e=>{const{__scopeDropdownMenu:n,...o}=e,s=Et(n);return d.jsx(CT,{...s,...o})};Bx.displayName=LT;var Wx="DropdownMenuContent",Vx=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...s}=e,a=Fx(Wx,o),l=Et(o),u=h.useRef(!1);return d.jsx(bT,{id:a.contentId,"aria-labelledby":a.triggerId,...l,...s,ref:n,onCloseAutoFocus:Ee(e.onCloseAutoFocus,f=>{var p;u.current||(p=a.triggerRef.current)==null||p.focus(),u.current=!1,f.preventDefault()}),onInteractOutside:Ee(e.onInteractOutside,f=>{const p=f.detail.originalEvent,g=p.button===0&&p.ctrlKey===!0,v=p.button===2||g;(!a.modal||v)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Vx.displayName=Wx;var FT="DropdownMenuGroup",zT=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...s}=e,a=Et(o);return d.jsx(kT,{...a,...s,ref:n})});zT.displayName=FT;var $T="DropdownMenuLabel",UT=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...s}=e,a=Et(o);return d.jsx(ET,{...a,...s,ref:n})});UT.displayName=$T;var BT="DropdownMenuItem",Hx=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...s}=e,a=Et(o);return d.jsx(NT,{...a,...s,ref:n})});Hx.displayName=BT;var WT="DropdownMenuCheckboxItem",VT=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...s}=e,a=Et(o);return d.jsx(RT,{...a,...s,ref:n})});VT.displayName=WT;var HT="DropdownMenuRadioGroup",KT=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...s}=e,a=Et(o);return d.jsx(_T,{...a,...s,ref:n})});KT.displayName=HT;var GT="DropdownMenuRadioItem",qT=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...s}=e,a=Et(o);return d.jsx(jT,{...a,...s,ref:n})});qT.displayName=GT;var YT="DropdownMenuItemIndicator",XT=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...s}=e,a=Et(o);return d.jsx(TT,{...a,...s,ref:n})});XT.displayName=YT;var QT="DropdownMenuSeparator",Kx=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...s}=e,a=Et(o);return d.jsx(MT,{...a,...s,ref:n})});Kx.displayName=QT;var JT="DropdownMenuArrow",ZT=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...s}=e,a=Et(o);return d.jsx(IT,{...a,...s,ref:n})});ZT.displayName=JT;var eM="DropdownMenuSubTrigger",tM=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...s}=e,a=Et(o);return d.jsx(DT,{...a,...s,ref:n})});tM.displayName=eM;var nM="DropdownMenuSubContent",rM=h.forwardRef((e,n)=>{const{__scopeDropdownMenu:o,...s}=e,a=Et(o);return d.jsx(AT,{...a,...s,ref:n,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rM.displayName=nM;var oM=zx,sM=Ux,iM=Bx,Gx=Vx,qx=Hx,Yx=Kx;const aM=oM,lM=sM,Xx=h.forwardRef(({className:e,sideOffset:n=4,...o},s)=>d.jsx(iM,{children:d.jsx(Gx,{ref:s,sideOffset:n,className:xe("z-50 min-w-[8rem] overflow-hidden rounded-md border border-border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...o})}));Xx.displayName=Gx.displayName;const io=h.forwardRef(({className:e,inset:n,...o},s)=>d.jsx(qx,{ref:s,className:xe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n&&"pl-8",e),...o}));io.displayName=qx.displayName;const Qx=h.forwardRef(({className:e,...n},o)=>d.jsx(Yx,{ref:o,className:xe("-mx-1 my-1 h-px bg-border",e),...n}));Qx.displayName=Yx.displayName;const cM={default:{label:"Default",icon:wb},acceptEdits:{label:"Accept Edits",icon:jb},bypassPermissions:{label:"Bypass All",icon:Wb}},Qu=["default","acceptEdits","bypassPermissions"];function uM({permissionMode:e="default",onPermissionModeChange:n,onNewSession:o,onCompact:s,onShare:a,onBugReport:l,onRename:u,onDelete:f,conversationName:p}){const[g,v]=h.useState(!1),[x,w]=h.useState(!1),S=cM[e],E=S.icon,b=()=>{const I=(Qu.indexOf(e)+1)%Qu.length,D=Qu[I];n==null||n(D)},k=()=>{v(!0)},N=()=>{v(!1),o==null||o()},R=()=>{w(!1),f==null||f()};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Te,{variant:"ghost",size:"icon",onClick:b,title:S.label,children:d.jsx(E,{className:"h-4 w-4"})}),d.jsxs(aM,{children:[d.jsx(lM,{asChild:!0,children:d.jsx(Te,{variant:"ghost",size:"icon",children:d.jsx(YC,{className:"h-4 w-4"})})}),d.jsxs(Xx,{align:"end",children:[u&&d.jsxs(io,{onClick:u,children:[d.jsx(Hb,{className:"mr-2 h-4 w-4"})," "]}),d.jsxs(io,{onClick:k,children:[d.jsx(Ab,{className:"mr-2 h-4 w-4"})," "]}),d.jsxs(io,{onClick:s,children:[d.jsx(Rb,{className:"mr-2 h-4 w-4"}),""]}),a&&d.jsxs(io,{onClick:a,children:[d.jsx(Lb,{className:"mr-2 h-4 w-4"}),""]}),d.jsx(Qx,{}),d.jsxs(io,{onClick:l,className:"text-destructive",children:[d.jsx(IC,{className:"mr-2 h-4 w-4"})," "]}),f&&d.jsxs(io,{onClick:()=>w(!0),className:"text-destructive",children:[d.jsx(Zg,{className:"mr-2 h-4 w-4"})," "]})]})]})]}),d.jsx(Un,{open:g,onOpenChange:v,children:d.jsxs(wn,{children:[d.jsxs(Sn,{children:[d.jsx(Cn,{children:" "}),d.jsxs(Yo,{children:["     ?",d.jsx("br",{}),"   ."]})]}),d.jsxs(qo,{children:[d.jsx(Te,{variant:"outline",onClick:()=>v(!1),children:""}),d.jsx(Te,{variant:"destructive",onClick:N,children:"  "})]})]})}),d.jsx(Un,{open:x,onOpenChange:w,children:d.jsxs(wn,{children:[d.jsxs(Sn,{children:[d.jsx(Cn,{children:" "}),d.jsxs(Yo,{children:['"',p,'"  ?',d.jsx("br",{}),"    ."]})]}),d.jsxs(qo,{children:[d.jsx(Te,{variant:"outline",onClick:()=>w(!1),children:""}),d.jsx(Te,{variant:"destructive",onClick:R,children:""})]})]})})]})}function dM({open:e,onClose:n,shareUrl:o,isLoading:s,error:a}){const[l,u]=h.useState(!1);h.useEffect(()=>{e||u(!1)},[e]);const f=async()=>{if(o)try{await navigator.clipboard.writeText(o),u(!0),setTimeout(()=>u(!1),2e3)}catch(p){console.error("Failed to copy:",p)}};return d.jsx(Un,{open:e,onOpenChange:p=>!p&&n(),children:d.jsxs(wn,{className:"sm:max-w-md",children:[d.jsxs(Sn,{children:[d.jsxs(Cn,{className:"flex items-center gap-2",children:[d.jsx(vb,{className:"h-5 w-5"})," "]}),d.jsx(Yo,{children:"        ."})]}),d.jsxs("div",{className:"flex flex-col gap-4 py-4",children:[s&&d.jsx("div",{className:"flex items-center justify-center py-8",children:d.jsx(Wt,{className:"h-8 w-8 animate-spin text-primary"})}),a&&d.jsx("div",{className:"text-destructive text-sm text-center py-4",children:a}),o&&!s&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(wi,{value:o,readOnly:!0,className:"flex-1 font-mono text-sm"}),d.jsx(Te,{variant:"outline",size:"icon",onClick:f,className:"shrink-0",children:l?d.jsx(ao,{className:"h-4 w-4 text-green-500"}):d.jsx(GC,{className:"h-4 w-4"})})]}),o&&!s&&d.jsxs("p",{className:"text-xs text-muted-foreground",children:["    ",d.jsx("br",{}),"    ",d.jsx("br",{}),"    "]})]})]})})}class fM{async getItem(n){try{return localStorage.getItem(n)}catch{return console.warn("[Storage] Failed to get item:",n),null}}async setItem(n,o){try{localStorage.setItem(n,o)}catch(s){throw console.error("[Storage] Failed to set item:",n,s),s}}async removeItem(n){try{localStorage.removeItem(n)}catch{console.warn("[Storage] Failed to remove item:",n)}}async getAllKeys(){try{const n=[];for(let o=0;o<localStorage.length;o++){const s=localStorage.key(o);s!==null&&n.push(s)}return n}catch{return[]}}async multiRemove(n){for(const o of n)await this.removeItem(o)}async clear(){try{localStorage.clear()}catch{console.warn("[Storage] Failed to clear storage")}}}class pM{constructor(){ut(this,"data",{})}async getItem(n){return this.data[n]??null}async setItem(n,o){this.data[n]=o}async removeItem(n){delete this.data[n]}async getAllKeys(){return Object.keys(this.data)}async multiRemove(n){n.forEach(o=>delete this.data[o])}async clear(){this.data={}}}function mM(){return typeof window<"u"&&window.localStorage?new fM:new pM}const yn=mM(),Xa="@estelle:conversation:",hM={expirationMs:10080*60*1e3,maxMessages:500};class gM{constructor(n={}){ut(this,"config");ut(this,"memoryCache");this.config={...hM,...n},this.memoryCache=new Map}getCacheKey(n){return`${Xa}${n}`}async saveMessages(n,o){try{const s=o.slice(-this.config.maxMessages),a={messages:s,metadata:{lastUpdated:Date.now(),messageCount:s.length}};this.memoryCache.set(n,a),await yn.setItem(this.getCacheKey(n),JSON.stringify(a))}catch(s){console.error("[ConversationCache] Failed to save messages:",s)}}async loadMessages(n){try{const o=this.memoryCache.get(n);if(o)return o.messages;const s=await yn.getItem(this.getCacheKey(n));if(!s)return[];const a=JSON.parse(s);return this.isExpired(a.metadata.lastUpdated)?(await this.clearCache(n),[]):(this.memoryCache.set(n,a),a.messages)}catch(o){return console.error("[ConversationCache] Failed to load messages:",o),[]}}async appendMessage(n,o){const s=await this.loadMessages(n);s.push(o),await this.saveMessages(n,s)}async setLastReadMessage(n,o){try{const s=this.memoryCache.get(n);s&&(s.metadata.lastReadMessageId=o,await yn.setItem(this.getCacheKey(n),JSON.stringify(s)))}catch(s){console.error("[ConversationCache] Failed to set last read:",s)}}async getLastReadMessage(n){const o=this.memoryCache.get(n);return o==null?void 0:o.metadata.lastReadMessageId}async clearCache(n){try{this.memoryCache.delete(n),await yn.removeItem(this.getCacheKey(n))}catch(o){console.error("[ConversationCache] Failed to clear cache:",o)}}async clearAllCaches(){try{this.memoryCache.clear();const o=(await yn.getAllKeys()).filter(s=>s.startsWith(Xa));await yn.multiRemove(o)}catch(n){console.error("[ConversationCache] Failed to clear all caches:",n)}}async cleanupExpiredCaches(){try{const o=(await yn.getAllKeys()).filter(a=>a.startsWith(Xa));let s=0;for(const a of o){const l=await yn.getItem(a);if(l){const u=JSON.parse(l);this.isExpired(u.metadata.lastUpdated)&&(await yn.removeItem(a),s++)}}return s}catch(n){return console.error("[ConversationCache] Failed to cleanup:",n),0}}async getStats(){try{const o=(await yn.getAllKeys()).filter(a=>a.startsWith(Xa));let s=0;for(const a of o){const l=await yn.getItem(a);if(l){const u=JSON.parse(l);s+=u.metadata.messageCount}}return{conversationCount:o.length,totalMessages:s}}catch(n){return console.error("[ConversationCache] Failed to get stats:",n),{conversationCount:0,totalMessages:0}}}isExpired(n){return Date.now()-n>this.config.expirationMs}}new gM;function vM({showSessionMenu:e=!0}){var ee;const[n,o]=h.useState(!1),[s,a]=h.useState(!1),[l,u]=h.useState(null),[f,p]=h.useState(!1),[g,v]=h.useState(null),[x,w]=h.useState(!1),[S,E]=h.useState(""),[b,k]=h.useState(null),N=h.useRef(null),{selectedConversation:R,updatePermissionMode:_}=st(),{getIcon:I}=Td(),{isDesktop:D}=Ud(),{openSidebar:P}=h.useContext(Vd),L=h.useCallback(T=>{if(!R)return;k({path:T,content:null});const V=Pt.onDownloadComplete(B=>{if(B.filename===T||B.filename.endsWith(T.replace(/\\/g,"/"))){const oe=new TextDecoder("utf-8").decode(B.bytes);k({path:T,content:oe}),V()}}),A=/^[A-Za-z]:[\\/]/.test(T)||T.startsWith("/")?T:`${R.workingDir}\\${T}`;Pt.requestFile({targetDeviceId:R.pylonId,conversationId:R.conversationId,filename:T,filePath:A})},[R]),M=T=>{const V=T.split(/[/\\]/);return V[V.length-1]};h.useEffect(()=>{var T,V;x&&((T=N.current)==null||T.focus(),(V=N.current)==null||V.select())},[x]),h.useEffect(()=>{w(!1)},[R==null?void 0:R.conversationId]);const H=h.useCallback(()=>{R&&(E(R.conversationName),w(!0))},[R]),Q=h.useCallback(()=>{if(!R)return;const T=S.trim();T&&T!==R.conversationName&&hC(R.conversationId,T),w(!1)},[R,S]),F=h.useCallback(()=>{w(!1)},[]),U=h.useCallback(T=>{T.key==="Enter"?Q():T.key==="Escape"&&F()},[Q,F]),q=h.useCallback(()=>{R&&(mC(R.conversationId),st.getState().clearSelection(),Ye.getState().deleteConversation(R.conversationId))},[R]),X=h.useCallback(()=>{if(!R)return;a(!0),p(!0),v(null),u(null);const T=iC();if(!T){p(!1),v("   .");return}const V=J=>{try{const A=JSON.parse(J.data);if(A.type===_e.SHARE_CREATE_RESULT)if(T.removeEventListener("message",V),p(!1),A.payload.success){const B=A.payload.shareId,Z=`${window.location.origin}/share/${B}`;u(Z)}else v(A.payload.error||"   .")}catch{}};T.addEventListener("message",V),bC(R.conversationId),setTimeout(()=>{T.removeEventListener("message",V),f&&(p(!1),v("  ."))},1e4)},[R,f]);if(!R)return d.jsxs("div",{className:"px-3 py-1 bg-secondary/30 flex items-center",children:[!D&&d.jsx("button",{onClick:P,className:"p-1.5 hover:bg-secondary/50 rounded transition-colors mr-1",children:d.jsx(Sh,{className:"h-5 w-5"})}),d.jsx("span",{className:"text-sm text-muted-foreground",children:" "})]});const K=I(R.pylonId),Y=Bd(K);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"px-3 py-1 bg-secondary/30 flex items-center",children:[!D&&d.jsx("button",{onClick:P,className:"p-1.5 hover:bg-secondary/50 rounded transition-colors mr-1",children:d.jsx(Sh,{className:"h-5 w-5"})}),d.jsx("div",{className:"flex-1 flex items-center gap-2 min-w-0",children:x?d.jsxs("div",{className:"flex items-center gap-1 flex-1 min-w-0",children:[d.jsx("input",{ref:N,value:S,onChange:T=>E(T.target.value),onKeyDown:U,className:"flex-1 min-w-0 px-2 py-0.5 text-sm font-semibold bg-background border border-primary/50 rounded outline-none"}),d.jsx(Te,{variant:"ghost",size:"icon",className:"h-6 w-6 text-primary",onClick:Q,children:d.jsx(ao,{className:"h-4 w-4"})}),d.jsx(Te,{variant:"ghost",size:"icon",className:"h-6 w-6 text-muted-foreground",onClick:F,children:d.jsx(Go,{className:"h-4 w-4"})})]}):d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"font-semibold truncate",children:R.conversationName}),d.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[d.jsx(Y,{className:"h-3 w-3 opacity-60"}),d.jsx("span",{className:"text-xs truncate opacity-60",children:R.workspaceName})]})]})}),e&&!x&&d.jsx(uM,{permissionMode:R.permissionMode,onPermissionModeChange:T=>{vC(R.conversationId,T),_(R.conversationId,T)},onNewSession:()=>{Ye.getState().clearMessages(R.conversationId),Xv(R.conversationId),qg(R.conversationId,"new_session")},onShare:X,onBugReport:()=>o(!0),onRename:H,onDelete:q,conversationName:R.conversationName})]}),R.linkedDocuments.length>0&&d.jsx("div",{className:"px-3 py-1 bg-secondary/20 border-t border-border/30 flex items-center gap-1.5 overflow-x-auto",children:R.linkedDocuments.map(T=>d.jsxs("button",{onClick:()=>L(T.path),className:"inline-flex items-center gap-1 px-2 py-0.5 bg-secondary/50 hover:bg-secondary/80 rounded text-xs text-muted-foreground hover:text-foreground transition-colors shrink-0",title:T.path,children:[d.jsx(eb,{className:"h-3 w-3"}),d.jsx("span",{className:"truncate max-w-[120px]",children:M(T.path)})]},T.path))}),d.jsx(Wd,{open:n,onClose:()=>o(!1),onSubmit:async T=>{if(!SC(T,R==null?void 0:R.conversationId,R!=null&&R.workspaceId?Number(R.workspaceId):void 0))throw new Error("WebSocket   ")}}),d.jsx(dM,{open:s,onClose:()=>a(!1),shareUrl:l,isLoading:f,error:g}),b&&d.jsx(Fy,{open:!0,onClose:()=>k(null),file:{filename:M(b.path),size:((ee=b.content)==null?void 0:ee.length)??0,description:b.path},content:b.content})]})}function yM(){var D;const e=Ye(P=>P.currentConversationId),n=hi(),o=(n==null?void 0:n.status)??"idle",s=(((D=n==null?void 0:n.pendingRequests)==null?void 0:D.length)??0)>0,{selectedConversation:a,connectedPylons:l}=st(),{queueMessage:u,dequeueMessage:f,clearAttachedImages:p}=jd(),{startUpload:g,updateProgress:v,completeUpload:x,failUpload:w}=ol(),S=h.useRef(null);h.useEffect(()=>Pt.onProgress((L,M,H)=>{const Q=Pt.getTransfer(L);if(!Q||!Q.isUpload)return;const{uploads:F}=ol.getState();F[L]||g({blobId:L,filename:Q.filename??"unknown",totalChunks:H}),v(L,M)}),[g,v]),h.useEffect(()=>Pt.onUploadComplete(L=>{x(L.blobId,L.pylonPath);const M=S.current;if(M&&(M.pylonPaths.push(L.pylonPath),M.thumbnails.push(L.thumbnailBase64),M.pylonPaths.length>=M.attachments.length)){const H={id:`user-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,role:"user",type:"text",content:M.text,timestamp:Date.now(),attachments:M.attachments.map((Q,F)=>({filename:Q.fileName,path:M.pylonPaths[F]||Q.uri,thumbnail:M.thumbnails[F]}))};M.conversationId&&Ye.getState().addMessage(M.conversationId,H),xh(M.conversationId,M.text,M.pylonPaths),S.current=null,p()}}),[p,x]);const E=h.useCallback(async(P,L)=>{if(!a)return;const M=a.conversationId,H=a.workspaceId,Q=L==null?void 0:L.filter(U=>U.file);if(Q&&Q.length>0){const U=l[0];if(!U){console.error("[ChatArea] No connected Pylon");return}u(P),S.current={text:P,conversationId:M,workspaceId:H,pylonPaths:[],thumbnails:[],attachments:Q};for(const q of Q)if(q.file)try{const X=new Uint8Array(await q.file.arrayBuffer());await Pt.uploadImageBytes({bytes:X,filename:q.fileName,targetDeviceId:U.deviceId,workspaceId:H,conversationId:M,message:P,mimeType:q.mimeType})}catch(X){console.error("[ChatArea] Upload error:",X),S.current=null,f()}return}const F={id:`user-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,role:"user",type:"text",content:P,timestamp:Date.now(),attachments:L==null?void 0:L.map(U=>({filename:U.fileName,path:U.uri}))};Ye.getState().addMessage(M,F),xh(M,P,L==null?void 0:L.map(U=>U.uri))},[a,l,u,f]),b=h.useCallback(()=>{a&&qg(a.conversationId,"stop")},[a]),k=o==="working",N=s;dt(P=>e?P.getConversationSync(e):null);const R=dt(P=>e?P.hasMoreBefore(e):!1),_=dt(P=>e?P.isLoadingMore(e):!1),I=h.useCallback(()=>{if(!a||_||!R)return;const P=a.conversationId;dt.getState().setLoadingMore(P,!0);const L=dt.getState().getConversationSync(P),M=(L==null?void 0:L.syncedFrom)??0;pC(P,M)},[a,_,R]);return d.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden bg-background",children:[d.jsx(vM,{}),d.jsx(s_,{hasMoreHistory:R,isLoadingHistory:_,onLoadMoreHistory:I}),N?d.jsx(l_,{}):d.jsx(_N,{disabled:k,onSend:E,onStop:b})]})}function xM(e={}){const{nonce:n,locale:o,onScriptLoadSuccess:s,onScriptLoadError:a}=e,[l,u]=h.useState(!1),f=h.useRef(s);f.current=s;const p=h.useRef(a);return p.current=a,h.useEffect(()=>{const g=document.createElement("script");return g.src="https://accounts.google.com/gsi/client",o&&(g.src+=`?hl=${o}`),g.async=!0,g.defer=!0,g.nonce=n,g.onload=()=>{var v;u(!0),(v=f.current)===null||v===void 0||v.call(f)},g.onerror=()=>{var v;u(!1),(v=p.current)===null||v===void 0||v.call(p)},document.body.appendChild(g),()=>{document.body.removeChild(g)}},[n]),l}const Jx=h.createContext(null);function wM({clientId:e,nonce:n,locale:o,onScriptLoadSuccess:s,onScriptLoadError:a,children:l}){const u=xM({nonce:n,onScriptLoadSuccess:s,onScriptLoadError:a,locale:o}),f=h.useMemo(()=>({locale:o,clientId:e,scriptLoadedSuccessfully:u}),[e,u]);return De.createElement(Jx.Provider,{value:f},l)}function SM(){const e=h.useContext(Jx);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function CM(e){var n;return(n=e==null?void 0:e.clientId)!==null&&n!==void 0?n:e==null?void 0:e.client_id}const bM={large:40,medium:32,small:20};function kM({onSuccess:e,onError:n,useOneTap:o,promptMomentNotification:s,type:a="standard",theme:l="outline",size:u="large",text:f,shape:p,logo_alignment:g,width:v,click_listener:x,state:w,containerProps:S,...E}){const b=h.useRef(null),{clientId:k,locale:N,scriptLoadedSuccessfully:R}=SM(),_=h.useRef(e);_.current=e;const I=h.useRef(n);I.current=n;const D=h.useRef(s);return D.current=s,h.useEffect(()=>{var P,L,M,H,Q,F,U,q,X;if(R)return(M=(L=(P=window==null?void 0:window.google)===null||P===void 0?void 0:P.accounts)===null||L===void 0?void 0:L.id)===null||M===void 0||M.initialize({client_id:k,callback:K=>{var Y;if(!(K!=null&&K.credential))return(Y=I.current)===null||Y===void 0?void 0:Y.call(I);const{credential:ee,select_by:T}=K;_.current({credential:ee,clientId:CM(K),select_by:T})},...E}),(F=(Q=(H=window==null?void 0:window.google)===null||H===void 0?void 0:H.accounts)===null||Q===void 0?void 0:Q.id)===null||F===void 0||F.renderButton(b.current,{type:a,theme:l,size:u,text:f,shape:p,logo_alignment:g,width:v,locale:N,click_listener:x,state:w}),o&&((X=(q=(U=window==null?void 0:window.google)===null||U===void 0?void 0:U.accounts)===null||q===void 0?void 0:q.id)===null||X===void 0||X.prompt(D.current)),()=>{var K,Y,ee;o&&((ee=(Y=(K=window==null?void 0:window.google)===null||K===void 0?void 0:K.accounts)===null||Y===void 0?void 0:Y.id)===null||ee===void 0||ee.cancel())}},[k,R,o,a,l,u,f,p,g,v,N]),De.createElement("div",{...S,ref:b,style:{height:bM[u],...S==null?void 0:S.style}})}function EM({onSuccess:e,onError:n,disabled:o}){return d.jsx("div",{style:{opacity:o?.5:1,pointerEvents:o?"none":"auto"},children:d.jsx(kM,{onSuccess:s=>{s.credential&&e(s.credential)},onError:n})})}const NM="816117332587-5v8srut2u9t6u0f5kjeqcoglluncp6lq.apps.googleusercontent.com",RM={email:"",name:"",picture:null};function _M(){const{login:e,error:n,isLoading:o}=il(),s=l=>{e({idToken:l,user:RM})},a=()=>{console.error("Google login failed")};return d.jsx(wM,{clientId:NM,children:d.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50",children:d.jsxs("div",{className:"p-8 bg-white rounded-lg shadow-md",children:[d.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Estelle"}),o&&d.jsx("div",{"data-testid":"loading-indicator",className:"text-center mb-4",children:d.jsx("span",{className:"text-gray-500",children:"Loading..."})}),n&&d.jsxs("div",{className:"text-red-500 text-center mb-4",children:["Login failed: ",n]}),d.jsx("div",{className:"flex justify-center",children:d.jsx(EM,{onSuccess:s,onError:a,disabled:o})})]})})})}function jM(){const{isConnected:e,isAuthenticated:n}=Rd(),{isAuthenticated:o}=il(),s=dt(u=>u.workspaceSync);if(!o)return d.jsx(_M,{});const l=e?n?s!=="synced"?s==="failed"?"  ":"  ...":null:" ...":"Relay   ...";return d.jsxs(d.Fragment,{children:[d.jsx(KN,{sidebar:d.jsx(z2,{}),main:d.jsx(yM,{})}),l&&d.jsx(ON,{message:l})]})}function TM(e){const{setShareId:n,setConnected:o,setAuthenticated:s,setConversationId:a,setError:l,setMessages:u,addMessage:f,reset:p}=sl(),g=h.useRef(null),v=h.useRef(!1),x=h.useRef(null),w=h.useRef(null),S=h.useCallback(k=>{const{conversationId:N,isAuthenticated:R}=sl.getState();switch(k.type){case _e.AUTH_RESULT:{const _=k.payload;if(_.success){s(!0),_.conversationId!==void 0&&a(_.conversationId);const I=g.current;I&&I.readyState===WebSocket.OPEN&&I.send(JSON.stringify({type:"share_history",payload:{shareId:e}}))}else l(_.error??"Authentication failed");break}case"share_history_result":{const _=k.payload;if(_.success===!1){l(_.error??"Failed to load share history");break}_.conversationId!==void 0&&a(_.conversationId),_.messages&&u(_.messages);break}case _e.CLAUDE_EVENT:{const _=k.payload;if(!R||N===null||_.conversationId!==N)break;_.event.type==="message"&&_.event.message&&f(_.event.message);break}}},[e,s,a,l,u,f]),E=h.useCallback(()=>{const k=al.url;try{const N=new WebSocket(k);g.current=N,N.onopen=()=>{o(!0),N.send(JSON.stringify({type:_e.AUTH,payload:{deviceType:"viewer",shareId:e}}))},N.onclose=()=>{g.current===N&&(o(!1),!v.current&&!x.current&&(x.current=setTimeout(()=>{x.current=null,E()},al.reconnectInterval)))},N.onerror=()=>{l("WebSocket connection error")},N.onmessage=R=>{try{const _=JSON.parse(R.data);S(_)}catch{}}}catch{l("Failed to create WebSocket connection")}},[e,o,l,S]),b=h.useCallback(()=>{v.current=!0,x.current&&(clearTimeout(x.current),x.current=null),g.current&&(g.current.close(),g.current=null)},[]);h.useEffect(()=>{if(e&&(w.current!==null&&w.current!==e&&(b(),p(),v.current=!1),w.current=e,n(e),!g.current))return v.current=!1,E(),()=>{b()}},[e,n,E,b,p])}function MM(){const e=sl(w=>w.messages),n=h.useRef(null),[o,s]=h.useState(!1),{childToolsMap:a,parentToolIds:l}=h.useMemo(()=>{const w=new Map,S=new Set;return e.forEach(E=>{if(E.type==="tool_start"||E.type==="tool_complete"){const b=E,k=b.parentToolUseId;if(k){S.add(E.id);const N={id:E.id,toolName:b.toolName,toolInput:b.toolInput,toolOutput:E.type==="tool_complete"?E.output||E.error:void 0,isComplete:E.type==="tool_complete",success:E.type==="tool_complete"?E.success:void 0,timestamp:E.timestamp},R=w.get(k)||[],_=R.findIndex(I=>I.id===N.id);_>=0?R[_]=N:R.push(N),w.set(k,R)}}}),{childToolsMap:w,parentToolIds:S}},[e]),f=h.useCallback(()=>{const w=[];return e.forEach((S,E)=>{l.has(S.id)||w.push({type:"message",data:S,key:S.id||`msg-${E}`})}),w},[e,l])(),p=h.useCallback(()=>{const w=n.current;if(!w)return;const S=w.scrollHeight-w.scrollTop-w.clientHeight>200;s(S)},[]),g=h.useCallback(()=>{const w=n.current;w&&w.scrollTo({top:w.scrollHeight,behavior:"smooth"})},[]),v=w=>{if(w.type==="message"){const S=w.data;return d.jsx("div",{className:"mb-1",children:x(S)},w.key)}return null},x=w=>{switch(w.type){case"result":{const S=w;return d.jsx(Py,{durationMs:S.resultInfo.durationMs,inputTokens:S.resultInfo.inputTokens,outputTokens:S.resultInfo.outputTokens,cacheReadTokens:S.resultInfo.cacheReadTokens})}case"aborted":{const S=w;return d.jsx(Oy,{reason:S.reason})}case"file_attachment":{const S=w;return d.jsx(Ly,{file:S.file,onDownload:()=>{},onOpen:()=>{}})}default:{const S=w.type==="tool_start"||w.type==="tool_complete"?a.get(w.id):void 0;return d.jsx(Ay,{message:w,childTools:S,onImagePress:()=>{},onMcpFileClick:()=>{}})}}};return f.length===0?d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center h-full",children:[d.jsx(Wt,{className:"h-8 w-8 animate-spin text-primary mb-4"}),d.jsx("span",{className:"text-muted-foreground",children:"  ..."})]}):d.jsxs("div",{className:"h-full relative overflow-hidden",children:[d.jsx("div",{ref:n,className:"h-full overflow-y-auto flex flex-col p-4",onScroll:p,children:f.map(v)}),o&&d.jsx(Te,{variant:"secondary",size:"icon",onClick:g,className:"absolute right-4 bottom-4 rounded-full shadow-lg",children:d.jsx(On,{className:"h-5 w-5"})})]})}function IM(){const{shareId:e}=$S(),{isConnected:n,isAuthenticated:o,error:s}=sl();return TM(e??""),e?s?d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:[d.jsx(Xg,{className:"h-16 w-16 text-destructive mb-4"}),d.jsx("h1",{className:"text-xl font-semibold text-foreground mb-2",children:" "}),d.jsx("p",{className:"text-muted-foreground text-center max-w-md",children:s})]}):n?o?d.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[d.jsx("header",{className:"border-b bg-card px-4 py-3",children:d.jsxs("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[d.jsx("h1",{className:"text-lg font-semibold text-foreground",children:" "}),d.jsx("span",{className:"text-xs text-muted-foreground",children:" "})]})}),d.jsx("main",{className:"flex-1 overflow-hidden",children:d.jsx("div",{className:"h-full max-w-4xl mx-auto",children:d.jsx(MM,{})})})]}):d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:[d.jsx(Wt,{className:"h-12 w-12 animate-spin text-primary mb-4"}),d.jsx("p",{className:"text-muted-foreground",children:"   ..."})]}):d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:[d.jsx(Wt,{className:"h-12 w-12 animate-spin text-primary mb-4"}),d.jsx("p",{className:"text-muted-foreground",children:"  ..."})]}):d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:[d.jsx(hb,{className:"h-16 w-16 text-muted-foreground mb-4"}),d.jsx("h1",{className:"text-xl font-semibold text-foreground mb-2",children:"  "}),d.jsx("p",{className:"text-muted-foreground text-center",children:"   ."})]})}function DM(){h.useEffect(()=>{const e=()=>{var s;const o=((s=window.visualViewport)==null?void 0:s.height)??window.innerHeight;document.documentElement.style.setProperty("--app-height",`${o}px`)};e();const n=window.visualViewport;return n?(n.addEventListener("resize",e),n.addEventListener("scroll",e),window.addEventListener("orientationchange",()=>{setTimeout(e,100)}),()=>{n.removeEventListener("resize",e),n.removeEventListener("scroll",e)}):(window.addEventListener("resize",e),()=>window.removeEventListener("resize",e))},[])}function AM(){h.useEffect(()=>{oC()},[])}function PM(){h.useEffect(()=>{document.title=rC.title},[])}function OM(){const e=Wr(),{setConnected:n,setAuthenticated:o,setDeviceId:s}=Rd(),{isAuthenticated:a,idToken:l}=il(),u=h.useRef(null),f=e.pathname.startsWith("/share"),p=h.useCallback(g=>{var v;if(console.log("[Relay] Message:",g.type),g.type==="auth_result"){const x=g.payload;x.success&&((v=x.device)==null?void 0:v.deviceId)!==void 0&&(o(!0),s(String(x.device.deviceId)),cl.startInitialSync());return}if(g.type.startsWith("blob_")){Pt.handleMessage(g);return}jN(g)},[o,s]);h.useEffect(()=>{if(f||!a)return;const g=al.url;console.log("[Relay] Connecting to:",g);let v=null,x=!1;const w=()=>{try{const S=new WebSocket(g);u.current=S,Iu(S),S.onopen=()=>{console.log("[Relay] Connected"),n(!0),Pt.setSender({send:k=>S.send(JSON.stringify(k))});const E={deviceType:"app"},b=il.getState().idToken;b&&(E.idToken=b),S.send(JSON.stringify({type:"auth",payload:E}))},S.onclose=()=>{if(console.log("[Relay] Disconnected"),u.current!==S){console.log("[Relay] Ignoring close from stale connection");return}cl.cleanup(),n(!1),Iu(null),!x&&!v&&(v=setTimeout(()=>{v=null,w()},al.reconnectInterval))},S.onerror=E=>{console.error("[Relay] Error:",E)},S.onmessage=E=>{try{const b=JSON.parse(E.data);p(b)}catch(b){console.error("[Relay] Failed to parse message:",b)}}}catch(S){console.error("[Relay] Connection error:",S)}};return w(),()=>{x=!0,v&&(clearTimeout(v),v=null),u.current&&(u.current.close(),u.current=null,Iu(null))}},[n,p,a,l,f])}function LM(){return AM(),PM(),DM(),OM(),d.jsxs(t1,{children:[d.jsx(Zu,{path:"/",element:d.jsx(jM,{})}),d.jsx(Zu,{path:"/share/:shareId",element:d.jsx(IM,{})})]})}document.addEventListener("keydown",e=>{if(e.key==="Tab"){const n=e.target;n.tagName==="INPUT"||n.tagName==="TEXTAREA"||e.preventDefault()}});nS.createRoot(document.getElementById("root")).render(d.jsx(De.StrictMode,{children:d.jsx(E1,{children:d.jsx(LM,{})})}));
//# sourceMappingURL=index-PfCBjQva.js.map
